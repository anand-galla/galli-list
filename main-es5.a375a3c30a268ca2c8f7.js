function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var a=n("qOnz"),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.a;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=i(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),i(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===t?"[DEFAULT]":t);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),a=this.destination;a.add(i);var s=Object(r.a)(this,e,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"6Uf2":function(e,t,n){"use strict";(function(e){var t,r=n("zIRd"),i=n("mAIw"),o=n("qOnz"),a=n("q/0M"),s=n("/6Yf"),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.F)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.z)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.h)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),l=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new a.b("@firebase/database"),p=(t=1,function(){return t++}),v=function(e){var t=Object(o.E)(e),n=new o.c;n.update(t);var r=n.digest();return o.f.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=e.apply(null,a):r+="object"==typeof a?Object(o.F)(a):a,r+=" "}return r},m=null,g=!0,_=function(e,t){Object(o.d)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(d.logLevel=a.a.VERBOSE,m=d.log.bind(d),t&&f.set("logging_enabled",!0)):"function"==typeof e?m=e:(m=null,f.remove("logging_enabled"))},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===g&&(g=!1,null===m&&!0===f.get("logging_enabled")&&_(!0)),m){var n=y.apply(null,e);m(n)}},w=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];b.apply(void 0,Object(i.f)([e],Object(i.e)(t)))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(i.f)([],Object(i.e)(e)));d.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(i.f)([],Object(i.e)(e)));throw d.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(i.f)([],Object(i.e)(e)));d.warn(n)},E=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",O="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===T||t===O)return-1;if(t===T||e===O)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.F)(t))},D=function e(t){if("object"!=typeof t||null===t)return Object(o.F)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.F)(n[a]),i+=":",i+=e(t[n[a]]);return i+"}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function N(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var R=function(e){var t,n,r,i,a;Object(o.d)(!E(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),F=function(e){if(j.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},M=function(e){try{e()}catch(t){setTimeout((function(){throw S("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},L=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function U(){return new V("")}function q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function B(e){return e.pieces_.length-e.pieceNum_}function z(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new V(e.pieces_,t)}function H(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function G(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function W(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function K(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new V(t,0)}function Q(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof V)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new V(n,0)}function Y(e){return e.pieceNum_>=e.pieces_.length}function X(e,t){var n=q(e),r=q(t);if(null===n)return t;if(n===r)return X(z(e),z(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Z(e,t){for(var n=W(e,0),r=W(t,0),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function J(e,t){if(B(e)!==B(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function $(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(B(e)>B(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ee=function(e,t){this.errorPrefix_=t,this.parts_=W(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.D)(this.parts_[n]);te(this)};function te(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ne(e))}function ne(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var re=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ie=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}();function oe(e,t,n){var r;if(Object(o.d)("string"==typeof t,"typeof type must == string"),Object(o.d)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return N(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ae,se,ue,ce,le,he,fe,de=function(e,t){var n=pe(e),r=n.namespace;return"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ie(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new V(n.pathString)}},pe=function(e){var t="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=Object(i.g)(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},ve=/[\[\].#$\/\u0000-\u001F\u007F]/,ye=/[\[\].#$\u0000-\u001F\u007F]/,me=function(e){return"string"==typeof e&&0!==e.length&&!ve.test(e)},ge=function(e){return"string"==typeof e&&0!==e.length&&!ye.test(e)},_e=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!E(e)||e&&"object"==typeof e&&Object(o.h)(e,".sv")},be=function(e,t,n,r,i){i&&void 0===n||we(Object(o.l)(e,t,i),n,r)},we=function e(t,n,r){var i=r instanceof V?new ee(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ne(i));if("function"==typeof n)throw new Error(t+"contains a function "+ne(i)+" with contents = "+n.toString());if(E(n))throw new Error(t+"contains "+n.toString()+" "+ne(i));if("string"==typeof n&&n.length>10485760/3&&Object(o.D)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+ne(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(N(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!me(n)))throw new Error(t+" contains an invalid key ("+n+") "+ne(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;c=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(c),u.byteLength_+=Object(o.D)(c),te(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(o.D)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+ne(i)+" in addition to actual children.")}},ke=function(e,t,n,r,i){if(!i||void 0!==n){var a=Object(o.l)(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];N(n,(function(e,t){var n=new V(e);if(we(a,t,Q(r,n)),".priority"===H(n)&&!_e(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=W(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!me(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Z);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&$(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},Ce=function(e,t,n,r){if(!r||void 0!==n){if(E(n))throw new Error(Object(o.l)(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_e(n))throw new Error(Object(o.l)(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Se=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.l)(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ee=function(e,t,n,r){if(!(r&&void 0===n||me(n)))throw new Error(Object(o.l)(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Te=function(e,t,n,r){if(!(r&&void 0===n||ge(n)))throw new Error(Object(o.l)(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Oe=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Te(e,t,n,r)},Ie=function(e,t){if(".info"===q(t))throw new Error(e+" failed = Can't modify data under /.info/")},xe=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!me(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ge(e)}(r))throw new Error(Object(o.l)(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ae=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.l)(e,t,r)+"must be a boolean.")},De=function(e){return"number"==typeof e?"number:"+R(e):"string:"+e},Pe=function(e){if(e.isLeafNode()){var t=e.val();Object(o.d)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(o.h)(t,".sv"),"Priority must be a string or number.")}else Object(o.d)(e===ae||e.isEmpty(),"priority of unexpected type.");Object(o.d)(e===ae||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ne=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Pe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return se},set:function(e){se=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Y(t)?this:".priority"===q(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=q(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.d)(".priority"!==r||1===B(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(z(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+De(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?R(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.d)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.d)(i>=0,"Unknown leaf type: "+n),Object(o.d)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Re=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),je=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Me.EMPTY_NODE,this.right=null!=o?o:Me.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Me.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Me.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Fe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new je(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Me=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,je.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,je.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Re(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Re(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Fe,e}(),Le=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ve=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Le(T,e),r=new Le(T,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Le.MIN},e}(),Ue=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(O,new Ne("[PRIORITY-POST]",ce))},t.prototype.makePost=function(e,t){var n=ue(e);return new Le(t,new Ne("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ve)),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return le},set:function(e){le=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return I(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.e)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(O,le)},t.prototype.makePost=function(e,t){return Object(o.d)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Le(e,le)},t.prototype.toString=function(){return".key"},t}(Ve),Be=new qe,ze=Math.log(2),He=function(){function e(e){this.count=parseInt(Math.log(e+1)/ze,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ge=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var u=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new je(a,o.node,je.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new je(a,o.node,je.BLACK,c,l)}(i+1,a),c=e[i],l=n?n(c):c;s(new je(l,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?a(l,je.BLACK):(a(l,je.BLACK),a(l,je.RED))}return i}(new He(e.length));return new Me(r||t,i)},We={},Ke=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.d)(We&&Ue,"ChildrenNode.ts has not been loaded"),he=he||new e({".priority":We},{".priority":Ue})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.C)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Me?t:null},e.prototype.hasIndex=function(e){return Object(o.h)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.d)(t!==Be,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Le.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Ge(a,t.getCompare()):We;var l=t.toString(),h=Object(i.a)({},this.indexSet_);h[l]=t;var f=Object(i.a)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.A)(this.indexes_,(function(e,i){var a=Object(o.C)(r.indexSet_,i);if(Object(o.d)(a,"Missing index implementation for "+i),e===We){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Le.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Ge(s,a.getCompare())}return We}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Le(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.A)(this.indexes_,(function(e){if(e===We)return e;var r=n.get(t.name);return r?e.remove(new Le(t.name,r)):e})),this.indexSet_)},e}();function Qe(e,t){return I(e.name,t.name)}function Ye(e,t){return I(e,t)}var Xe=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Pe(this.priorityNode_),this.children_.isEmpty()&&Object(o.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return fe||(fe=new e(new Me(Ye),null,Ke.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||fe},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?fe:t},e.prototype.getChild=function(e){var t=q(e);return null===t?this:this.getImmediateChild(t).getChild(z(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.d)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Le(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?fe:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=q(e);if(null===n)return t;Object(o.d)(".priority"!==q(e)||1===B(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(z(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ue,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+De(this.getPriority().val())+":"),this.forEachChild(Ue,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Le(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ze?-1:0},e.prototype.withIndex=function(t){if(t===Be||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Be||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ue),r=t.getIterator(Ue),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Be?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ze=new(function(e){function t(){return e.call(this,new Me(Ye),Xe.EMPTY_NODE,Ke.Default)||this}return Object(i.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Xe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Xe));function Je(e,t){if(void 0===t&&(t=null),null===e)return Xe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.d)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ne(e,Je(t));if(e instanceof Array){var n=Xe.EMPTY_NODE;return N(e,(function(t,r){if(Object(o.h)(e,t)&&"."!==t.substring(0,1)){var i=Je(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Je(t))}var r=[],i=!1;if(N(e,(function(e,t){if("."!==e.substring(0,1)){var n=Je(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Le(e,n)))}})),0===r.length)return Xe.EMPTY_NODE;var a=Ge(r,Qe,(function(e){return e.name}),Ye);if(i){var s=Ge(r,Ue.getCompare());return new Xe(a,Je(t),new Ke({".priority":s},{".priority":Ue}))}return new Xe(a,Je(t),Ke.Default)}Object.defineProperties(Le,{MIN:{value:new Le(T,Xe.EMPTY_NODE)},MAX:{value:new Le(O,Ze)}}),qe.__EMPTY_NODE=Xe.EMPTY_NODE,Ne.__childrenNodeConstructor=Xe,ae=Ze,ce=Ze,function(e){ue=e}(Je);var $e=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function et(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var tt,nt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=$e.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Y(this.path)){if(null!=this.affectedTree.value)return Object(o.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(t));return new e(U(),n,this.revert)}return Object(o.d)(q(this.path)===t,"operationForChild called for unrelated child."),new e(z(this.path),this.affectedTree,this.revert)},e}(),rt=function(){function e(e,t){void 0===t&&(tt||(tt=new Me(x)),t=tt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return N(t,(function(e,t){n=n.set(new V(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:U(),value:this.value};if(Y(e))return null;var n=q(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(z(e),t);return null!=i?{path:Q(new V(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Y(t))return this;var n=q(t),r=this.children.get(n);return null!==r?r.subtree(z(t)):new e(null)},e.prototype.set=function(t,n){if(Y(t))return new e(n,this.children);var r=q(t),i=(this.children.get(r)||new e(null)).set(z(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Y(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=q(t),r=this.children.get(n);if(r){var i=r.remove(z(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Y(e))return this.value;var t=q(e),n=this.children.get(t);return n?n.get(z(e)):null},e.prototype.setTree=function(t,n){if(Y(t))return n;var r,i=q(t),o=(this.children.get(i)||new e(null)).setTree(z(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(U(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Q(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,U(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Y(e))return null;var i=q(e),o=this.children.get(i);return o?o.findOnPath_(z(e),Q(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,U(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Y(t))return this;this.value&&r(n,this.value);var i=q(t),o=this.children.get(i);return o?o.foreachOnPath_(z(t),Q(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(U(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Q(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),it=function(){function e(e,t){this.source=e,this.path=t,this.type=$e.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Y(this.path)?new e(this.source,U()):new e(this.source,z(this.path))},e}(),ot=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=$e.OVERWRITE}return e.prototype.operationForChild=function(t){return Y(this.path)?new e(this.source,U(),this.snap.getImmediateChild(t)):new e(this.source,z(this.path),this.snap)},e}(),at=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=$e.MERGE}return e.prototype.operationForChild=function(t){if(Y(this.path)){var n=this.children.subtree(new V(t));return n.isEmpty()?null:n.value?new ot(this.source,U(),n.value):new e(this.source,U(),n)}return Object(o.d)(q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,z(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),st=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;var t=q(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}();function ut(e,t){return{eventCache:e,serverCache:t}}function ct(e,t,n,r){return ut(new st(t,n,r),e.serverCache)}function lt(e,t,n,r){return ut(e.eventCache,new st(t,n,r))}function ht(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ft(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}function dt(e){return{type:"value",snapshotNode:e}}function pt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var mt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.d)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(vt(t,s)):Object(o.d)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(pt(t,n)):a.trackChildChange(yt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ue,(function(e,r){t.hasChild(e)||n.trackChildChange(vt(e,r))})),t.isLeafNode()||t.forEachChild(Ue,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(yt(t,r,i))}else n.trackChildChange(pt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Xe.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),gt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.d)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,yt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,vt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,pt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.e)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,yt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),_t=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new rt(null))},e}();function bt(e,t,n){if(Y(t))return new _t(new rt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=X(i,t);return o=o.updateChild(a,n),new _t(e.writeTree_.set(i,o))}var s=new rt(n),u=e.writeTree_.setTree(t,s);return new _t(u)}function wt(e,t,n){var r=e;return N(n,(function(e,n){r=bt(r,Q(t,e),n)})),r}function kt(e,t){if(Y(t))return _t.empty();var n=e.writeTree_.setTree(t,new rt(null));return new _t(n)}function Ct(e,t){return null!=St(e,t)}function St(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(X(n.path,t)):null}function Et(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ue,(function(e,n){t.push(new Le(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Le(e,n.value))})),t}function Tt(e,t){if(Y(t))return e;var n=St(e,t);return new _t(null!=n?new rt(n):e.writeTree_.subtree(t))}function Ot(e){return e.writeTree_.isEmpty()}function It(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(o.d)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(Q(t,n),a,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(Q(t,".priority"),i)),r}(U(),e.writeTree_,t)}function xt(e,t){return Ut(t,e)}function At(e,t){if(e.snap)return $(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&$(Q(e.path,n),t))return!0;return!1}function Dt(e){return e.visible}function Pt(e,t,n){for(var r=_t.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)$(n,s)?r=bt(r,u=X(n,s),a.snap):$(s,n)&&(u=X(s,n),r=bt(r,U(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.e)("WriteRecord should have .snap or .children");if($(n,s))r=wt(r,u=X(n,s),a.children);else if($(s,n))if(Y(u=X(s,n)))r=wt(r,U(),a.children);else{var c=Object(o.C)(a.children,q(u));if(c){var l=c.getChild(z(u));r=bt(r,U(),l)}}}}}return r}function Nt(e,t,n,r,i){if(r||i){var o=Tt(e.visibleWrites,t);return!i&&Ot(o)?n:i||null!=n||Ct(o,U())?It(Pt(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&($(e.path,t)||$(t,e.path))}),t),n||Xe.EMPTY_NODE):null}var a=St(e.visibleWrites,t);if(null!=a)return a;var s=Tt(e.visibleWrites,t);return Ot(s)?n:null!=n||Ct(s,U())?It(s,n||Xe.EMPTY_NODE):null}function Rt(e,t,n,r){return Nt(e.writeTree,e.treePath,t,n,r)}function jt(e,t){return function(e,t,n){var r=Xe.EMPTY_NODE,i=St(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ue,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Tt(e.visibleWrites,t);return n.forEachChild(Ue,(function(e,t){var n=It(Tt(o,new V(e)),t);r=r.updateImmediateChild(e,n)})),Et(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Et(Tt(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ft(e,t,n,r){return function(e,t,n,r,i){Object(o.d)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Q(t,n);if(Ct(e.visibleWrites,a))return null;var s=Tt(e.visibleWrites,a);return Ot(s)?i.getChild(n):It(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Mt(e,t){return function(e,t){return St(e.visibleWrites,t)}(e.writeTree,Q(e.treePath,t))}function Lt(e,t,n){return function(e,t,n,r){var i=Q(t,n),o=St(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?It(Tt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Vt(e,t){return Ut(Q(e.treePath,t),e.writeTree)}function Ut(e,t){return{treePath:e,writeTree:t}}var qt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Bt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new st(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lt(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ft(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Tt(e.visibleWrites,t),c=St(u,U());if(null!=c)s=c;else{if(null==n)return[];s=It(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]},e}();function zt(e,t,n,r,i,a){var s=t.eventCache;if(null!=Mt(r,n))return t;var u=void 0,c=void 0;if(Y(n))if(Object(o.d)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=ft(t),h=jt(r,l instanceof Xe?l:Xe.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Rt(r,ft(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=q(n);if(".priority"===d){Object(o.d)(1===B(n),"Can't have a priority with additional path components");var p=s.getNode(),v=Ft(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var y=z(n),m=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var g=Ft(r,n,s.getNode(),c);m=null!=g?s.getNode().getImmediateChild(d).updateChild(y,g):s.getNode().getImmediateChild(d)}else m=Lt(r,d,t.serverCache);u=null!=m?e.filter.updateChild(s.getNode(),d,m,y,i,a):s.getNode()}}return ct(t,u,s.isFullyInitialized()||Y(n),e.filter.filtersNodes())}function Ht(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Y(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=q(n);if(!c.isCompleteForPath(n)&&B(n)>1)return t;var d=z(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,qt,null)}var v=lt(t,u,c.isFullyInitialized()||Y(n),l.filtersNodes());return zt(e,v,n,i,new Bt(i,v,o),s)}function Gt(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Bt(i,t,o);if(Y(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=ct(t,u,!0,e.filter.filtersNodes());else{var h=q(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=ct(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=z(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Y(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===H(f)&&v.getChild(K(f)).isEmpty()?v:v.updateChild(f,r):Xe.EMPTY_NODE}s=d.equals(p)?t:ct(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Wt(e,t){return e.eventCache.isCompleteForChild(t)}function Kt(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Qt(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Y(n)?r:new rt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Kt(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ht(e,c,new V(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Kt(0,t.serverCache.getNode().getImmediateChild(n),r);c=Ht(e,c,new V(n),h,i,o,a,s)}})),c}var Yt=function(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()};function Xt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.e)("Should only compare child_ events.");var r=new Le(t.childName,t.snapshotNode),i=new Le(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}var Zt,Jt,$t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",en=(Zt=0,Jt=[],function(e){var t,n=e===Zt;Zt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=$t.charAt(e%64),e=Math.floor(e/64);Object(o.d)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===Jt[t];t--)Jt[t]=0;Jt[t]++}else for(t=0;t<12;t++)Jt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=$t.charAt(Jt[t]);return Object(o.d)(20===i.length,"nextPushId: Length should be 20."),i}),tn=function(e){if("2147483647"===e)return"-";var t=F(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return O;var o=$t.charAt($t.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},nn=function(e){if("-2147483648"===e)return T;var t=F(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=$t.charAt($t.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},rn=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return Le.MAX},t.prototype.makePost=function(e,t){var n=Je(e);return new Le(t,n)},t.prototype.toString=function(){return".value"},t}(Ve)),on=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.d)(!Y(t)&&".priority"!==q(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Je(e),r=Xe.EMPTY_NODE.updateChild(this.indexPath_,n);return new Le(t,r)},t.prototype.maxPost=function(){var e=Xe.EMPTY_NODE.updateChild(this.indexPath_,Ze);return new Le(O,e)},t.prototype.toString=function(){return W(this.indexPath_,0).join("/")},t}(Ve),an=function(){function e(t){this.indexedFilter_=new mt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Le(t,n))||(n=Xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Xe.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Xe.EMPTY_NODE);var i=this;return t.forEachChild(Ue,(function(e,t){i.matches(new Le(e,t))||(r=r.updateImmediateChild(e,Xe.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),sn=function(){function e(e){this.rangedFilter_=new an(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Le(t,n))||(n=Xe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Xe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Xe.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Xe.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Xe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.d)(u.numChildren()===this.limit_,"");var c=new Le(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(yt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt(t,f));var v=u.updateImmediateChild(t,Xe.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(pt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(vt(l.name,l.node)),i.trackChildChange(pt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Xe.EMPTY_NODE)):e},e}(),un=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ue},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function cn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function ln(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function hn(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function fn(e,t,n){var r;return e.index_===Be?("string"==typeof t&&(t=tn(t)),r=hn(e,t,n)):r=hn(e,t,null==n?O:tn(n)),r.startAfterSet_=!0,r}function dn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function pn(e,t,n){var r;return e.index_===Be?("string"==typeof t&&(t=nn(t)),r=dn(e,t,n)):r=dn(e,t,null==n?T:nn(n)),r.endBeforeSet_=!0,r}function vn(e,t){var n=e.copy();return n.index_=t,n}function yn(e){var t,n={};return e.isDefault()||(e.index_===Ue?t="$priority":e.index_===rn?t="$value":e.index_===Be?t="$key":(Object(o.d)(e.index_ instanceof on,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.F)(t),e.startSet_&&(n.startAt=Object(o.F)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.F)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.F)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.F)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}var mn,gn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new mt(r.getIndex()),o=(n=r).loadsAllData()?new mt(n.getIndex()):n.hasLimit()?new sn(n):new an(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(Xe.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(Xe.EMPTY_NODE,s.getNode(),null),l=new st(u,a.isFullyInitialized(),i.filtersNodes()),h=new st(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=ut(h,l),this.eventGenerator_=new Yt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function _n(e,t){var n=ft(e.viewCache_);return n&&(e.query.getQueryParams().loadsAllData()||!Y(t)&&!n.getImmediateChild(q(t)).isEmpty())?n.getChild(t):null}function bn(e){return 0===e.eventRegistrations_.length}function wn(e,t,n){var r=[];if(n){Object(o.d)(null==t,"A cancel should cancel all event registrations.");var i=e.query.path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function kn(e,t,n,r){t.type===$e.MERGE&&null!==t.source.queryId&&(Object(o.d)(ft(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.d)(ht(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new gt;if(n.type===$e.OVERWRITE){var c=n;c.source.fromUser?a=Gt(e,t,c.path,c.snap,r,i,u):(Object(o.d)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Y(c.path),a=Ht(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===$e.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Q(n,r);Wt(t,q(c))&&(s=Gt(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Q(n,r);Wt(t,q(c))||(s=Gt(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):(Object(o.d)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Qt(e,t,l.path,l.children,r,i,s,u))}else if(n.type===$e.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=Mt(r,n))return t;var u=new Bt(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Y(n)||".priority"===q(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=Rt(r,ft(t));else{var f=t.serverCache.getNode();Object(o.d)(f instanceof Xe,"serverChildren would be complete if leaf node"),h=jt(r,f)}l=e.filter.updateFullNode(c,h=h,a)}else{var d=q(n),p=Lt(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,z(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,Xe.EMPTY_NODE,z(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Rt(r,ft(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Mt(r,U()),ct(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Mt(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Y(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ht(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Y(n)){var c=new rt(null);return u.getNode().forEachChild(Be,(function(e,t){c=c.set(new V(e),t)})),Qt(e,t,n,c,i,o,s,a)}return t}var l=new rt(null);return r.foreach((function(e,t){var r=Q(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Qt(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==$e.LISTEN_COMPLETE)throw Object(o.e)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return zt(e,lt(t,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered()),n,r,qt,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ht(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(dt(ht(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.d)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.d)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.d)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Cn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Cn(e,t,n,r){return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})})),Xt(e,i,"child_removed",t,r,n),Xt(e,i,"child_added",t,r,n),Xt(e,i,"child_moved",o,r,n),Xt(e,i,"child_changed",t,r,n),Xt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}var Sn=function(){this.views=new Map};function En(e,t,n,r){var a,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(o.d)(null!=c,"SyncTree gave us an op for an invalid query."),kn(c,t,n,r)}var l=[];try{for(var h=Object(i.g)(e.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(kn(c=f.value,t,n,r))}catch(d){a={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l}function Tn(e,t,n,r,i){var o=t.queryIdentifier(),a=e.views.get(o);if(!a){var s=Rt(n,i?r:null),u=!1;s?u=!0:r instanceof Xe?(s=jt(n,r),u=!1):(s=Xe.EMPTY_NODE,u=!1);var c=ut(new st(s,u,!1),new st(r,i,!1));return new gn(t,c)}return a}function On(e){var t,n,r=[];try{for(var o=Object(i.g)(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;s.query.getQueryParams().loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function In(e,t){var n,r,o=null;try{for(var a=Object(i.g)(e.views.values()),s=a.next();!s.done;s=a.next())o=o||_n(s.value,t)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function xn(e,t){if(t.getQueryParams().loadsAllData())return Pn(e);var n=t.queryIdentifier();return e.views.get(n)}function An(e,t){return null!=xn(e,t)}function Dn(e){return null!=Pn(e)}function Pn(e){var t,n;try{for(var r=Object(i.g)(e.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;if(a.query.getQueryParams().loadsAllData())return a}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Nn=1,Rn=function(e){this.listenProvider_=e,this.syncPointTree_=new rt(null),this.pendingWriteTree_={visibleWrites:_t.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function jn(e,t,n,r,i){return function(e,t,n,r,i){Object(o.d)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=bt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?qn(e,new ot({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Fn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&At(u,r.path)?i=!1:$(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=Pt(e.allWrites,Dt,U()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=kt(e.visibleWrites,r.path):N(r.children,(function(t){e.visibleWrites=kt(e.visibleWrites,Q(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new rt(null);return null!=r.snap?i=i.set(U(),!0):N(r.children,(function(e){i=i.set(new V(e),!0)})),qn(e,new nt(r.path,i,n))}return[]}function Mn(e,t,n){return qn(e,new ot({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ln(e,t,n,r){var a=t.path,s=e.syncPointTree_.get(a),u=[];if(s&&("default"===t.queryIdentifier()||An(s,t))){var c=function(e,t,n,r){var a,s,u=t.queryIdentifier(),c=[],l=[],h=Dn(e);if("default"===u)try{for(var f=Object(i.g)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=Object(i.e)(d.value,2),y=v[0];l=l.concat(wn(p=v[1],n,r)),bn(p)&&(e.views.delete(y),p.query.getQueryParams().loadsAllData()||c.push(p.query))}}catch(m){a={error:m}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}else(p=e.views.get(u))&&(l=l.concat(wn(p,n,r)),bn(p)&&(e.views.delete(u),p.query.getQueryParams().loadsAllData()||c.push(p.query)));return h&&!Dn(e)&&c.push(new(Object(o.d)(mn,"Reference.ts has not been loaded"),mn)(t.repo,t.path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Dn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Dn(t))return[Pn(t)];var r=[];return t&&(r=On(t)),N(n,(function(e,t){r=r.concat(t)})),r}))}(d),v=0;v<p.length;++v){var y=p[v],m=y.query,g=Bn(e,y);e.listenProvider_.startListening(Qn(m),zn(e,m),g.hashFn,g.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(Qn(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(Hn(t));e.listenProvider_.stopListening(Qn(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=Hn(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function Vn(e,t,n){var r=t.path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=X(e,r);i=i||In(t,n),a=a||Dn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Dn(u),i=i||In(u,U())):(u=new Sn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Xe.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=In(t,U());n&&(i=i.updateImmediateChild(e,n))})));var c=An(u,t);if(!c&&!t.getQueryParams().loadsAllData()){var l=Hn(t);Object(o.d)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Nn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Tn(e,t,r,i,o);return e.views.has(t.queryIdentifier())||e.views.set(t.queryIdentifier(),a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(function(e,t){r.push(pt(e,t))})),n.isFullyInitialized()&&r.push(dt(n.getNode())),Cn(e,r,n.getNode(),t)}(a,n)}(u,t,n,xt(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=xn(u,t);f=f.concat(function(e,t,n){var r=t.path,i=zn(e,t),a=Bn(e,n),s=e.listenProvider_.startListening(Qn(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.d)(!Dn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Y(e)&&t&&Dn(t))return[Pn(t).query];var r=[];return t&&(r=r.concat(On(t).map((function(e){return e.query})))),N(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(Qn(h),zn(e,h))}return s}(e,t,d))}return f}function Un(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=In(n,X(e,t));if(r)return r}));return Nt(r,t,i,n,!0)}function qn(e,t){return function e(t,n,r,i){if(Y(t.path))return function e(t,n,r,i){var o=n.get(U());null==r&&null!=o&&(r=In(o,U()));var a=[];return n.children.inorderTraversal((function(n,o){var s=r?r.getImmediateChild(n):null,u=Vt(i,n),c=t.operationForChild(n);c&&(a=a.concat(e(c,o,s,u)))})),o&&(a=a.concat(En(o,t,i,r))),a}(t,n,r,i);var o=n.get(U());null==r&&null!=o&&(r=In(o,U()));var a=[],s=q(t.path),u=t.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,h=Vt(i,s);a=a.concat(e(u,c,l,h))}return o&&(a=a.concat(En(o,t,i,r))),a}(t,e.syncPointTree_,null,xt(e.pendingWriteTree_,U()))}function Bn(e,t){var n=t.query,r=zn(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Xe.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Gn(e,n);if(r){var i=Wn(r),o=i.path,a=i.queryId,s=X(o,t);return Kn(e,o,new it(et(a),s))}return[]}(e,n.path,r):function(e,t){return qn(e,new it({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ln(e,n,null,i)}}}function zn(e,t){var n=Hn(t);return e.queryToTagMap.get(n)}function Hn(e){return e.path.toString()+"$"+e.queryIdentifier()}function Gn(e,t){return e.tagToQueryMap.get(t)}function Wn(e){var t=e.indexOf("$");return Object(o.d)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new V(e.substr(0,t))}}function Kn(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.d)(r,"Missing sync point for query tag that we're tracking"),En(r,n,xt(e.pendingWriteTree_,t),null)}function Qn(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e}var Yn=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Xn=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Q(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Un(this.syncTree_,this.path_)},e}(),Zn=function(e,t,n){return e&&"object"==typeof e?(Object(o.d)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Jn(e[".sv"],t,n):"object"==typeof e[".sv"]?$n(e[".sv"],t):void Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Jn=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.d)(!1,"Unexpected server value: "+e)}},$n=function(e,t,n){e.hasOwnProperty("increment")||Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(o.d)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},er=function(e,t,n,r){return nr(t,new Xn(n,e),r)},tr=function(e,t,n){return nr(e,new Yn(t),n)};function nr(e,t,n){var r,i=e.getPriority().val(),o=Zn(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Zn(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ne(s,Je(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ne(o))),u.forEachChild(Ue,(function(e,i){var o=nr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}function rr(){return{value:null,children:new Map}}function ir(e,t,n){if(Y(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=q(t);e.children.has(r)||e.children.set(r,rr()),ir(e.children.get(r),t=z(t),n)}}function or(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){or(r,new V(t.toString()+"/"+e),n)}))}var ar=function(){function e(){this.rootNode_=Xe.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),sr=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.h)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.j)(this.counters_)},e}(),ur={},cr={};function lr(e){var t=e.toString();return ur[t]||(ur[t]=new sr),ur[t]}var hr=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(i.a)({},e);return this.last_&&N(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),fr=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hr(e);var n=1e4+2e4*Math.random();L(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;N(t,(function(t,i){i>0&&Object(o.h)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),L(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),dr=function(){this.eventLists_=[],this.recursionDepth_=0};function pr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||J(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function vr(e,t,n){pr(e,n),mr(e,(function(e){return J(e,t)}))}function yr(e,t,n){pr(e,n),mr(e,(function(e){return $(e,t)||$(t,e)}))}function mr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(gr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function gr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();m&&b("event: "+n.toString()),M(r)}}}var _r=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.d)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(i.f)([],Object(i.e)(this.listeners_[e])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.d)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),br=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(i.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.d)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(_r),wr=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.t)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(i.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.d)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(_r),kr=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&M((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Cr=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(e),this.stats_=lr(t),this.urlFn=function(e){return oe(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.v)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Sr((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(i.e)(e,5),o=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(i.e)(e,2),o=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&re.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(Object(o.v)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.F)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.g)(t),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.v)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.F)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Sr=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.v)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){b("frame writing exception"),u.stack&&b(u.stack),b(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||b("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.v)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){b("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Er="";function Tr(e){Er=e}var Or=null;"undefined"!=typeof MozWebSocket?Or=MozWebSocket:"undefined"!=typeof WebSocket&&(Or=WebSocket);var Ir=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=lr(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!Object(o.v)()&&"undefined"!=typeof location&&location.hostname&&re.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),oe(e,"websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.v)()){var r={headers:{"User-Agent":"Firebase/5/"+Er+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new Or(this.connURL,[],r)}else this.mySock=new Or(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Or&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.z)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Object(o.d)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.F)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),xr=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Cr,Ir]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=Ir&&Ir.isAvailable(),a=o&&!Ir.previouslyFailed();if(t.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Ir];else{var s=this.transports_=[];try{for(var u=Object(i.g)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Ar=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new xr(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=L((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),L((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):L((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Dr=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Pr=function(e){function t(n,r,i,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.v)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),br.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&wr.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.F)(i)),Object(o.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.a,r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.d)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.d)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(o.h)(e,"w")){var n=Object(o.C)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.n)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.y)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.d)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.F)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+Object(o.F)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(e){Object(o.d)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){c?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new Ar(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){S(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&S(t),h())}))}},t.prototype.interrupt=function(e){b("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){b("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.r)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return D(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new V(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){b("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var o=Object(i.g)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.g)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.v)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Er.replace(/\./g,"-")]=1,Object(o.t)()?e["framework.cordova"]=1:Object(o.w)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=wr.getInstance().currentlyOnline();return Object(o.r)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Dr),Nr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.d)(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=yn(e.getQueryParams());this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.C)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=yn(e.getQueryParams()),r=e.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.B)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Object(o.z)(u.responseText)}catch(t){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(Dr),Rr=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return Object(o.G)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return Object(o.G)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return Object(o.G)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return Object(o.G)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){Object(o.G)("DataSnapshot.child",0,1,arguments.length),t=String(t),Te("DataSnapshot.child",1,t,!1);var n=new V(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Ue)},e.prototype.hasChild=function(e){Object(o.G)("DataSnapshot.hasChild",1,1,arguments.length),Te("DataSnapshot.hasChild",1,e,!1);var t=new V(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return Object(o.G)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(Object(o.G)("DataSnapshot.forEach",1,1,arguments.length),Object(o.H)("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Ue))}))},e.prototype.hasChildren=function(){return Object(o.G)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.G)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return Object(o.G)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),jr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Fr(e,t){for(var n=t instanceof V?t:new V(t),r=e,i=q(n);null!==i;){var a=Object(o.C)(r.node.children,i)||{children:{},childCount:0};r=new jr(i,r,a),i=q(n=z(n))}return r}function Mr(e){return e.node.value}function Lr(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){var i=function(e){return void 0===Mr(e)&&!Vr(e)}(r),a=Object(o.h)(t.node.children,n);i&&a?(delete t.node.children[n],t.node.childCount--,e(t)):i||a||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function Vr(e){return e.node.childCount>0}function Ur(e,t){N(e.node.children,(function(n,r){t(new jr(n,e,r))}))}function qr(e){return new V(null===e.parent?e.name:qr(e.parent)+"/"+e.name)}var Br=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rr(),this.transactionQueueTree_=new jr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function zr(e){var t=e.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Hr(e){return(t=(t={timestamp:zr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Gr(e,t,n,r,i){e.dataUpdateCount++;var a=new V(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.A)(n,(function(e){return Je(e)}));s=function(e,t,n,r){var i=Gn(e,r);if(i){var o=Wn(i),a=o.path,s=o.queryId,u=X(a,t),c=rt.fromObject(n);return Kn(e,a,new at(et(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=Je(n);s=function(e,t,n,r){var i=Gn(e,r);if(null!=i){var o=Wn(i),a=o.path,s=o.queryId,u=X(a,t);return Kn(e,a,new ot(et(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.A)(n,(function(e){return Je(e)}));s=function(e,t,n){var r=rt.fromObject(n);return qn(e,new at({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=Je(n);s=Mn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=hi(e,a)),yr(e.eventQueue_,f,s)}function Wr(e,t){Kr(e,"connected",t),!1===t&&function(e){oi(e,"onDisconnectEvents");var t=Hr(e),n=rr();or(e.onDisconnect_,U(),(function(r,i){var o=er(r,i,e.serverSyncTree_,t);ir(n,r,o)}));var r=[];or(n,U(),(function(t,n){r=r.concat(Mn(e.serverSyncTree_,t,n));var i=vi(e,t);hi(e,i)})),e.onDisconnect_=rr(),yr(e.eventQueue_,U(),r)}(e)}function Kr(e,t,n){var r=new V("/.info/"+t),i=Je(n);e.infoData_.updateSnapshot(r,i);var o=Mn(e.infoSyncTree_,r,i);yr(e.eventQueue_,r,o)}function Qr(e){return e.nextWriteId_++}function Yr(e,t,n,r,i){oi(e,"set",{path:t.toString(),value:n,priority:r});var o=Hr(e),a=Je(n,r),s=Un(e.serverSyncTree_,t),u=tr(a,s,o),c=Qr(e),l=jn(e.serverSyncTree_,t,u,c,!0);pr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+t+" failed: "+n);var a=Fn(e.serverSyncTree_,c,!o);yr(e.eventQueue_,t,a),ai(0,i,n,r)}));var h=vi(e,t);hi(e,h),yr(e.eventQueue_,h,[])}function Xr(e,t,n,r){oi(e,"update",{path:t.toString(),value:n});var i=!0,a=Hr(e),s={};if(N(n,(function(n,r){i=!1,s[n]=er(Q(t,n),Je(r),e.serverSyncTree_,a)})),i)b("update() called with empty data.  Don't do anything."),ai(0,r,"ok",void 0);else{var u=Qr(e),c=function(e,t,n,r){!function(e,t,n,r){Object(o.d)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=wt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=rt.fromObject(n);return qn(e,new at({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);pr(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+t+" failed: "+n);var a=Fn(e.serverSyncTree_,u,!o),s=a.length>0?hi(e,t):t;yr(e.eventQueue_,s,a),ai(0,r,n,i)})),N(n,(function(n){var r=vi(e,Q(t,n));hi(e,r)})),yr(e.eventQueue_,t,[])}}function Zr(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(Y(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(Ue,(function(e,n){ir(t,new V(e),n)})),e(t,n)}if(t.children.size>0){var i=q(n);return n=z(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),ai(0,n,r,i)}))}function Jr(e,t,n,r){var i=Je(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&ir(e.onDisconnect_,t,i),ai(0,r,n,o)}))}function $r(e,t,n,r,i){var o=Je(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&ir(e.onDisconnect_,t,o),ai(0,i,n,r)}))}function ei(e,t,n,r){if(Object(o.r)(n))return b("onDisconnect().update() called with empty data.  Don't do anything."),void ai(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&N(n,(function(n,r){var i=Je(r);ir(e.onDisconnect_,Q(t,n),i)})),ai(0,r,i,o)}))}function ti(e,t,n){var r;r=".info"===q(t.path)?Vn(e.infoSyncTree_,t,n):Vn(e.serverSyncTree_,t,n),vr(e.eventQueue_,t.path,r)}function ni(e,t,n){var r;r=".info"===q(t.path)?Ln(e.infoSyncTree_,t,n):Ln(e.serverSyncTree_,t,n),vr(e.eventQueue_,t.path,r)}function ri(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function ii(e){e.persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}function oi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),b.apply(void 0,Object(i.f)([r],Object(i.e)(t)))}function ai(e,t,n,r){t&&M((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function si(e){return e.__database||(e.__database=new Di(e))}function ui(e,t,n,r,i){oi(e,"transaction on "+t);var a=function(){},s=new Ei(e,t);s.on("value",a);var u={path:t,update:n,onComplete:r,status:null,order:p(),applyLocally:i,retryCount:0,unwatcher:function(){s.off("value",a)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=ci(e,t,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new Rr(u.currentInputSnapshot,new Ei(e,u.path),Ue);u.onComplete(null,!1,h)}}else{we("transaction failed: Data returned ",l,u.path),u.status=0;var f=Fr(e.transactionQueueTree_,t),d=Mr(f)||[];d.push(u),Lr(f,d);var v=void 0;"object"==typeof l&&null!==l&&Object(o.h)(l,".priority")?(v=Object(o.C)(l,".priority"),Object(o.d)(_e(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):v=(Un(e.serverSyncTree_,t)||Xe.EMPTY_NODE).getPriority().val();var y=Hr(e),m=Je(l,v),g=tr(m,c,y);u.currentOutputSnapshotRaw=m,u.currentOutputSnapshotResolved=g,u.currentWriteId=Qr(e);var _=jn(e.serverSyncTree_,t,g,u.currentWriteId,u.applyLocally);yr(e.eventQueue_,t,_),li(e,e.transactionQueueTree_)}}function ci(e,t,n){return Un(e.serverSyncTree_,t,n)||Xe.EMPTY_NODE}function li(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||pi(e,t),Mr(t)){var n=di(e,t);Object(o.d)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ci(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.d)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=X(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){oi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++){if(n[a].status=2,i=i.concat(Fn(e.serverSyncTree_,n[a].currentWriteId)),n[a].onComplete){var s=n[a].currentOutputSnapshotResolved,u=new Ei(e,n[a].path),c=new Rr(s,u,Ue);o.push(n[a].onComplete.bind(null,null,!0,c))}n[a].unwatcher()}for(pi(e,Fr(e.transactionQueueTree_,t)),li(e,e.transactionQueueTree_),yr(e.eventQueue_,t,i),a=0;a<o.length;a++)M(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(S("transaction at "+f.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;hi(e,t)}}),s)}(e,qr(t),n)}else Vr(t)&&Ur(t,(function(t){li(e,t)}))}function hi(e,t){var n=fi(e,t),r=qr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=X(n,u.path),l=!1,h=void 0;if(Object(o.d)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(Fn(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(Fn(e.serverSyncTree_,u.currentWriteId,!0));else{var f=ci(e,u.path,a);u.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){we("transaction failed: Data returned ",d,u.path);var p=Je(d);"object"==typeof d&&null!=d&&Object(o.h)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,y=Hr(e),m=tr(p,f,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=Qr(e),a.splice(a.indexOf(v),1),i=(i=i.concat(jn(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Fn(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(Fn(e.serverSyncTree_,u.currentWriteId,!0))}if(yr(e.eventQueue_,n,i),i=[],l&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===h){var g=new Ei(e,t[s].path),_=new Rr(t[s].currentInputSnapshot,g,Ue);r.push(t[s].onComplete.bind(null,null,!1,_))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}for(pi(e,e.transactionQueueTree_),s=0;s<r.length;s++)M(r[s]);li(e,e.transactionQueueTree_)}}(e,di(e,n),r),r}function fi(e,t){var n,r=e.transactionQueueTree_;for(n=q(t);null!==n&&void 0===Mr(r);)r=Fr(r,n),n=q(t=z(t));return r}function di(e,t){var n=[];return function e(t,n,r){var i=Mr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Ur(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function pi(e,t){var n=Mr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Lr(t,n.length>0?n:void 0)}Ur(t,(function(t){pi(e,t)}))}function vi(e,t){var n=qr(fi(e,t)),r=Fr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){yi(e,t)})),yi(e,r),function e(t,n,r,i){r&&!i&&n(t),Ur(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(r,(function(t){yi(e,t)})),n}function yi(e,t){var n=Mr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.d)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.d)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Fn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Lr(t,void 0):n.length=a+1,yr(e.eventQueue_,qr(t),i),s=0;s<r.length;s++)M(r[s])}}var mi,gi=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){Object(o.G)("OnDisconnect.cancel",0,1,arguments.length),Object(o.H)("OnDisconnect.cancel",1,e,!0);var t=new o.a;return Zr(this.repo_,this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){Object(o.G)("OnDisconnect.remove",0,1,arguments.length),Ie("OnDisconnect.remove",this.path_),Object(o.H)("OnDisconnect.remove",1,e,!0);var t=new o.a;return Jr(this.repo_,this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){Object(o.G)("OnDisconnect.set",1,2,arguments.length),Ie("OnDisconnect.set",this.path_),be("OnDisconnect.set",1,e,this.path_,!1),Object(o.H)("OnDisconnect.set",2,t,!0);var n=new o.a;return Jr(this.repo_,this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){Object(o.G)("OnDisconnect.setWithPriority",2,3,arguments.length),Ie("OnDisconnect.setWithPriority",this.path_),be("OnDisconnect.setWithPriority",1,e,this.path_,!1),Ce("OnDisconnect.setWithPriority",2,t,!1),Object(o.H)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return $r(this.repo_,this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(Object(o.G)("OnDisconnect.update",1,2,arguments.length),Ie("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ke("OnDisconnect.update",1,e,this.path_,!1),Object(o.H)("OnDisconnect.update",2,t,!0);var i=new o.a;return ei(this.repo_,this.path_,e,i.wrapCallback(t)),i.promise},e}(),_i=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.G)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),bi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.F)(this.snapshot.exportVal())},e}(),wi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ki=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new bi("value",this,new Rr(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new wi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Ci=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,Object(o.h)(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new wi(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.d)(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new bi(e.type,this,new Rr(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Si=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return Object(o.d)(mi,"Reference.ts has not been loaded"),mi},set:function(e){mi=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Be){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ue){if(null!=t&&!_e(t)||null!=n&&!_e(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.d)(e.getIndex()instanceof on||e.getIndex()===rn,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return Object(o.G)("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){Object(o.G)("Query.on",2,4,arguments.length),Se("Query.on",1,t,!1),Object(o.H)("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new ki(e,t||null,n||null);ti(this.repo,this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Ci(e,t,n);ti(this.repo,this,r)},e.prototype.off=function(e,t,n){Object(o.G)("Query.off",0,3,arguments.length),Se("Query.off",1,e,!0),Object(o.H)("Query.off",2,t,!0),Object(o.I)("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var a=t||null;r=new ki(a,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Ci(i,null,n||null));ni(this.repo,this,r)},e.prototype.get=function(){return null!=(n=function(e,t){var n=t.path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=X(e,n);r=r||In(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||In(i,U()):(i=new Sn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new st(r,!0,!1):null;return ht(Tn(i,t,xt(e.pendingWriteTree_,t.path),o?a.getNode():Xe.EMPTY_NODE,o).viewCache_)}((e=this.repo).serverSyncTree_,t=this))?Promise.resolve(new Rr(n,t.getRef(),t.getQueryParams().getIndex())):e.server_.get(t).then((function(n){var r=Je(n),i=Mn(e.serverSyncTree_,t.path,r);return vr(e.eventQueue_,t.path,i),Promise.resolve(new Rr(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){return oi(e,"get for query "+Object(o.F)(t)+" failed: "+n),Promise.reject(new Error(n))}));var e,t,n},e.prototype.once=function(t,n,r,i){var a=this;Object(o.G)("Query.once",1,4,arguments.length),Se("Query.once",1,t,!1),Object(o.H)("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function e(r){u&&(u=!1,a.off(t,e),n&&n.bind(s.context)(r),c.resolve(r))};return this.on(t,l,(function(e){a.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(Object(o.G)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,cn(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(Object(o.G)("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,ln(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(Object(o.G)("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Te("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(t);if(Y(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new on(n),i=vn(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){Object(o.G)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=vn(this.queryParams_,Be);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){Object(o.G)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=vn(this.queryParams_,Ue);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){Object(o.G)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=vn(this.queryParams_,rn);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),Object(o.G)("Query.startAt",0,2,arguments.length),be("Query.startAt",1,t,this.path,!0),Ee("Query.startAt",2,n,!0);var r=hn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),Object(o.G)("Query.startAfter",0,2,arguments.length),be("Query.startAfter",1,t,this.path,!1),Ee("Query.startAfter",2,n,!0);var r=fn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),Object(o.G)("Query.endAt",0,2,arguments.length),be("Query.endAt",1,t,this.path,!0),Ee("Query.endAt",2,n,!0);var r=dn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),Object(o.G)("Query.endBefore",0,2,arguments.length),be("Query.endBefore",1,t,this.path,!1),Ee("Query.endBefore",2,n,!0);var r=pn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(Object(o.G)("Query.equalTo",1,2,arguments.length),be("Query.equalTo",1,e,this.path,!1),Ee("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return Object(o.G)("Query.toString",0,0,arguments.length),this.repo.toString()+G(this.path)},e.prototype.toJSON=function(){return Object(o.G)("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return function(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ue&&(t.i=e.index_.toString()),t}(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=D(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(Object(o.G)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=J(this.path,t.path),a=this.queryIdentifier()===t.queryIdentifier();return r&&i&&a},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,Object(o.H)(e,3,r.cancel,!0),r.context=n,Object(o.I)(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(o.l)(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ei=function(e){function t(t,n){if(!(t instanceof Br))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,new un,!1)||this}return Object(i.c)(t,e),t.prototype.getKey=function(){return Object(o.G)("Reference.key",0,0,arguments.length),Y(this.path)?null:H(this.path)},t.prototype.child=function(e){return Object(o.G)("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof V||(null===q(this.path)?Oe("Reference.child",1,e,!1):Te("Reference.child",1,e,!1)),new t(this.repo,Q(this.path,e))},t.prototype.getParent=function(){Object(o.G)("Reference.parent",0,0,arguments.length);var e=K(this.path);return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){Object(o.G)("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return si(this.repo)},t.prototype.set=function(e,t){Object(o.G)("Reference.set",1,2,arguments.length),Ie("Reference.set",this.path),be("Reference.set",1,e,this.path,!1),Object(o.H)("Reference.set",2,t,!0);var n=new o.a;return Yr(this.repo,this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(Object(o.G)("Reference.update",1,2,arguments.length),Ie("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ke("Reference.update",1,e,this.path,!1),Object(o.H)("Reference.update",2,t,!0);var i=new o.a;return Xr(this.repo,this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(Object(o.G)("Reference.setWithPriority",2,3,arguments.length),Ie("Reference.setWithPriority",this.path),be("Reference.setWithPriority",1,e,this.path,!1),Ce("Reference.setWithPriority",2,t,!1),Object(o.H)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return Yr(this.repo,this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return Object(o.G)("Reference.remove",0,1,arguments.length),Ie("Reference.remove",this.path),Object(o.H)("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(Object(o.G)("Reference.transaction",1,3,arguments.length),Ie("Reference.transaction",this.path),Object(o.H)("Reference.transaction",1,e,!1),Object(o.H)("Reference.transaction",2,t,!0),Ae("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new _i(n,i)),"function"==typeof t&&t(e,n,i)};return ui(this.repo,this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){Object(o.G)("Reference.setPriority",1,2,arguments.length),Ie("Reference.setPriority",this.path),Ce("Reference.setPriority",1,e,!1),Object(o.H)("Reference.setPriority",2,t,!0);var n=new o.a;return Yr(this.repo,Q(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){Object(o.G)("Reference.push",0,2,arguments.length),Ie("Reference.push",this.path),be("Reference.push",1,e,this.path,!0),Object(o.H)("Reference.push",2,t,!0);var n,r=zr(this.repo),i=en(r),a=this.child(i),s=this.child(i);return n=null!=e?a.set(e,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),a},t.prototype.onDisconnect=function(){return Ie("Reference.onDisconnect",this.path),new gi(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Si);Si.__referenceConstructor=Ei,function(e){Object(o.d)(!mn,"__referenceConstructor has already been defined"),mn=e}(Ei);var Ti=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';S(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),Oi=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),Ii={},xi=!1;function Ai(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),b("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=de(i,r),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=de(i="http://"+c+"?ns="+u.namespace,r)).repoInfo):a=!s.repoInfo.secure;var l=r&&a?new Oi:new Ti(e,t);return xe("Invalid Firebase Database URL",1,s),Y(s.path)||C("Database URL must point to the root of a Firebase Database (not including a child path)."),si(function(e,t,n){var r=Object(o.C)(Ii,t.name);r||(Ii[t.name]=r={});var i=Object(o.C)(r,e.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Br(e,xi,t,n),r[e.toURLString()]=i,i}(u,e,l))}var Di=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(t,void 0,void 0,(function(){return Object(i.d)(this,(function(e){var t,n;return this.checkDeleted_("delete"),t=this.repo_,(n=Object(o.C)(Ii,t.app.name))&&Object(o.C)(n,t.key)===t||C("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),ri(t),delete n[t.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof Br||C("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(e){if(e.stats_=lr(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Nr(e.repoInfo_,(function(t,n,r,i){Gr(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return Wr(e,!0)}),0);else{var t=e.app.options.databaseAuthVariableOverride;if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.F)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Pr(e.repoInfo_,e.app.options.appId,(function(t,n,r,i){Gr(e,t,n,r,i)}),(function(t){Wr(e,t)}),(function(t){!function(e,t){N(t,(function(t,n){Kr(e,t,n)}))}(e,t)}),e.authTokenProvider_,t),e.server_=e.persistentConnection_}var n,r;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(n=function(){return new fr(e.stats_,e.server_)},r=e.repoInfo_.toString(),cr[r]||(cr[r]=n()),cr[r]),e.infoData_=new ar,e.infoSyncTree_=new Rn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t.path);return a.isEmpty()||(o=Mn(e.infoSyncTree_,t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Kr(e,"connected",!1),e.serverSyncTree_=new Rn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);yr(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Ei(this.repo_,U())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?C("Cannot call useEmulator() after instance has already been initialized."):function(e,t,n){e.repoInfo_=new ie(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new Oi)}(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),Object(o.G)("database.ref",0,1,arguments.length),e instanceof Ei?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),Object(o.G)(t,1,1,arguments.length);var n=de(e,this.repo_.repoInfo_.nodeAdmin);xe(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||C(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&C("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){Object(o.G)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),ri(this.repo_)},e.prototype.goOnline=function(){Object(o.G)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),ii(this.repo_)},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),Pi=Object.freeze({__proto__:null,forceLongPolling:function(){Ir.forceDisallow(),Cr.forceAllow()},forceWebSockets:function(){Cr.forceDisallow()},isWebSocketsAvailable:function(){return Ir.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new hr(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);N(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e.repo,t)},statsIncrementCounter:function(e,t){!function(e,t){e.stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0}(e.repo,t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e.repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.customAuthImpl,i=e.namespace,o=e.nodeAdmin,a=void 0!==o&&o;Tr(e.version);var u=new s.c("auth-internal",new s.b("database-standalone"));return u.setComponent(new s.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:Ai(t,u,n,a),namespace:i}}}),Ni=Pr;Pr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Pr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ri=Object.freeze({__proto__:null,DataConnection:Ni,RealTimeConnection:Ar,hijackHash:function(e){var t=Pr.prototype.put;return Pr.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Pr.prototype.put=t}},ConnectionTarget:ie,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){!function(e){xi=e}(e)}}),ji=Di.ServerValue;!function(t){Tr(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new s.a("database",(function(e,t){var n=t.instanceIdentifier;return Ai(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:Ei,Query:Si,Database:Di,DataSnapshot:Rr,enableLogging:_,INTERNAL:Pi,ServerValue:ji,TEST_ACCESS:Ri}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.6"),Object(o.v)()&&(e.exports=n)}(r.a)}).call(this,n("3UD+")(e))},"7Hc7":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=1,i=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}var s=function(e){var t=r++;return o[t]=!0,i.then((function(){return a(t)&&e()})),t},u=function(e){a(e)},c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=s(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(u(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},"8Y7J":function(e,t,n){"use strict";n.d(t,"a",(function(){return Eo})),n.d(t,"b",(function(){return Fu})),n.d(t,"c",(function(){return Du})),n.d(t,"d",(function(){return xu})),n.d(t,"e",(function(){return Au})),n.d(t,"f",(function(){return Oc})),n.d(t,"g",(function(){return mc})),n.d(t,"h",(function(){return so})),n.d(t,"i",(function(){return Ku})),n.d(t,"j",(function(){return ns})),n.d(t,"k",(function(){return Vu})),n.d(t,"l",(function(){return rs})),n.d(t,"m",(function(){return wn})),n.d(t,"n",(function(){return au})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return l})),n.d(t,"q",(function(){return W})),n.d(t,"r",(function(){return So})),n.d(t,"s",(function(){return ks})),n.d(t,"t",(function(){return Cs})),n.d(t,"u",(function(){return Lu})),n.d(t,"v",(function(){return se})),n.d(t,"w",(function(){return _c})),n.d(t,"x",(function(){return ae})),n.d(t,"y",(function(){return fc})),n.d(t,"z",(function(){return Zu})),n.d(t,"A",(function(){return h})),n.d(t,"B",(function(){return ju})),n.d(t,"C",(function(){return Ru})),n.d(t,"D",(function(){return uu})),n.d(t,"E",(function(){return ss})),n.d(t,"F",(function(){return os})),n.d(t,"G",(function(){return as})),n.d(t,"H",(function(){return cs})),n.d(t,"I",(function(){return ur})),n.d(t,"J",(function(){return d})),n.d(t,"K",(function(){return kc})),n.d(t,"L",(function(){return Os})),n.d(t,"M",(function(){return oc})),n.d(t,"N",(function(){return hs})),n.d(t,"O",(function(){return ls})),n.d(t,"P",(function(){return xs})),n.d(t,"Q",(function(){return ye})),n.d(t,"R",(function(){return No})),n.d(t,"S",(function(){return dc})),n.d(t,"T",(function(){return Vn})),n.d(t,"U",(function(){return A})),n.d(t,"V",(function(){return ne})),n.d(t,"W",(function(){return Ln})),n.d(t,"X",(function(){return Ec})),n.d(t,"Y",(function(){return sc})),n.d(t,"Z",(function(){return Mu})),n.d(t,"ab",(function(){return co})),n.d(t,"bb",(function(){return Gs})),n.d(t,"cb",(function(){return ar})),n.d(t,"db",(function(){return hr})),n.d(t,"eb",(function(){return zn})),n.d(t,"fb",(function(){return xn})),n.d(t,"gb",(function(){return Dn})),n.d(t,"hb",(function(){return jn})),n.d(t,"ib",(function(){return Nn})),n.d(t,"jb",(function(){return Pn})),n.d(t,"kb",(function(){return Rn})),n.d(t,"lb",(function(){return qs})),n.d(t,"mb",(function(){return Sc})),n.d(t,"nb",(function(){return Bs})),n.d(t,"ob",(function(){return zs})),n.d(t,"pb",(function(){return An})),n.d(t,"qb",(function(){return L})),n.d(t,"rb",(function(){return Ro})),n.d(t,"sb",(function(){return ea})),n.d(t,"tb",(function(){return $o})),n.d(t,"ub",(function(){return Po})),n.d(t,"vb",(function(){return Us})),n.d(t,"wb",(function(){return Ue})),n.d(t,"xb",(function(){return O})),n.d(t,"yb",(function(){return In})),n.d(t,"zb",(function(){return Ma})),n.d(t,"Ab",(function(){return za})),n.d(t,"Bb",(function(){return $a})),n.d(t,"Cb",(function(){return Rr})),n.d(t,"Db",(function(){return Lo})),n.d(t,"Eb",(function(){return ba})),n.d(t,"Fb",(function(){return _a})),n.d(t,"Gb",(function(){return na})),n.d(t,"Hb",(function(){return wu})),n.d(t,"Ib",(function(){return be})),n.d(t,"Jb",(function(){return Oe})),n.d(t,"Kb",(function(){return m})),n.d(t,"Lb",(function(){return g})),n.d(t,"Mb",(function(){return Se})),n.d(t,"Nb",(function(){return Ie})),n.d(t,"Ob",(function(){return Bo})),n.d(t,"Pb",(function(){return Yo})),n.d(t,"Qb",(function(){return Zo})),n.d(t,"Rb",(function(){return Xo})),n.d(t,"Sb",(function(){return Qo})),n.d(t,"Tb",(function(){return Ko})),n.d(t,"Ub",(function(){return Jo})),n.d(t,"Vb",(function(){return mn})),n.d(t,"Wb",(function(){return Ra})),n.d(t,"Xb",(function(){return te})),n.d(t,"Yb",(function(){return zo})),n.d(t,"Zb",(function(){return Iu})),n.d(t,"ac",(function(){return Ho})),n.d(t,"bc",(function(){return ta})),n.d(t,"cc",(function(){return Su})),n.d(t,"dc",(function(){return Dt})),n.d(t,"ec",(function(){return aa})),n.d(t,"fc",(function(){return tu})),n.d(t,"gc",(function(){return nu})),n.d(t,"hc",(function(){return ru})),n.d(t,"ic",(function(){return ca})),n.d(t,"jc",(function(){return ua})),n.d(t,"kc",(function(){return Go})),n.d(t,"lc",(function(){return la})),n.d(t,"mc",(function(){return Xs})),n.d(t,"nc",(function(){return Zs})),n.d(t,"oc",(function(){return mu})),n.d(t,"pc",(function(){return qo})),n.d(t,"qc",(function(){return Zt})),n.d(t,"rc",(function(){return at})),n.d(t,"sc",(function(){return fr})),n.d(t,"tc",(function(){return dr})),n.d(t,"uc",(function(){return Ee})),n.d(t,"vc",(function(){return ku})),n.d(t,"wc",(function(){return gu})),n.d(t,"xc",(function(){return ga})),n.d(t,"yc",(function(){return Uo})),n.d(t,"zc",(function(){return Da})),n.d(t,"Ac",(function(){return Pa})),n.d(t,"Bc",(function(){return Na})),n.d(t,"Cc",(function(){return ja})),n.d(t,"Dc",(function(){return _u}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function u(e){return{toString:e}.toString()}function c(e,t,n){return u((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var l=c("Inject",(function(e){return{token:e}})),h=c("Optional"),f=c("Self"),d=c("SkipSelf"),p=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function v(e){for(var t in e)if(e[t]===v)return t;throw Error("Could not find renamed property on target object.")}function y(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function m(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function g(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function _(e){return b(e,e[k])||b(e,e[E])}function b(e,t){return t&&t.token===e?t:null}function w(e){return e&&(e.hasOwnProperty(C)||e.hasOwnProperty(T))?e[C]:null}var k=v({"\u0275prov":v}),C=v({"\u0275inj":v}),S=v({"\u0275provFallback":v}),E=v({ngInjectableDef:v}),T=v({ngInjectorDef:v});function O(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(O).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function I(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var x=v({__forward_ref__:v});function A(e){return e.__forward_ref__=A,e.toString=function(){return O(this())},e}function D(e){return P(e)?e():e}function P(e){return"function"==typeof e&&e.hasOwnProperty(x)&&e.__forward_ref__===A}var N,R="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,L=R||M||j||F,V=v({"\u0275cmp":v}),U=v({"\u0275dir":v}),q=v({"\u0275pipe":v}),B=v({"\u0275mod":v}),z=v({"\u0275loc":v}),H=v({"\u0275fac":v}),G=v({__NG_ELEMENT_ID__:v}),W=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=m({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),K=new W("INJECTOR",-1),Q={},Y=/\n/gm,X=v({provide:String,useValue:v}),Z=void 0;function J(e){var t=Z;return Z=e,t}function $(e){var t=N;return N=e,t}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;if(void 0===Z)throw new Error("inject() must be called from an injection context");return null===Z?re(e,void 0,t):Z.get(e,t&p.Optional?null:void 0,t)}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;return(N||ee)(D(e),t)}var ne=te;function re(e,t,n){var r=_(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(O(e),"]"))}function ie(e){for(var t=[],n=0;n<e.length;n++){var r=D(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=p.Default,a=0;a<r.length;a++){var s=r[a];s instanceof h||"Optional"===s.ngMetadataName||s===h?o|=p.Optional:s instanceof d||"SkipSelf"===s.ngMetadataName||s===d?o|=p.SkipSelf:s instanceof f||"Self"===s.ngMetadataName||s===f?o|=p.Self:i=s instanceof l||s===l?s.token:s}t.push(te(i,o))}else t.push(te(r))}return t}var oe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;if(t===Q){var n=new Error("NullInjectorError: No provider for ".concat(O(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),ae=function e(){_classCallCheck(this,e)},se=function e(){_classCallCheck(this,e)};function ue(e,t){e.forEach((function(e){return Array.isArray(e)?ue(e,t):t(e)}))}function ce(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function le(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function he(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function fe(e,t,n){var r=pe(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function de(e,t){var n=pe(e,t);if(n>=0)return e[1|n]}function pe(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ve=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ye=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),me={},ge=[],_e=0;function be(e){return u((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ge,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ye.Emulated,id:"c",styles:e.styles||ge,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=_e++,i.inputs=Te(e.inputs,r),i.outputs=Te(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(we)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(ke)}:null,i}))}function we(e){return xe(e)||function(e){return e[U]||null}(e)}function ke(e){return function(e){return e[q]||null}(e)}var Ce={};function Se(e){var t={type:e.type,bootstrap:e.bootstrap||ge,declarations:e.declarations||ge,imports:e.imports||ge,exports:e.exports||ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&u((function(){Ce[e.id]=e.type})),t}function Ee(e,t){return u((function(){var n=De(e,!0);n.declarations=t.declarations||ge,n.imports=t.imports||ge,n.exports=t.exports||ge}))}function Te(e,t){if(null==e)return me;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var Oe=be;function Ie(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function xe(e){return e[V]||null}function Ae(e,t){return e.hasOwnProperty(H)?e[H]:null}function De(e,t){var n=e[B]||null;if(!n&&!0===t)throw new Error("Type ".concat(O(e)," does not have '\u0275mod' property."));return n}function Pe(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ne(e){return Array.isArray(e)&&!0===e[1]}function Re(e){return 0!=(8&e.flags)}function je(e){return 2==(2&e.flags)}function Fe(e){return 1==(1&e.flags)}function Me(e){return null!==e.template}function Le(e){return 0!=(512&e[2])}var Ve=void 0;function Ue(e){Ve=e}function qe(){return void 0!==Ve?Ve:"undefined"!=typeof document?document:void 0}function Be(e){return!!e.listen}var ze={createRenderer:function(e,t){return qe()}};function He(e){for(;Array.isArray(e);)e=e[0];return e}function Ge(e,t){return He(t[e+20])}function We(e,t){return He(t[e.index])}function Ke(e,t){return e.data[t+20]}function Qe(e,t){return e[t+20]}function Ye(e,t){var n=t[e];return Pe(n)?n:n[0]}function Xe(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ze(e){return 4==(4&e[2])}function Je(e){return 128==(128&e[2])}function $e(e,t){return null===e||null==t?null:e[t]}function et(e){e[18]=0}function tt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var nt={lFrame:St(null),bindingsEnabled:!0,checkNoChangesMode:!1};function rt(){return nt.bindingsEnabled}function it(){return nt.lFrame.lView}function ot(){return nt.lFrame.tView}function at(e){nt.lFrame.contextLView=e}function st(){return nt.lFrame.previousOrParentTNode}function ut(e,t){nt.lFrame.previousOrParentTNode=e,nt.lFrame.isParent=t}function ct(){return nt.lFrame.isParent}function lt(){nt.lFrame.isParent=!1}function ht(){return nt.checkNoChangesMode}function ft(e){nt.checkNoChangesMode=e}function dt(){var e=nt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function pt(){return nt.lFrame.bindingIndex++}function vt(e){var t=nt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function yt(e,t){var n=nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,mt(t)}function mt(e){nt.lFrame.currentDirectiveIndex=e}function gt(e){var t=nt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function _t(){return nt.lFrame.currentQueryIndex}function bt(e){nt.lFrame.currentQueryIndex=e}function wt(e,t){var n=Ct();nt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function kt(e,t){var n=Ct(),r=e[1];nt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Ct(){var e=nt.lFrame,t=null===e?null:e.child;return null===t?St(e):t}function St(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Et(){var e=nt.lFrame;return nt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Tt=Et;function Ot(){var e=Et();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function It(){return nt.lFrame.selectedIndex}function xt(e){nt.lFrame.selectedIndex=e}function At(){var e=nt.lFrame;return Ke(e.tView,e.selectedIndex)}function Dt(){nt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Pt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Nt(e,t,n){Ft(e,t,3,n)}function Rt(e,t,n,r){(3&e[2])===n&&Ft(e,t,n,r)}function jt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ft(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Mt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Mt(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var Lt=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Vt(e,t,n){for(var r=Be(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];qt(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Ut(e){return 3===e||4===e||6===e}function qt(e){return 64===e.charCodeAt(0)}function Bt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||zt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function zt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Ht(e){return-1!==e}function Gt(e){return 32767&e}function Wt(e){return e>>16}function Kt(e,t){for(var n=Wt(e),r=t;n>0;)r=r[15],n--;return r}function Qt(e){return"string"==typeof e?e:null==e?"":""+e}function Yt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Qt(e)}var Xt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L);function Zt(e){return{name:"body",target:e.ownerDocument.body}}function Jt(e){return e instanceof Function?e():e}var $t=!0;function en(e){var t=$t;return $t=e,t}var tn=0;function nn(e,t){var n=on(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,rn(r.data,e),rn(t,null),rn(r.blueprint,null));var i=an(e,t),o=e.injectorIndex;if(Ht(i))for(var a=Gt(i),s=Kt(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function rn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function on(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function an(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function sn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[G]:n.charCodeAt(0)||0;null==r&&(r=n[G]=tn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function un(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[G];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){wt(t,e);try{var a=o();if(null!=a||r&p.Optional)return a;throw new Error("No provider for ".concat(Yt(n),"!"))}finally{Tt()}}else if("number"==typeof o){if(-1===o)return new vn(e,t);var s=null,u=on(e,t),c=-1,l=r&p.Host?t[16][6]:null;for((-1===u||r&p.SkipSelf)&&(c=-1===u?an(e,t):t[u+8],pn(r,!1)?(s=t[1],u=Gt(c),t=Kt(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(dn(o,u,h.data)){var f=ln(u,t,n,s,r,l);if(f!==cn)return f}pn(r,t[1].data[u+8]===l)&&dn(o,u,t)?(s=h,u=Gt(c),t=Kt(c,t)):u=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){var d=t[9],v=$(void 0);try{return d?d.get(n,i,r&p.Optional):re(n,i,r&p.Optional)}finally{$(v)}}if(r&p.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Yt(n),"]"))}var cn={};function ln(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=hn(s,a,n,null==r?je(s)&&$t:r!=a&&3===s.type,i&p.Host&&o===s);return null!==u?fn(t,a,u,s):cn}function hn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Me(d)&&d.type===n)return u}return null}function fn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Lt){var a=i;if(a.resolving)throw new Error("Circular dep for "+Yt(o[n]));var s,u=en(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=$(a.injectImpl)),wt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&$(s),en(u),a.resolving=!1,Tt()}}return i}function dn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function pn(e,t){return!(e&p.Self||e&p.Host&&t)}var vn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return un(this._tNode,this._lView,e,void 0,t)}}]),e}();function yn(e){var t=e;if(P(e))return function(){var e=yn(D(t));return e?e():null};var n=Ae(t);if(null===n){var r=w(t);n=r&&r.factory}return n||null}function mn(e){return u((function(){for(var t=e.prototype.constructor,n=t[H]||yn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[H]||yn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}}))}function gn(e){return e.ngDebugContext}function _n(e){return e.ngOriginalError}function bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var wn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||bn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?gn(e)?gn(e):this._findContext(_n(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=_n(e);t&&_n(t);)t=_n(t);return t}}]),e}(),kn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),Cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(kn),Sn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(kn),En=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(kn),Tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(kn),On=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(kn);function In(e){return e instanceof kn?e.changingThisBreaksApplicationSecurity:e}function xn(e,t){var n=An(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function An(e){return e instanceof kn&&e.getTypeName()||null}function Dn(e){return new Cn(e)}function Pn(e){return new Sn(e)}function Nn(e){return new En(e)}function Rn(e){return new Tn(e)}function jn(e){return new On(e)}var Fn=!0,Mn=!1;function Ln(){return Mn=!0,Fn}function Vn(){if(Mn)throw new Error("Cannot enable prod mode after platform setup.");Fn=!1}var Un=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),qn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Bn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(e){return(e=String(e)).match(qn)||e.match(Bn)?e:(Ln()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Hn(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Gn(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Wn,Kn=Hn("area,br,col,hr,img,wbr"),Qn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Hn("rp,rt"),Xn=Gn(Yn,Qn),Zn=Gn(Kn,Gn(Qn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Yn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),Jn=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$n=Hn("srcset"),er=Gn(Jn,$n,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tr=Hn("script,style,template"),nr=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Zn.hasOwnProperty(t))return this.sanitizedSomething=!0,!tr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(er.hasOwnProperty(s)){var u=o.value;Jn[s]&&(u=zn(u)),$n[s]&&(n=u,u=(n=String(n)).split(",").map((function(e){return zn(e.trim())})).join(", ")),this.buf.push(" ",a,'="',or(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Zn.hasOwnProperty(t)&&!Kn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(or(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(e){return e.replace(/&/g,"&amp;").replace(rr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ar(e,t){var n=null;try{Wn=Wn||new Un(e);var r=t?String(t):"";n=Wn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Wn.getInertBodyElement(r)}while(r!==o);var a=new nr,s=a.sanitizeChildren(sr(n)||n);return Ln()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=sr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function sr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ur=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),cr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lr=/^url\(([^)]+)\)$/;function hr(e){if(!(e=String(e).trim()))return"";var t=e.match(lr);return t&&zn(t[1])===t[1]||e.match(cr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Ln()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function fr(e){var t=pr();return t?t.sanitize(ur.HTML,e)||"":xn(e,"HTML")?In(e):ar(qe(),Qt(e))}function dr(e){var t=pr();return t?t.sanitize(ur.URL,e)||"":xn(e,"URL")?In(e):zn(Qt(e))}function pr(){var e=it();return e&&e[12]}function vr(e,t){e.__ngContext__=t}function yr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function mr(){throw new Error("Cannot mix multi providers and regular providers")}function gr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function _r(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==gr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function br(e){return 0===e.type&&"ng-template"!==e.tagName}function wr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function kr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Ut(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!wr(e,u,n)||""===u&&1===t.length){if(Cr(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!_r(e.attrs,c,n)){if(Cr(r))return!1;a=!0}continue}var l=Sr(8&r?"class":u,i,br(e),n);if(-1===l){if(Cr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==gr(f,c,0)||2&r&&c!==h){if(Cr(r))return!1;a=!0}}}}else{if(!a&&!Cr(r)&&!Cr(u))return!1;if(a&&Cr(u))continue;a=!1,r=u|1&r}}return Cr(r)||a}function Cr(e){return 0==(1&e)}function Sr(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Er(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(kr(e,t[r],n))return!0;return!1}function Tr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Or(e,t){return e?":not("+t.trim()+")":t}function Ir(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Cr(a)||(t+=Or(o,i),i=""),r=a,o=o||!Cr(r);n++}return""!==i&&(t+=Or(o,i)),t}var xr={};function Ar(e){var t=e[3];return Ne(t)?t[3]:t}function Dr(e){return Nr(e[13])}function Pr(e){return Nr(e[4])}function Nr(e){for(;null!==e&&!Ne(e);)e=e[4];return e}function Rr(e){jr(ot(),it(),It()+e,ht())}function jr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Nt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Rt(t,o,0,n)}xt(n)}function Fr(e,t){return e<<17|t<<2}function Mr(e){return e>>17&32767}function Lr(e){return 2|e}function Vr(e){return(131068&e)>>2}function Ur(e,t){return-131069&e|t<<2}function qr(e){return 1|e}function Br(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];bt(i),a.contentQueries(2,t[o],o)}}}function zr(e,t,n){return Be(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,et(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Gr(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=st(),s=ct(),u=s?a:a&&a.parent,c=e.data[n]=ti(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return ut(s,!0),s}function Wr(e,t,n){kt(t,t[6]);try{var r=e.viewQuery;null!==r&&Ci(1,r,n);var i=e.template;null!==i&&Yr(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Br(e,t),e.staticViewQueries&&Ci(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)gi(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Ot()}}function Kr(e,t,n,r){var i=t[2];if(256!=(256&i)){kt(t,t[6]);var o=ht();try{et(t),nt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Yr(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Nt(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Rt(t,u,0,null),jt(t,0)}if(function(e){for(var t=Dr(e);null!==t;t=Pr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&tt(o,1),i[2]|=1024}}(t),function(e){for(var t=Dr(e);null!==t;t=Pr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Je(r)&&Kr(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Br(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&Nt(t,c)}else{var l=e.contentHooks;null!==l&&Rt(t,l,1),jt(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(xt(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(yt(r,i),a(2,t[i])),i++)}}finally{xt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)mi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ci(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&Nt(t,d)}else{var p=e.viewHooks;null!==p&&Rt(t,p,2),jt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,tt(t[3],-1))}finally{Ot()}}}function Qr(e,t,n,r){var i=t[10],o=!ht(),a=Ze(t);try{o&&!a&&i.begin&&i.begin(),a&&Wr(e,t,r),Kr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Yr(e,t,n,r,i){var o=It();try{xt(-1),2&r&&t.length>20&&jr(e,t,0,ht()),n(r,i)}finally{xt(o)}}function Xr(e,t,n){if(Re(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Zr(e,t,n){rt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||nn(n,t),vr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Me(u);c&&di(t,n,u);var l=fn(t,e,s,n);vr(l,t),null!==a&&pi(0,s-i,l,u,0,a),c&&(Ye(n.index,t)[8]=l)}}(e,t,n,We(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,u=nt.lFrame.currentDirectiveIndex;try{xt(s);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];mt(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?si(l,h):a&&o.push(null)}}finally{xt(-1),mt(u)}}(e,t,n))}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:We,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function $r(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ei(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ei(e,t,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:xr);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ti(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ni(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ri(e,t,n,r,i,o,a,s){var u,c,l=We(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(xi(e,n,u,r,i),je(t)&&function(e,t){var n=Ye(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.tagName||"",r):i,Be(o)?o.setProperty(l,r,i):qt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ii(e,t,n,r){var i=!1;if(rt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Er(n,a.selectors,!1)&&(i||(i=[]),sn(nn(n,t),e,a.type),Me(a)?(2&n.flags&&yr(n),ci(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,hi(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ui(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Bt(n.mergedAttrs,d.hostAttrs),fi(e,t,d),li(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),oi(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||br(t)?null:vi(l,i);o.push(h),a=ni(l,u,a),s=ni(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),ai(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Bt(n.mergedAttrs,n.attrs),i}function oi(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function ai(e,t,n){for(var r=0;r<n;r++)t.push(xr),e.blueprint.push(xr),e.data.push(null)}function si(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ui(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function ci(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function li(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Me(t)&&(n[""]=e)}}function hi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function fi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Ae(n.type)),i=new Lt(r,Me(n),null);e.blueprint.push(i),t.push(i)}function di(e,t,n){var r=We(t,e),i=$r(n),o=e[10],a=_i(e,Hr(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function pi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function vi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function yi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function mi(e,t){var n=Ye(t,e);if(Je(n)){var r=n[1];80&n[2]?Kr(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=Dr(t);null!==n;n=Pr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Kr(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Ye(a[s],t);Je(u)&&u[5]>0&&e(u)}}(n)}}function gi(e,t){var n=Ye(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Wr(r,n,n[8])}function _i(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function bi(e){for(;e;){e[2]|=64;var t=Ar(e);if(Le(e)&&!t)return e;e=t}return null}function wi(e,t,n){var r=t[10];r.begin&&r.begin();try{Kr(e,t,e.template,n)}catch(i){throw Ii(t,i),i}finally{r.end&&r.end()}}function ki(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Xe(n),i=r[1];Qr(i,r,i.template,n)}}(e[8])}function Ci(e,t,n){bt(0),t(e,n)}var Si=Promise.resolve(null);function Ei(e){return e[7]||(e[7]=[])}function Ti(e){return e.cleanup||(e.cleanup=[])}function Oi(e,t,n){return(null===e||Me(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Ii(e,t){var n=e[9],r=n?n.get(wn,null):null;r&&r.handleError(t)}function xi(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ai(e,t){var n=t[3];return-1===e.index?Ne(n)?n:null:n}function Di(e,t){var n=Ai(e,t);return n?zi(t[11],n[7]):null}function Pi(e,t,n,r,i){if(null!=r){var o,a=!1;Ne(r)?o=r:Pe(r)&&(a=!0,r=r[0]);var s=He(r);0===e&&null!==n?null==i?qi(t,n,s):Ui(t,n,s,i||null):1===e&&null!==n?Ui(t,n,s,i||null):2===e?function(e,t,n){var r=zi(e,t);r&&function(e,t,n,r){Be(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==He(n)&&Pi(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Qi(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Ni(e,t,n,r){var i=Di(e.node,t);i&&Qi(e,t,t[11],n?1:2,i,r)}function Ri(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&tt(t[3],-1),n.splice(r,1)}function ji(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Ri(i,r),t>0&&(e[n-1][4]=r[4]);var o=le(e,10+t);Ni(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Fi(e,t){if(!(256&t[2])){var n=t[11];Be(n)&&n.destroyNode&&Qi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Li(e[1],e);for(;t;){var n=null;if(Pe(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Pe(t)&&Li(t[1],t),t=Mi(t,e);null===t&&(t=e),Pe(t)&&Li(t[1],t),n=t&&t[4]}t=n}}(t)}}function Mi(e,t){var n;return Pe(e)&&(n=e[6])&&2===n.type?Ai(n,e):e[3]===t?null:e[3]}function Li(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Lt)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):He(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Be(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Ne(t[3])){r!==t[3]&&Ri(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Vi(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Di(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return We(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==ye.ShadowDom&&a!==ye.Native)return null}return We(r,n)}function Ui(e,t,n,r){Be(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function qi(e,t,n){Be(e)?e.appendChild(t,n):t.appendChild(n)}function Bi(e,t,n,r){null!==r?Ui(e,t,n,r):qi(e,t,n)}function zi(e,t){return Be(e)?e.parentNode(t):t.parentNode}function Hi(e,t){if(2===e.type){var n=Ai(e,t);return null===n?null:Wi(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?We(e,t):null}function Gi(e,t,n,r){var i=Vi(e,r,t);if(null!=i){var o=t[11],a=Hi(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Bi(o,i,n[s],a);else Bi(o,i,n,a)}}function Wi(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return We(n,t);if(0===r)return Wi(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Ne(o)?Wi(-1,o):He(o)}var a=t[16],s=a[6],u=Ar(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function Ki(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&vr(He(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Ki(e,t,n.child,r,i,o,!1),Pi(t,e,i,s,o)):1===u?Yi(e,t,r,n,i,o):Pi(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Qi(e,t,n,r,i,o){Ki(n,r,e.node.child,t,i,o,!1)}function Yi(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Pi(t,e,i,s[u],o);else Ki(e,t,s,a[3],i,o,!0)}function Xi(e,t,n){Be(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Zi(e,t,n){Be(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Ji,$i,eo,to=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(He(a)),Ne(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Ar(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Fi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Ei(n=this._lView).push(r),t.firstCreatePass&&Ti(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){bi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){wi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){ft(!0);try{wi(e,t,n)}finally{ft(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Qi(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),no=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){ki(this._view)}},{key:"checkNoChanges",value:function(){!function(e){ft(!0);try{ki(e)}finally{ft(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(to);function ro(e,t,n){return Ji||(Ji=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Ji(We(t,n))}function io(e,t,n,r){return $i||($i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Hr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Wr(t,n,e),new to(n)}}]),n}(e)),0===n.type?new $i(r,n,ro(t,n,r)):null}function oo(e,t,n,r){var i;eo||(eo=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return ro(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new vn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=an(this._hostTNode,this._hostView),t=Kt(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Wt(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Ht(e)&&null!=n?new vn(n,t):new vn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(ae,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ne(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new eo(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ce(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Ni(r,n,!0,Wi(s,this._lContainer)),e.attachToViewContainerRef(this),ce(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=ji(e,t);n&&Fi(n[1],n)}(this._lContainer,t),le(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=ji(this._lContainer,t);return n&&null!=le(this._lContainer[8],t)?new to(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(e));var o=r[n.index];if(Ne(o))i=o;else{var a;if(4===n.type)a=He(o);else if(a=r[11].createComment(""),Le(r)){var s=r[11],u=We(n,r);Ui(s,zi(s,u),a,function(e,t){return Be(e)?e.nextSibling(t):t.nextSibling}(s,u))}else Gi(r[1],r,a,n);r[n.index]=i=yi(o,r,a,n),_i(r,i)}return new eo(i,n,r)}function ao(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&je(e)){var r=Ye(e.index,t);return new to(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new to(t[16],t):null}(st(),it(),e)}var so=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return uo()},e}(),uo=ao,co=new W("Set Injector scope."),lo={},ho={},fo=[],po=void 0;function vo(){return void 0===po&&(po=new oe),po}function yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new mo(e,n,t||vo(),r)}var mo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ue(n,(function(e){return i.processProvider(e,t,n)})),ue([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(K,bo(void 0,this));var s=this.records.get(co);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:O(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;this.assertNotDestroyed();var r,i=J(this);try{if(!(n&p.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof W)&&_(e);o=a&&this.injectableDefInScope(a)?bo(go(e),lo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&p.Self?vo():this.parent).get(e,t=n&p.Optional&&t===Q?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(O(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=O(t);if(Array.isArray(t))i=t.map(O).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):O(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Y,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{J(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(O(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=D(e)))return!1;var i=w(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=w(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{ue(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;ue(i,(function(e){return r.processProvider(e,n,i||fo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,bo(i.factory,lo));var h=i.providers;if(null!=h&&!s){var f=e;ue(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=ko(e=D(e))?e:D(e&&e.provide),i=function(e,t,n){return wo(e)?bo(void 0,e.useValue):bo(_o(e,t,n),lo)}(e,t,n);if(ko(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&mr()}else{var a=this.records.get(r);a?void 0===a.multi&&mr():((a=bo(void 0,lo,!0)).factory=function(){return ie(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===ho?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(O(e)):t.value===lo&&(t.value=ho,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function go(e){var t=_(e),n=null!==t?t.factory:Ae(e);if(null!==n)return n;var r=w(e);if(null!==r)return r.factory;if(e instanceof W)throw new Error("Token ".concat(O(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=he(t,"?");throw new Error("Can't resolve all parameters for ".concat(O(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[k]||e[E]||e[S]&&e[S]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function _o(e,t,n){var r,i=void 0;if(ko(e)){var o=D(e);return Ae(o)||go(o)}if(wo(e))i=function(){return D(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(ie(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return te(D(e.useExisting))};else{var a=D(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(O(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Ae(a)||go(a);i=function(){return _construct(a,_toConsumableArray(ie(e.deps)))}}return i}function bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function wo(e){return null!==e&&"object"==typeof e&&X in e}function ko(e){return"function"==typeof e}var Co=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=yo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},So=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Co(e,t,""):Co(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Q,e.NULL=new oe,e.\u0275prov=m({token:e,providedIn:"any",factory:function(){return te(K)}}),e.__NG_ELEMENT_ID__=-1,e}(),Eo=new W("AnalyzeForEntryComponents"),To=new Map,Oo=new Set;function Io(e){return"string"==typeof e?e:e.text()}function xo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=I(i,s):2==o&&(r=I(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Ao=null;function Do(){if(!Ao){var e=L.Symbol;if(e&&e.iterator)Ao=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ao=r)}}return Ao}function Po(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var No=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ro(e){return!!jo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Do()in e)}function jo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Fo(e,t,n){return e[t]=n}function Mo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Lo(e,t,n,r){var i=it();return Mo(i,pt(),t)&&(ot(),function(e,t,n,r,i,o){var a=We(e,t),s=t[11];if(null==r)Be(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Qt(r):i(r,e.tagName||"",n);Be(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(At(),i,e,t,n,r)),Lo}function Vo(e,t,n,r){return Mo(e,pt(),n)?t+Qt(n)+r:xr}function Uo(e,t,n,r,i,o,a,s){var u=it(),c=ot(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Gr(t,n[6],e,0,a||null,$e(c,s));ii(t,n,l,$e(c,u)),Pt(t,l);var h=l.tViews=ei(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=ti(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];ut(h,!1);var f=u[11].createComment("");Gi(c,u,f,h),vr(f,u),_i(u,u[l]=yi(f,u,f,h)),Fe(h)&&Zr(c,u,h),null!=a&&Jr(u,h,s)}function qo(e){return Qe(nt.lFrame.contextLView,e)}function Bo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default,n=it();return null==n?te(e,t):un(st(),n,D(e),t)}function zo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ut(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(st(),e)}function Ho(){throw new Error("invalid")}function Go(e,t,n){var r=it();return Mo(r,pt(),t)&&ri(ot(),At(),r,e,t,r[11],n,!1),Go}function Wo(e,t,n,r,i){var o=i?"class":"style";xi(e,n,t.inputs[o],o,r)}function Ko(e,t,n,r){var i=it(),o=ot(),a=20+e,s=i[11],u=i[a]=zr(t,s,nt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=$e(s,o),c=Gr(t,n[6],e,3,i,u);return ii(t,n,c,$e(s,a)),null!==c.attrs&&xo(c,c.attrs,!1),null!==c.mergedAttrs&&xo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];ut(c,!0);var l=c.mergedAttrs;null!==l&&Vt(s,u,l);var h=c.classes;null!==h&&Zi(s,u,h);var f=c.styles;null!==f&&Xi(s,u,f),Gi(o,i,u,c),0===nt.lFrame.elementDepthCount&&vr(u,i),nt.lFrame.elementDepthCount++,Fe(c)&&(Zr(o,i,c),Xr(o,c,i)),null!==r&&Jr(i,c)}function Qo(){var e=st();ct()?lt():ut(e=e.parent,!1);var t=e;nt.lFrame.elementDepthCount--;var n=ot();n.firstCreatePass&&(Pt(n,e),Re(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Wo(n,t,it(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Wo(n,t,it(),t.stylesWithoutHost,!1)}function Yo(e,t,n,r){Ko(e,t,n,r),Qo()}function Xo(e,t,n){var r=it(),i=ot(),o=e+20,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=$e(o,r),s=Gr(t,n[6],e,4,"ng-container",a);return null!==a&&xo(s,a,!0),ii(t,n,s,$e(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];ut(a,!0);var s=r[o]=r[11].createComment("");Gi(i,r,s,a),vr(s,r),Fe(a)&&(Zr(i,r,a),Xr(i,a,r)),null!=n&&Jr(r,a)}function Zo(){var e=st(),t=ot();ct()?lt():ut(e=e.parent,!1),t.firstCreatePass&&(Pt(t,e),Re(e)&&t.queries.elementEnd(e))}function Jo(){return it()}function $o(e){return!!e&&"function"==typeof e.then}function ea(e){return!!e&&"function"==typeof e.subscribe}function ta(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=it(),o=ot(),a=st();return ra(o,i,i[11],a,e,t,n,r),ta}function na(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=st(),o=it(),a=ot();return ra(a,o,Oi(gt(a.data),i,o),i,e,t,n,r),na}function ra(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Fe(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Ei(t),h=!0;if(3===r.type){var f=We(r,t),d=s?s(f):me,p=d.target||f,v=l.length,y=s?function(e){return s(He(e[r.index])).target}:r.index;if(Be(n)){var m=null;if(!s&&u&&(m=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=oa(r,t,o,!1);var g=n.listen(d.name||p,i,o);l.push(o,g),c&&c.push(i,y,v,v+1)}}else o=oa(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var C=t[_[k]][_[k+1]].subscribe(o),S=l.length;l.push(o,C),c&&c.push(i,r.index,S,-(S+1))}}}function ia(e,t,n){try{return!1!==t(n)}catch(r){return Ii(e,r),!1}}function oa(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?Ye(e.index,t):t;0==(32&t[2])&&bi(a);for(var s=ia(t,n,o),u=i.__ngNextListenerFn__;u;)s=ia(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(nt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,nt.lFrame.contextLView))[8]}(e)}function sa(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Er(e,o,!0):Tr(r,o))return i}else n=i}return n}function ua(e){var t=it()[16][6];if(!t.projection)for(var n=t.projection=he(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?sa(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ca(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=it(),i=ot(),o=Gr(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),lt(),function(e,t,n){Yi(t[11],0,t,n,Vi(e,n,t),Hi(n.parent||t[6],t))}(i,r,o)}function la(e,t,n,r,i){var o=it(),a=Vo(o,t,n,r);return a!==xr&&ri(ot(),At(),o,e,a,o[11],i,!1),la}var ha=[];function fa(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Mr(o):Vr(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];da(e[s],t)&&(u=!0,e[s+1]=r?qr(c):Lr(c)),s=r?Mr(c):Vr(c)}u&&(e[n+1]=r?Lr(o):qr(o))}function da(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&pe(e,t)>=0}var pa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function va(e){return e.substring(pa.key,pa.keyEnd)}function ya(e,t){var n=pa.textEnd;return n===t?-1:(t=pa.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,pa.key=t,n),ma(e,t,n))}function ma(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ga(e,t,n){return ka(e,t,n,!1),ga}function _a(e,t){return ka(e,t,null,!0),_a}function ba(e){!function(e,t,n,r){var i=ot(),o=vt(2);i.firstUpdatePass&&Sa(i,null,o,!0);var a=it();if(n!==xr&&Mo(a,o,n)){var s=i.data[It()+20];if(Aa(s,!0)&&!Ca(i,o)){var u=s.classesWithoutHost;null!==u&&(n=I(u,n||"")),Wo(i,s,a,n,!0)}else!function(e,t,n,r,i,o,a,s){i===xr&&(i=ha);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Oa(e,t,n,r,p,v,!0,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return ha;var r=[],i=In(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(fe,wa,e)}function wa(e,t){for(var n=function(e){return function(e){pa.key=0,pa.keyEnd=0,pa.value=0,pa.valueEnd=0,pa.textEnd=e.length}(e),ya(e,ma(e,0,pa.textEnd))}(t);n>=0;n=ya(t,n))fe(e,va(t),!0)}function ka(e,t,n,r){var i,o,a=it(),s=ot(),u=vt(2);(s.firstUpdatePass&&Sa(s,e,u,r),t!==xr&&Mo(a,u,t))&&(null==n&&(i=null===(o=nt.lFrame)?null:o.currentSanitizer)&&(n=i),Oa(s,s.data[It()+20],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=O(In(e)))),e}(t,n),r,u))}function Ca(e,t){return t>=e.expandoStartIndex}function Sa(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[It()+20],a=Ca(e,n);Aa(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=gt(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ta(n=Ea(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Ea(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Vr(r))return e[Mr(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Mr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ta(s=Ea(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ta(r,e[o].hostAttrs,n);return Ta(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Mr(a),u=Vr(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||pe(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Mr(e[s+1]);e[r+1]=Fr(f,s),0!==f&&(e[f+1]=Ur(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Fr(s,0),0!==s&&(e[s+1]=Ur(e[s+1],r)),s=r;else e[r+1]=Fr(u,0),0===s?s=r:e[u+1]=Ur(e[u+1],r),u=r;l&&(e[r+1]=Lr(e[r+1])),fa(e,c,r,!0),fa(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&pe(o,t)>=0&&(n[r+1]=qr(n[r+1]))}(t,c,e,r,o),a=Fr(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function Ea(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ta(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ta(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),fe(e,a,!!n||t[++o]))}return void 0===e?null:e}function Oa(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,c=u[s+1];xa(1==(1&c)?Ia(u,t,n,i,Vr(c),a):void 0)||(xa(o)||2==(2&c)&&(o=Ia(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Be(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Ge(It(),n),i,o))}}function Ia(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===xr&&(f=h?ha:void 0);var d=h?de(f,r):l===r?f:void 0;if(c&&!xa(d)&&(d=de(u,r)),xa(d)&&(s=d,a))return s;var p=e[i+1];i=a?Mr(p):Vr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=de(v,r))}return s}function xa(e){return void 0!==e}function Aa(e,t){return 0!=(e.flags&(t?16:32))}function Da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=it(),r=ot(),i=e+20,o=r.firstCreatePass?Gr(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return Be(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Gi(r,n,a,o),ut(o,!1)}function Pa(e){return Na("",e,""),Pa}function Na(e,t,n){var r=it(),i=Vo(r,e,t,n);return i!==xr&&function(e,t,n){var r=Ge(t,e),i=e[11];Be(i)?i.setValue(r,n):r.textContent=n}(r,It(),i),Na}function Ra(e,t,n){var r=it();return Mo(r,pt(),t)&&ri(ot(),At(),r,e,t,r[11],n,!0),Ra}function ja(e,t,n){var r=it();if(Mo(r,pt(),t)){var i=ot(),o=At();ri(i,o,r,e,t,Oi(gt(i.data),o,r),n,!0)}return ja}function Fa(e,t){var n=Xe(e)[1],r=n.data.length-1;Pt(n,{directiveStart:r,directiveEnd:r+1})}function Ma(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Me(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=La(e.inputs),o.declaredInputs=La(e.declaredInputs),o.outputs=La(e.outputs);var a=i.hostBindings;a&&qa(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Va(e,s),u&&Ua(e,u),y(e.inputs,i.inputs),y(e.declaredInputs,i.declaredInputs),y(e.outputs,i.outputs),Me(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Ma&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Bt(i.hostAttrs,n=Bt(n,i.hostAttrs))}}(r)}function La(e){return e===me?{}:e===ge?[]:e}function Va(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Ua(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function qa(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Ba=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function za(e){e.type.prototype.ngOnChanges&&(e.setInput=Ha,e.onChanges=function(){var e=Ga(this),t=e&&e.current;if(t){var n=e.previous;if(n===me)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function Ha(e,t,n,r){var i=Ga(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:me,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ba(u&&u.currentValue,t,a===me),e[r]=t}function Ga(e){return e.__ngSimpleChanges__||null}function Wa(e,t,n,r,i){if(e=D(e),Array.isArray(e))for(var o=0;o<e.length;o++)Wa(e[o],t,n,r,i);else{var a=ot(),s=it(),u=ko(e)?e:D(e.provide),c=_o(e),l=st(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(ko(e)||!e.multi){var p=new Lt(c,i,Bo),v=Ya(u,t,i?h:h+d,f);-1===v?(sn(nn(l,s),a,u),Ka(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=Ya(u,t,h+d,f),m=Ya(u,t,h,h+d),g=y>=0&&n[y],_=m>=0&&n[m];if(i&&!_||!i&&!g){sn(nn(l,s),a,u);var b=function(e,t,n,r,i){var o=new Lt(e,n,Bo);return o.multi=[],o.index=t,o.componentProviders=0,Qa(o,i,r&&!n),o}(i?Za:Xa,n.length,i,r,c);!i&&_&&(n[m].providerFactory=b),Ka(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else Ka(a,e,y>-1?y:m,Qa(n[i?m:y],c,!i&&r));!i&&r&&_&&n[m].componentProviders++}}}function Ka(e,t,n,r){var i=ko(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Qa(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ya(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Xa(e,t,n,r){return Ja(this.multi,[])}function Za(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=fn(n,n[1],this.providerFactory.index,r);Ja(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ja(o,i=[]);return i}function Ja(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function $a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=ot();if(r.firstCreatePass){var i=Me(e);Wa(n,r.data,r.blueprint,i,!0),Wa(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}za.ngInherit=!0;var es=function e(){_classCallCheck(this,e)},ts=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(O(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),ns=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new ts,e}(),rs=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return is(e)},e}(),is=function(e){return ro(e,st(),it())},os=function e(){_classCallCheck(this,e)},as=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),ss=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return us()},e}(),us=function(){var e=it(),t=Ye(st().index,e);return function(e){var t=e[11];if(Be(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Pe(t)?t:e)},cs=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=m({token:e,providedIn:"root",factory:function(){return null}}),e}(),ls=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},hs=new ls("9.1.13"),fs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Ro(e)}},{key:"create",value:function(e){return new ps(e)}}]),e}(),ds=function(e,t){return t},ps=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ds}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<gs(n,r,i)?t:n,a=gs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ro(e))throw new Error("Error trying to diff '".concat(O(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Po(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Po(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Do()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Po(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Po(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Po(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Po(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new vs(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ms),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ms),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),vs=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ys=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Po(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ms=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ys,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function gs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var _s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||jo(e)}},{key:"create",value:function(){return new bs}}]),e}(),bs=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||jo(e)))throw new Error("Error trying to diff '".concat(O(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ws(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Po(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),ws=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},ks=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new d,new h]]}}}]),e}();return e.\u0275prov=m({token:e,providedIn:"root",factory:function(){return new e([new fs])}}),e}(),Cs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new d,new h]]}}}]),e}();return e.\u0275prov=m({token:e,providedIn:"root",factory:function(){return new e([new _s])}}),e}(),Ss=[new _s],Es=new ks([new fs]),Ts=new Cs(Ss),Os=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Is(e,rs)},e}(),Is=function(e,t){return io(e,t,st(),it())},xs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return As(e,rs)},e}(),As=function(e,t){return oo(e,t,st(),it())},Ds={},Ps=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=xe(e);return new js(t,this.ngModule)}}]),n}(ns);function Ns(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Rs=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Xt}}),js=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Ir).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return Ns(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ns(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Ds,i);return o!==Ds||r===Ds?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(os,ze),u=a.get(cs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Be(e))return e.selectRootElement(t,n===ye.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Xt,clean:Si,playerHandler:null,flags:0},v=ei(0,-1,null,1,0,null,null,null,null,null),y=Hr(null,v,p,f,null,null,s,c,u,a);kt(y,null);try{var m=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Gr(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(xo(s,u,!0),null!==e&&(Vt(i,e,u),null!==s.classes&&Zi(i,e,s.classes),null!==s.styles&&Xi(i,e,s.styles)));var c=r.createRenderer(e,t),l=Hr(n,$r(t),null,t.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(sn(nn(s,n),a,t.type),ci(a,s),hi(s,n.length,1)),_i(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)Vt(c,h,["ng-version",hs.full]);else{var g=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=g.attrs,b=g.classes;_&&Vt(c,h,_),b&&b.length>0&&Zi(c,h,b.join(" "))}if(o=Ke(v,0),void 0!==t)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=t[k];w.push(null!=C?Array.from(C):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=st();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(e,r,1),fi(e,t,n));var i=fn(t,e,t.length-1,r);vr(i,t);var o=We(r,t);return o&&vr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=st();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){xt(s.index-20);var u=n[1];oi(u,t),ai(u,n,t.hostVars),si(t,a)}return a}(m,this.componentDef,y,p,[Fa]),Wr(v,y,null)}finally{Ot()}var S=new Fs(this.componentType,i,ro(rs,o,y),y,o);return n&&!d||(v.node.child=o),S}}]),n}(es),Fs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new no(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ti(0,null,2,-1,null,null)),c[6]=l,s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new vn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Ms=void 0,Ls=["en",[["a","p"],["AM","PM"],Ms],[["AM","PM"],Ms,Ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ms,"{1} 'at' {0}",Ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Vs={};function Us(e,t,n){"string"!=typeof t&&(n=t,t=e[Gs.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Vs[t]=e,n&&(Vs[t][Gs.ExtraData]=n)}function qs(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Hs(t);if(n)return n;var r=t.split("-")[0];if(n=Hs(r))return n;if("en"===r)return Ls;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Bs(e){return qs(e)[Gs.CurrencyCode]||null}function zs(e){return qs(e)[Gs.PluralCase]}function Hs(e){return e in Vs||(Vs[e]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[e]),Vs[e]}var Gs=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function Ws(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ks=new Map,Qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Ps(_assertThisInitialized(i));var o=De(e),a=e[z]||null;return a&&Ws(a),i._bootstrapComponents=Jt(o.bootstrap),i._r3Injector=yo(e,r,[{provide:ae,useValue:_assertThisInitialized(i)},{provide:ns,useValue:i.componentFactoryResolver}],O(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;return e===So||e===ae||e===K?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(ae),Ys=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==De(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(O(t)," vs ").concat(O(t.name)))})(n,Ks.get(n),t),Ks.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new Qs(this.moduleType,e)}}]),n}(se);function Xs(e,t,n,r){return $s(it(),dt(),e,t,n,r)}function Zs(e,t,n,r,i){return eu(it(),dt(),e,t,n,r,i)}function Js(e,t){var n=e[t];return n===xr?void 0:n}function $s(e,t,n,r,i,o){var a=t+n;return Mo(e,a,i)?Fo(e,a+1,o?r.call(o,i):r(i)):Js(e,a+1)}function eu(e,t,n,r,i,o,a){var s=t+n;return function(e,t,n,r){var i=Mo(e,t,n);return Mo(e,t+1,r)||i}(e,s,i,o)?Fo(e,s+2,a?r.call(a,i,o):r(i,o)):Js(e,s+2)}function tu(e,t){var n,r=ot(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ae(n.type)),a=$(Bo),s=en(!1),u=o();return en(s),$(a),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,it(),e,u),u}function nu(e,t,n){var r=it(),i=Qe(r,e);return ou(r,iu(r,e)?$s(r,dt(),t,i.transform,n,i):i.transform(n))}function ru(e,t,n,r){var i=it(),o=Qe(i,e);return ou(i,iu(i,e)?eu(i,dt(),t,o.transform,n,r,o):o.transform(n,r))}function iu(e,t){return e[1].data[t+20].pure}function ou(e,t){return No.isWrapped(t)&&(t=No.unwrap(t),e[nt.lFrame.bindingIndex]=xr),t}var au=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(u),u}}]),n}(r.a);function su(){return this._results[Do()]()}var uu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new au,this.length=0;var t=Do(),n=e.prototype;n[t]||(n[t]=su)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),cu=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),lu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Ou(e,t).matches&&this.queries[t].setDirty()}}]),e}(),hu=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},fu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),du=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,pu(t,n[r]));else{var i=this.metadata.predicate;i===Os?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===rs||r===xs||r===Os&&0===t.type)this.addMatch(t.index,-2);else{var i=hn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function pu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function vu(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?ro(rs,e,t):0===e.type?io(Os,rs,e,t):null}(t,e):-2===n?function(e,t,n){return n===rs?ro(rs,t,e):n===Os?io(Os,rs,t,e):n===xs?oo(xs,rs,t,e):void 0}(e,t,r):fn(e,e[1],n,t)}function yu(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:vu(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function mu(e){var t=it(),n=ot(),r=_t();bt(r+1);var i=Ou(n,r);if(e.dirty&&Ze(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=yu(t,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];e(y[1],y,l,i)}}}return i}(n,t,r,[]):yu(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function gu(e,t,n){bu(ot(),it(),e,t,n,!0)}function _u(e,t,n){bu(ot(),it(),e,t,n,!1)}function bu(e,t,n,r,i,o){e.firstCreatePass&&(Tu(e,new hu(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Eu(e,t)}function wu(e,t,n,r){Cu(ot(),it(),t,n,r,!1,st(),e)}function ku(e,t,n,r){Cu(ot(),it(),t,n,r,!0,st(),e)}function Cu(e,t,n,r,i,o,a,s){e.firstCreatePass&&(Tu(e,new hu(n,r,o,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),Eu(e,t)}function Su(){return e=it(),t=_t(),e[19].queries[t].queryList;var e,t}function Eu(e,t){var n=new uu;!function(e,t,n,r){var i=Ei(t);i.push(n),e.firstCreatePass&&Ti(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new lu),t[19].queries.push(new cu(n))}function Tu(e,t,n){null===e.queries&&(e.queries=new fu),e.queries.track(new du(t,n))}function Ou(e,t){return e.queries.getByIndex(t)}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Default,t=ao(!0);if(null!=t||e&p.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var xu=new W("Application Initializer"),Au=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();$o(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(xu,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),Du=new W("AppId"),Pu={provide:Du,useFactory:function(){return"".concat(Nu()).concat(Nu()).concat(Nu())},deps:[]};function Nu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ru=new W("Platform Initializer"),ju=new W("Platform ID"),Fu=new W("appBootstrapListener"),Mu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),Lu=new W("LocaleId"),Vu=new W("DefaultCurrencyCode"),Uu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},qu=function(e){return new Ys(e)},Bu=qu,zu=function(e){return Promise.resolve(qu(e))},Hu=function(e){var t=qu(e),n=Jt(De(e).declarations).reduce((function(e,t){var n=xe(t);return n&&e.push(new js(n)),e}),[]);return new Uu(t,n)},Gu=Hu,Wu=function(e){return Promise.resolve(Hu(e))},Ku=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Bu,this.compileModuleAsync=zu,this.compileModuleAndAllComponentsSync=Gu,this.compileModuleAndAllComponentsAsync=Wu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),Qu=new W("compilerOptions"),Yu=Promise.resolve(0);function Xu(e){"undefined"==typeof Zone?Yu.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Zu=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new au(!1),this.onMicrotaskEmpty=new au(!1),this.onStable=new au(!1),this.onError=new au(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=L.requestAnimationFrame,t=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(L,(function(){e.lastRequestAnimationFrameId=-1,tc(e),ec(e)})),tc(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return nc(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),rc(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return nc(n),e.invoke(r,i,o,a,s)}finally{rc(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,tc(n),ec(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,$u,Ju,Ju);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Ju(){}var $u={};function ec(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function tc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function nc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rc(e){e._nesting--,ec(e)}var ic=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new au,this.onMicrotaskEmpty=new au,this.onStable=new au,this.onError=new au}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),oc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Zu.assertNotInAngularZone(),Xu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Xu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(Zu))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}(),ac=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,cc.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return cc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function sc(e){cc=e}var uc,cc=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),lc=function(e,t,n){var r=e.get(Qu,[]).concat(t),i=new Ys(n);if(0===To.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var e=L.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=So.create({providers:s}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(Io))}return t}return To.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){Oo.delete(e)}(n)}));t.push(u)})),To=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},hc=new W("AllowMultipleToken"),fc=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function dc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new W(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=pc();if(!o||o.injector.get(hc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:co,useValue:"platform"});!function(e){if(uc&&!uc.destroyed&&!uc.injector.get(hc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");uc=e.get(vc);var t=e.get(Ru,null);t&&t.forEach((function(e){return e()}))}(So.create({providers:a,name:r}))}return function(e){var t=pc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function pc(){return uc&&!uc.destroyed?uc:null}var vc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new ic:("zone.js"===n?void 0:n)||new Zu({enableLongStackTrace:Ln(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Zu,useValue:o}];return o.run((function(){var t=So.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(wn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return gc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(Au)).runInitializers(),a.donePromise.then((function(){return Ws(n.injector.get(Lu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return $o(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=yc({},n);return lc(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(mc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(O(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(So))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function yc(e,t){return Array.isArray(t)?t.reduce(yc,e):Object.assign(Object.assign({},e),t)}var mc=function(){var e=function(){function e(t,n,r,i,u,c){var l=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ln(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),f=new o.a((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){Zu.assertNotInAngularZone(),Xu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Zu.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe(Object(s.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof es?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ae),o=n.create(So.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(oc,null);return a&&o.injector.get(ac).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Ln()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.checkNoChanges()}}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;gc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Fu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),gc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(Zu),te(Mu),te(So),te(wn),te(ns),te(Au))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function gc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var _c=function e(){_classCallCheck(this,e)},bc=function e(){_classCallCheck(this,e)},wc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},kc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||wc}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Cc(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Cc(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(Ku),te(bc,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac}),e}();function Cc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Sc=function(e){return null},Ec=dc(null,"core",[{provide:ju,useValue:"unknown"},{provide:vc,deps:[So]},{provide:ac,deps:[]},{provide:Mu,deps:[]}]),Tc=[{provide:mc,useClass:mc,deps:[Zu,Mu,So,wn,ns,Au]},{provide:Rs,deps:[Zu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Au,useClass:Au,deps:[[new h,xu]]},{provide:Ku,useClass:Ku,deps:[]},Pu,{provide:ks,useFactory:function(){return Es},deps:[]},{provide:Cs,useFactory:function(){return Ts},deps:[]},{provide:Lu,useFactory:function(e){return Ws(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new l(Lu),new h,new d]]},{provide:Vu,useValue:"USD"}],Oc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=Se({type:e}),e.\u0275inj=g({factory:function(t){return new(t||e)(te(mc))},providers:Tc}),e}()},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[u.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(u.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new r(e)},r);function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.3.1","app")},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return Object(i.a)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof c&&(s=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(s)(Object(a.a)(t,u))}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),l=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),n}(r.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},Y7HM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("DH7j");function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},jmUF:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("8Y7J"),c=n("Jgta");function l(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),f=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),d=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=t.run((function(){return new h(Zone.current,i.a)}))};function p(e){return function(t){return(t=t.lift(new f(e.ngZone))).pipe(Object(a.a)(e.outsideAngular),Object(s.b)(e.insideAngular))}}var v=["ngOnDestroy"],y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(v.indexOf(o)>-1)return function(){};var a=t.toPromise().then((function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return a[t]},apply:function(e,t,n){return a.then((function(e){var t,i=e&&e.apply(void 0,_toConsumableArray(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},m=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype||t).forEach((function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))}))}))},g=new u.q("angularfire2.app.options"),_=new u.q("angularfire2.app.nameOrConfig"),b=new u.O("6.1.4");function w(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(e){return e&&e.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(t,i)}));try{JSON.stringify(t)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.W)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function S(t,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(e,t){var n=u[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var E={provide:function e(){_classCallCheck(this,e)},useFactory:w,deps:[g,u.z,[new u.A,_]]},T=function(){var e=function(){function e(t){_classCallCheck(this,e),c.a.registerVersion("angularfire",b.full,t.toString()),c.a.registerVersion("angular",u.N.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:g,useValue:t},{provide:_,useValue:n}]}}}]),e}();return e.\u0275mod=u.Mb({type:e}),e.\u0275inj=u.Lb({factory:function(t){return new(t||e)(u.Xb(u.B))},providers:[E]}),e}()}).call(this,n("3UD+")(e))},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},mAIw:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("z6cu"),u=((r=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(o.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(e,t))}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.scheduler,this.delay))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(u.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(u.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(i.a),f=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return D})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return R})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return p})),n.d(t,"u",(function(){return v})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return g})),n.d(t,"x",(function(){return w})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return O})),n.d(t,"A",(function(){return j})),n.d(t,"B",(function(){return F})),n.d(t,"C",(function(){return N})),n.d(t,"D",(function(){return W})),n.d(t,"E",(function(){return G})),n.d(t,"F",(function(){return I})),n.d(t,"G",(function(){return q})),n.d(t,"H",(function(){return z})),n.d(t,"I",(function(){return H}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function m(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return d().indexOf("Electron/")>=0}function b(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function k(){return!1}var C=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),S=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?E(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new C(i,s,r);return u},e}();function E(e,t){return e.replace(T,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var T=/\{\$([^}]+)}/g;function O(e){return JSON.parse(e)}function I(e){return JSON.stringify(e)}var x=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=O(c(o[0])||""),n=O(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},A=function(e){var t=x(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},D=function(e){var t=x(e).claims;return"object"==typeof t&&!0===t.admin};function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function R(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function F(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var M=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function L(e,t){var n=new V(e,t);return n.subscribe.bind(n)}var V=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function U(){}var q=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function B(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}function z(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(B(e,t,r)+"must be a valid function.")}function H(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(B(e,t,r)+"must be a valid context object.")}var G=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},W=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}},qgXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=((i=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){t=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof u?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((r=new i).closed=!0,r),i);function l(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}},"tf+s":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(e,t))}}var u=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new a(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(e){return e.lift(new c(e))}}var u,c=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e}},{key:"refCount",value:function(){return s()(this)}}]),n}(i.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(u=h.prototype)._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function p(){return new r.a}function v(){return function(e){return s()((t=p,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,f);return r.source=e,r.subjectFactory=n,r})(e));var t}}},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},zIRd:function(e,t,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.j)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.h)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(a.h)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.k)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o(o({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.k)(t,e)},createSubscribe:a.i,ErrorFactory:a.b,deepExtend:a.k}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.o)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.u)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,e)};var g,_=p;(g=_).INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),g.registerVersion("@firebase/app","0.6.17",void 0),g.registerVersion("fire-js",""),t.a=_},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J"),i={apiKey:"AIzaSyDPZhoVxLBx1GUTy0NIQieVGm2NtwolEFY",authDomain:"galli-list.firebaseapp.com",projectId:"galli-list",storageBucket:"galli-list.appspot.com",messagingSenderId:"158754402733",appId:"1:158754402733:web:b5515d146fa09b6df5b124",measurementId:"G-SWZE1FZZP9"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275prov=Object(r.Kb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Xb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c)).\u0275fac=function(e){return new(e||h)(r.Xb(u))},h.\u0275prov=Object(r.Kb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Xb)(u))}function y(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}var _,b=((_=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||_)},_.\u0275prov=Object(r.Kb)({factory:w,token:_,providedIn:"root"}),_);function w(e){var t=Object(r.Xb)(u).location;return new T(Object(r.Xb)(c),t&&t.origin||"")}var k,C,S,E=new r.q("appBaseHref"),T=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return y(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(e){return new(e||S)(r.Xb(c),r.Xb(E,8))},S.\u0275prov=r.Kb({token:S,factory:S.\u0275fac}),S),O=((C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=y(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(e){return new(e||C)(r.Xb(c),r.Xb(E,8))},C.\u0275prov=r.Kb({token:C,factory:C.\u0275fac}),C),I=((k=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=m(A(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+g(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,A(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||k)(r.Xb(b),r.Xb(c))},k.normalizeQueryParams=g,k.joinWithSlash=y,k.stripTrailingSlash=m,k.\u0275prov=Object(r.Kb)({factory:x,token:k,providedIn:"root"}),k);function x(){return new I(Object(r.Xb)(b),Object(r.Xb)(c))}function A(e){return e.replace(/\/index.html$/,"")}var D=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),P=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),N=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),R=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),j=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function F(e,t){return B(Object(r.lb)(e)[r.bb.DateFormat],t)}function M(e,t){return B(Object(r.lb)(e)[r.bb.TimeFormat],t)}function L(e,t){return B(Object(r.lb)(e)[r.bb.DateTimeFormat],t)}function V(e,t){var n=Object(r.lb)(e),i=n[r.bb.NumberSymbols][t];if(void 0===i){if(t===j.CurrencyDecimal)return n[r.bb.NumberSymbols][j.Decimal];if(t===j.CurrencyGroup)return n[r.bb.NumberSymbols][j.Group]}return i}var U=r.ob;function q(e){if(!e[r.bb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r.bb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function B(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function z(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var H=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G={},W=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,K=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Q=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Y=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function X(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case Q.FullYear:return t.getFullYear();case Q.Month:return t.getMonth();case Q.Date:return t.getDate();case Q.Hours:return t.getHours();case Q.Minutes:return t.getMinutes();case Q.Seconds:return t.getSeconds();case Q.FractionalSeconds:return t.getMilliseconds();case Q.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===Q.Hours)0===u&&-12===n&&(u=12);else if(e===Q.FractionalSeconds)return s=t,Z(u,3).substr(0,s);var c=V(a,j.MinusSign);return Z(u,t,c,r,i)}}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(e,t,n,i,o,a){switch(n){case Y.Months:return function(e,t,n){var i=Object(r.lb)(e),o=B([i[r.bb.MonthsFormat],i[r.bb.MonthsStandalone]],t);return B(o,n)}(t,o,i)[e.getMonth()];case Y.Days:return function(e,t,n){var i=Object(r.lb)(e),o=B([i[r.bb.DaysFormat],i[r.bb.DaysStandalone]],t);return B(o,n)}(t,o,i)[e.getDay()];case Y.DayPeriods:var s=e.getHours(),u=e.getMinutes();if(a){var c,l=function(e){var t=Object(r.lb)(e);return q(t),(t[r.bb.ExtraData][2]||[]).map((function(e){return"string"==typeof e?z(e):[z(e[0]),z(e[1])]}))}(t),h=function(e,t,n){var i=Object(r.lb)(e);q(i);var o=B([i[r.bb.ExtraData][0],i[r.bb.ExtraData][1]],t)||[];return B(o,n)||[]}(t,o,i);if(l.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],a=o.hours,l=o.minutes;s>=r&&u>=i&&(s<a||s===a&&u<l)&&(c=h[t])}else{var f=e.hours,d=e.minutes;f===s&&d===u&&(c=h[t])}})),c)return c}return function(e,t,n){var i=Object(r.lb)(e),o=B([i[r.bb.DayPeriodsFormat],i[r.bb.DayPeriodsStandalone]],t);return B(o,n)}(t,o,i)[s<12?0:1];case Y.Eras:return function(e,t){return B(Object(r.lb)(e)[r.bb.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,a,e,t,n,i)}}function ee(e){return function(t,n,r){var i=-1*r,o=V(n,j.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case K.Short:return(i>=0?"+":"")+Z(a,2,o)+Z(Math.abs(i%60),2,o);case K.ShortGMT:return"GMT"+(i>=0?"+":"")+Z(a,1,o);case K.Long:return"GMT"+(i>=0?"+":"")+Z(a,2,o)+":"+Z(Math.abs(i%60),2,o);case K.Extended:return 0===r?"Z":(i>=0?"+":"")+Z(a,2,o)+":"+Z(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return Z(i,e,V(r,j.MinusSign))}}var ne={};function re(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ie(e){return e instanceof Date&&!isNaN(e.valueOf())}var oe,ae,se,ue,ce=function e(){_classCallCheck(this,e)},le=((ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(U(t||this.locale)(e)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}]),n}(ce)).\u0275fac=function(e){return new(e||ae)(r.Xb(r.u))},ae.\u0275prov=r.Kb({token:ae,factory:ae.\u0275fac}),ae),he=((oe=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.xb)(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}()).\u0275fac=function(e){return new(e||oe)(r.Ob(r.s),r.Ob(r.t),r.Ob(r.l),r.Ob(r.E))},oe.\u0275dir=r.Jb({type:oe,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),oe),fe=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),de=((se=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Object(r.W)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(nA){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new fe(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new pe(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new pe(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||se)(r.Ob(r.P),r.Ob(r.L),r.Ob(r.s))},se.\u0275dir=r.Jb({type:se,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),se),pe=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},ve=((ue=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){me("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){me("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||ue)(r.Ob(r.P),r.Ob(r.L))},ue.\u0275dir=r.Jb({type:ue,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ue),ye=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function me(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.xb)(t),"'."))}var ge,_e,be=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),we=((_e=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}()).\u0275fac=function(e){return new(e||_e)},_e.\u0275dir=r.Jb({type:_e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),_e),ke=((ge=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new be(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||ge)(r.Ob(r.P),r.Ob(r.L),r.Ob(we,1))},ge.\u0275dir=r.Jb({type:ge,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),ge);function Ce(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r.xb)(e),"'"))}var Se,Ee,Te,Oe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Ie=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),xe=new Oe,Ae=((Te=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(r.ub)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.R.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(r.tb)(t))return Ie;if(Object(r.sb)(t))return xe;throw Ce(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||Te)(r.Zb())},Te.\u0275pipe=r.Nb({name:"async",type:Te,pure:!1}),Te),De=((Ee=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,i){var o=function(e){if(ie(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(H))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,c),t}(t)}var s=new Date(e);if(!ie(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var i=function(e){return Object(r.lb)(e)[r.bb.LocaleId]}(t);if(G[i]=G[i]||{},G[i][n])return G[i][n];var o="";switch(n){case"shortDate":o=F(t,R.Short);break;case"mediumDate":o=F(t,R.Medium);break;case"longDate":o=F(t,R.Long);break;case"fullDate":o=F(t,R.Full);break;case"shortTime":o=M(t,R.Short);break;case"mediumTime":o=M(t,R.Medium);break;case"longTime":o=M(t,R.Long);break;case"fullTime":o=M(t,R.Full);break;case"short":var a=e(t,"shortTime"),s=e(t,"shortDate");o=X(L(t,R.Short),[a,s]);break;case"medium":var u=e(t,"mediumTime"),c=e(t,"mediumDate");o=X(L(t,R.Medium),[u,c]);break;case"long":var l=e(t,"longTime"),h=e(t,"longDate");o=X(L(t,R.Long),[l,h]);break;case"full":var f=e(t,"fullTime"),d=e(t,"fullDate");o=X(L(t,R.Full),[f,d])}return o&&(G[i][n]=o),o}(n,t)||t;for(var a,s=[];t;){if(!(a=W.exec(t))){s.push(t);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;t=u}var c=o.getTimezoneOffset();i&&(c=re(i,c),o=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(re(t,r)-r))}(o,i));var l="";return s.forEach((function(e){var t=function(e){if(ne[e])return ne[e];var t;switch(e){case"G":case"GG":case"GGG":t=$(Y.Eras,N.Abbreviated);break;case"GGGG":t=$(Y.Eras,N.Wide);break;case"GGGGG":t=$(Y.Eras,N.Narrow);break;case"y":t=J(Q.FullYear,1,0,!1,!0);break;case"yy":t=J(Q.FullYear,2,0,!0,!0);break;case"yyy":t=J(Q.FullYear,3,0,!1,!0);break;case"yyyy":t=J(Q.FullYear,4,0,!1,!0);break;case"M":case"L":t=J(Q.Month,1,1);break;case"MM":case"LL":t=J(Q.Month,2,1);break;case"MMM":t=$(Y.Months,N.Abbreviated);break;case"MMMM":t=$(Y.Months,N.Wide);break;case"MMMMM":t=$(Y.Months,N.Narrow);break;case"LLL":t=$(Y.Months,N.Abbreviated,P.Standalone);break;case"LLLL":t=$(Y.Months,N.Wide,P.Standalone);break;case"LLLLL":t=$(Y.Months,N.Narrow,P.Standalone);break;case"w":t=te(1);break;case"ww":t=te(2);break;case"W":t=te(1,!0);break;case"d":t=J(Q.Date,1);break;case"dd":t=J(Q.Date,2);break;case"E":case"EE":case"EEE":t=$(Y.Days,N.Abbreviated);break;case"EEEE":t=$(Y.Days,N.Wide);break;case"EEEEE":t=$(Y.Days,N.Narrow);break;case"EEEEEE":t=$(Y.Days,N.Short);break;case"a":case"aa":case"aaa":t=$(Y.DayPeriods,N.Abbreviated);break;case"aaaa":t=$(Y.DayPeriods,N.Wide);break;case"aaaaa":t=$(Y.DayPeriods,N.Narrow);break;case"b":case"bb":case"bbb":t=$(Y.DayPeriods,N.Abbreviated,P.Standalone,!0);break;case"bbbb":t=$(Y.DayPeriods,N.Wide,P.Standalone,!0);break;case"bbbbb":t=$(Y.DayPeriods,N.Narrow,P.Standalone,!0);break;case"B":case"BB":case"BBB":t=$(Y.DayPeriods,N.Abbreviated,P.Format,!0);break;case"BBBB":t=$(Y.DayPeriods,N.Wide,P.Format,!0);break;case"BBBBB":t=$(Y.DayPeriods,N.Narrow,P.Format,!0);break;case"h":t=J(Q.Hours,1,-12);break;case"hh":t=J(Q.Hours,2,-12);break;case"H":t=J(Q.Hours,1);break;case"HH":t=J(Q.Hours,2);break;case"m":t=J(Q.Minutes,1);break;case"mm":t=J(Q.Minutes,2);break;case"s":t=J(Q.Seconds,1);break;case"ss":t=J(Q.Seconds,2);break;case"S":t=J(Q.FractionalSeconds,1);break;case"SS":t=J(Q.FractionalSeconds,2);break;case"SSS":t=J(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ee(K.Short);break;case"ZZZZZ":t=ee(K.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ee(K.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ee(K.Long);break;default:return null}return ne[e]=t,t}(e);l+=t?t(o,n,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,o||this.locale,i)}catch(a){throw Ce(e,a.message)}}}]),e}()).\u0275fac=function(e){return new(e||Ee)(r.Ob(r.u))},Ee.\u0275pipe=r.Nb({name:"date",type:Ee,pure:!0}),Ee),Pe=((Se=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Se}),Se.\u0275inj=r.Lb({factory:function(e){return new(e||Se)},providers:[{provide:ce,useClass:le}]}),Se);function Ne(e){return"server"===e}var Re,je,Fe,Me,Le,Ve=((Re=function e(){_classCallCheck(this,e)}).\u0275prov=Object(r.Kb)({token:Re,providedIn:"root",factory:function(){return new Ue(Object(r.Xb)(u),window,Object(r.Xb)(r.m))}}),Re),Ue=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(_D){this.errorHandler.handleError(_D)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(nA){return!1}}}]),e}(),qe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Be||(Be=document.querySelector("base"))?Be.getAttribute("href"):null;return null==n?null:(t=n,je||(je=document.createElement("a")),je.setAttribute("href",t),"/"===je.pathname.charAt(0)?je.pathname:"/"+je.pathname)}},{key:"resetBaseElement",value:function(){Be=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,o||(o=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),Be=null,ze=new r.q("TRANSITION_ID"),He=[{provide:r.d,useFactory:function(e,t,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[ze,u,r.r],multi:!0}],Ge=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r.qb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.qb.getAllAngularRootElements=function(){return e.getAllRootElements()},r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push((function(e){var t=r.qb.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?a().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.Y)(new e)}}]),e}(),We=new r.q("EventManagerPlugins"),Ke=((Fe=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||Fe)(r.Xb(We),r.Xb(r.z))},Fe.\u0275prov=r.Kb({token:Fe,factory:Fe.\u0275fac}),Fe),Qe=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=a().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Ye=((Le=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Le)},Le.\u0275prov=r.Kb({token:Le,factory:Le.\u0275fac}),Le),Xe=((Me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return a().remove(e)}))}}]),n}(Ye)).\u0275fac=function(e){return new(e||Me)(r.Xb(u))},Me.\u0275prov=r.Kb({token:Me,factory:Me.\u0275fac}),Me),Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Je=/%COMP%/g;function $e(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?$e(e,i,n):(i=i.replace(Je,e),n.push(i))}return n}function et(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var tt,nt,rt,it,ot,at,st=((tt=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ut(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.Q.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.Q.Native:case r.Q.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=$e(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||tt)(r.Xb(Ke),r.Xb(Xe),r.Xb(r.c))},tt.\u0275prov=r.Kb({token:tt,factory:tt.\u0275fac}),tt),ut=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Ze[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Ze[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Ze[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&r.G.DashCase?e.style.setProperty(t,n,i&r.G.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.G.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,et(n)):this.eventManager.addEventListener(e,t,et(n))}}]),e}(),ct=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=$e(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(Je,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(Je,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(ut),lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.Q.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=$e(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ut),ht=((nt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Qe)).\u0275fac=function(e){return new(e||nt)(r.Xb(u))},nt.\u0275prov=r.Kb({token:nt,factory:nt.\u0275fac}),nt),ft=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},yt=((ot=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(ft.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&pt.hasOwnProperty(t)&&(t=pt[t]))}return dt[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ft.forEach((function(r){r!=n&&(0,vt[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Qe)).\u0275fac=function(e){return new(e||ot)(r.Xb(u))},ot.\u0275prov=r.Kb({token:ot,factory:ot.\u0275fac}),ot),mt=((it=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||it)},it.\u0275prov=Object(r.Kb)({factory:function(){return Object(r.Xb)(gt)},token:it,providedIn:"root"}),it),gt=((rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case r.I.NONE:return t;case r.I.HTML:return Object(r.fb)(t,"HTML")?Object(r.yb)(t):Object(r.cb)(this._doc,String(t));case r.I.STYLE:return Object(r.fb)(t,"Style")?Object(r.yb)(t):Object(r.db)(t);case r.I.SCRIPT:if(Object(r.fb)(t,"Script"))return Object(r.yb)(t);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.pb)(t),Object(r.fb)(t,"URL")?Object(r.yb)(t):Object(r.eb)(String(t));case r.I.RESOURCE_URL:if(Object(r.fb)(t,"ResourceURL"))return Object(r.yb)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(r.gb)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(r.jb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(r.ib)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(r.kb)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(r.hb)(e)}}]),n}(mt)).\u0275fac=function(e){return new(e||rt)(r.Xb(u))},rt.\u0275prov=Object(r.Kb)({factory:function(){return e=Object(r.Xb)(r.o),new gt(e.get(u));var e},token:rt,providedIn:"root"}),rt),_t=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){qe.makeCurrent(),Ge.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],bt=Object(r.S)(r.X,"browser",_t),wt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:We,useClass:ht,multi:!0,deps:[u,r.z,r.B]},{provide:We,useClass:yt,multi:!0,deps:[u]},[],{provide:st,useClass:st,deps:[Ke,Xe,r.c]},{provide:r.F,useExisting:st},{provide:Ye,useExisting:Xe},{provide:Xe,useClass:Xe,deps:[u]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:Ke,useClass:Ke,deps:[We,r.z]},[]],kt=((at=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:ze,useExisting:r.c},He]}}}]),e}()).\u0275mod=r.Mb({type:at}),at.\u0275inj=r.Lb({factory:function(e){return new(e||at)(r.Xb(at,12))},providers:wt,imports:[Pe,r.f]}),at);function Ct(e){return null!=e&&""+e!="false"}function St(e){return Array.isArray(e)?e:[e]}function Et(e){return null==e?"":"string"==typeof e?e:e+"px"}function Tt(e){return e instanceof r.l?e.nativeElement:e}"undefined"!=typeof window&&window;var Ot=n("XNiG"),It=n("LRne"),xt=n("HDdC"),At=n("DH7j"),Dt=n("n6bG"),Pt=n("lJxs");function Nt(e,t,n,r){return Object(Dt.a)(n)&&(r=n,n=void 0),r?Nt(e,t,n).pipe(Object(Pt.a)((function(e){return Object(At.a)(e)?r.apply(void 0,_toConsumableArray(e)):r(e)}))):new xt.a((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],n,r,i,o)}i.add(a)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var Rt=n("VRyK");n("3N8a"),n("IjjT"),n("7Hc7");var jt=n("quSY"),Ft=n("7o/Q");function Mt(e,t){return function(n){return n.lift(new Lt(e,t))}}var Lt=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Vt(e,this.compare,this.keySelector))}}]),e}(),Vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(Ft.a),Ut=n("D0XW"),qt=n("l7GE"),Bt=n("ZUHj"),zt=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ht(e,this.durationSelector))}}]),e}(),Ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=Object(Bt.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(qt.a),Gt=n("Y7HM"),Wt=n("z+Ro");function Kt(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Qt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut.a;return t=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(Gt.a)(t)?r=Number(t)<1?1:Number(t):Object(Wt.a)(t)&&(n=t),Object(Wt.a)(n)||(n=Ut.a),new xt.a((function(t){var i=Object(Gt.a)(e)?e:+e-n.now();return n.schedule(Kt,i,{index:0,period:r,subscriber:t})}))}(e,n)},function(e){return e.lift(new zt(t))}}function Yt(e,t){return function(n){return n.lift(new Xt(e,t))}}var Xt=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Zt(e,this.predicate,this.thisArg))}}]),e}(),Zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(Ft.a);function Jt(e){return function(t){return t.lift(new $t(e))}}var $t=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new en(e),r=Object(Bt.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),en=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(qt.a),tn=n("bHdf");function nn(){return Object(tn.a)(1)}function rn(){return nn()(Object(It.a).apply(void 0,arguments))}function on(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(Wt.a)(r)?(t.pop(),function(e){return rn(t,e,r)}):function(e){return rn(t,e)}}function an(){return function(e){return e.lift(new sn)}}var sn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new un(e))}}]),e}(),un=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(Ft.a),cn=n("51Dv"),ln=n("Cfvw");function hn(e,t){return"function"==typeof t?function(n){return n.pipe(hn((function(n,r){return Object(ln.a)(e(n,r)).pipe(Object(Pt.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new dn(e))}}var fn,dn=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pn(e,this.project))}}]),e}(),pn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new cn.a(this,t,n),o=this.destination;o.add(i),this.innerSubscription=Object(Bt.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(qt.a),vn=n("qgXg"),yn=n("pxpQ"),mn=n("9ppp"),gn=n("Ylt2"),_n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new bn(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new mn.a;if(this.isStopped||this.hasError?t=jt.a.EMPTY:(this.observers.push(e),t=new gn.a(this,e)),i&&e.add(e=new yn.a(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||vn.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(Ot.a),bn=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n};function wn(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=e.refCount,u=e.scheduler,c=0,l=!1,h=!1;return function(e){c++,t&&!l||(l=!1,t=new _n(i,a,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}try{fn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(nA){fn=!1}var kn,Cn,Sn,En,Tn,On=((Sn=function e(t){_classCallCheck(this,e),this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(e){return new(e||Sn)(r.Xb(r.B,8))},Sn.\u0275prov=Object(r.Kb)({factory:function(){return new Sn(Object(r.Xb)(r.B,8))},token:Sn,providedIn:"root"}),Sn),In=((Cn=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Cn}),Cn.\u0275inj=r.Lb({factory:function(e){return new(e||Cn)}}),Cn),xn=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function An(){if(kn)return kn;if("object"!=typeof document||!document)return kn=new Set(xn);var e=document.createElement("input");return kn=new Set(xn.filter((function(t){return e.setAttribute("type",t),e.type===t})))}function Dn(e){return function(){if(null==En&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return En=!0}}))}finally{En=En||!1}return En}()?e:!!e.capture}var Pn,Nn,Rn,jn,Fn,Mn,Ln=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(u)}}),Vn=((Mn=function(){function e(t){if(_classCallCheck(this,e),this.value="ltr",this.change=new r.n,t){var n=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).\u0275fac=function(e){return new(e||Mn)(r.Xb(Ln,8))},Mn.\u0275prov=Object(r.Kb)({factory:function(){return new Mn(Object(r.Xb)(Ln,8))},token:Mn,providedIn:"root"}),Mn),Un=((Fn=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Fn}),Fn.\u0275inj=r.Lb({factory:function(e){return new(e||Fn)}}),Fn),qn=((jn=function(){function e(t,n,r){_classCallCheck(this,e),this._ngZone=t,this._platform=n,this._scrolled=new Ot.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return _createClass(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe((function(){return t._scrolled.next(e)})))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new xt.a((function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(Qt(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}})):Object(It.a)()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(t,n){return e.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Yt((function(e){return!e||n.indexOf(e)>-1})))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach((function(r,i){t._scrollableContainsElement(i,e)&&n.push(i)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=t.nativeElement,r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Nt(e._getWindow().document,"scroll").subscribe((function(){return e._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||jn)(r.Xb(r.z),r.Xb(On),r.Xb(u,8))},jn.\u0275prov=Object(r.Kb)({factory:function(){return new jn(Object(r.Xb)(r.z),Object(r.Xb)(On),Object(r.Xb)(u,8))},token:jn,providedIn:"root"}),jn),Bn=((Rn=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this._platform=t,this._document=r,n.runOutsideAngular((function(){var e=i._getWindow();i._change=t.isBrowser?Object(Rt.a)(Nt(e,"resize"),Nt(e,"orientationchange")):Object(It.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,r=t.height;return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._getDocument(),t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(Qt(e)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}()).\u0275fac=function(e){return new(e||Rn)(r.Xb(On),r.Xb(r.z),r.Xb(u,8))},Rn.\u0275prov=Object(r.Kb)({factory:function(){return new Rn(Object(r.Xb)(On),Object(r.Xb)(r.z),Object(r.Xb)(u,8))},token:Rn,providedIn:"root"}),Rn),zn=((Nn=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Nn}),Nn.\u0275inj=r.Lb({factory:function(e){return new(e||Nn)}}),Nn),Hn=((Pn=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Pn}),Pn.\u0275inj=r.Lb({factory:function(e){return new(e||Pn)},imports:[[Un,In,zn],Un,zn]}),Pn);function Gn(){throw Error("Host already has a portal attached")}var Wn,Kn,Qn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&Gn(),this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),Yn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this)).component=e,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(Qn),Xn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).templateRef=e,o.viewContainerRef=r,o.context=i,o}return _createClass(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=t,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,e)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}}]),n}(Qn),Zn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e instanceof r.l?e.nativeElement:e,i}return n}(Qn),Jn=function(){function e(){_classCallCheck(this,e),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(e,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Gn(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof Yn?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Xn?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Zn?(this._attachedPortal=e,this.attachDomPortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),e}(),$n=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u;return _classCallCheck(this,n),(u=t.call(this)).outletElement=e,u._componentFactoryResolver=r,u._appRef=i,u._defaultInjector=o,u.attachDomPortal=function(e){if(!u._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=u._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),u.outletElement.appendChild(t),_get((s=_assertThisInitialized(u),_getPrototypeOf(n.prototype)),"setDisposeFn",s).call(s,(function(){r.parentNode&&r.parentNode.replaceChild(t,r)}))},u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(e){var t,n=this,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn((function(){return t.destroy()}))):(t=r.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn((function(){n._appRef.detachView(t.hostView),t.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(t)),t}},{key:"attachTemplatePortal",value:function(e){var t=this,n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context);return r.detectChanges(),r.rootNodes.forEach((function(e){return t.outletElement.appendChild(e)})),this.setDisposeFn((function(){var e=n.indexOf(r);-1!==e&&n.remove(e)})),r}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(Jn),er=((Kn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var a,s;return _classCallCheck(this,n),(s=t.call(this))._componentFactoryResolver=e,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new r.n,s.attachDomPortal=function(e){if(!s._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=s._document.createComment("dom-portal");e.setAttachedHost(_assertThisInitialized(s)),t.parentNode.insertBefore(r,t),s._getRootNode().appendChild(t),_get((a=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"setDisposeFn",a).call(a,(function(){r.parentNode&&r.parentNode.replaceChild(t,r)}))},s._document=o,s}return _createClass(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),e&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,e),this._attachedPortal=e)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(e){e.setAttachedHost(this);var t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(r,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),_get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return i.destroy()})),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(e){var t=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return t._viewContainerRef.clear()})),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}]),n}(Jn)).\u0275fac=function(e){return new(e||Kn)(r.Ob(r.j),r.Ob(r.P),r.Ob(u))},Kn.\u0275dir=r.Jb({type:Kn,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),Kn),tr=((Wn=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Wn}),Wn.\u0275inj=r.Lb({factory:function(e){return new(e||Wn)}}),Wn),nr=function(){function e(t,n){_classCallCheck(this,e),this._parentInjector=t,this._customTokens=n}return _createClass(e,[{key:"get",value:function(e,t){var n=this._customTokens.get(e);return void 0!==n?n:this._parentInjector.get(e,t)}}]),e}(),rr=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),ir=n("EY2u");function or(e){return function(t){return 0===e?Object(ir.b)():t.lift(new ar(e))}}var ar=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new rr}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new sr(e,this.total))}}]),e}(),sr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Ft.a);function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?n.some((function(t){return e[t]})):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var cr=function(){function e(t,n){_classCallCheck(this,e),this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(e,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Et(-this._previousScrollPosition.left),e.style.top=Et(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=r,n.scrollBehavior=i}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}]),e}();function lr(){return Error("Scroll strategy has already been attached.")}var hr=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(e,[{key:"attach",value:function(e){if(this._overlayRef)throw lr();this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe((function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()}))):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),fr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),e}();function dr(e,t){return t.some((function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right}))}function pr(e,t){return t.some((function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right}))}var vr,yr=function(){function e(t,n,r,i){_classCallCheck(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return _createClass(e,[{key:"attach",value:function(e){if(this._overlayRef)throw lr();this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),r=n.width,i=n.height;dr(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(e.disable(),e._ngZone.run((function(){return e._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),mr=((vr=function e(t,n,r,i){var o=this;_classCallCheck(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new fr},this.close=function(e){return new hr(o._scrollDispatcher,o._ngZone,o._viewportRuler,e)},this.block=function(){return new cr(o._viewportRuler,o._document)},this.reposition=function(e){return new yr(o._scrollDispatcher,o._viewportRuler,o._ngZone,e)},this._document=i}).\u0275fac=function(e){return new(e||vr)(r.Xb(qn),r.Xb(Bn),r.Xb(r.z),r.Xb(u))},vr.\u0275prov=Object(r.Kb)({factory:function(){return new vr(Object(r.Xb)(qn),Object(r.Xb)(Bn),Object(r.Xb)(r.z),Object(r.Xb)(u))},token:vr,providedIn:"root"}),vr),gr=function e(t){if(_classCallCheck(this,e),this.scrollStrategy=new fr,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];void 0!==t[i]&&(this[i]=t[i])}},_r=function e(t,n,r,i,o){_classCallCheck(this,e),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},br=function e(t,n){_classCallCheck(this,e),this.connectionPair=t,this.scrollableViewProperties=n};function wr(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid ".concat(e,' "').concat(t,'". Expected "top", "bottom" or "center".'))}function kr(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid ".concat(e,' "').concat(t,'". Expected "start", "end" or "center".'))}var Cr,Sr,Er=((Cr=function(){function e(t){var n=this;_classCallCheck(this,e),this._attachedOverlays=[],this._keydownListener=function(e){for(var t=n._attachedOverlays,r=t.length-1;r>-1;r--)if(t[r]._keydownEvents.observers.length>0){t[r]._keydownEvents.next(e);break}},this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(e)}},{key:"remove",value:function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),e}()).\u0275fac=function(e){return new(e||Cr)(r.Xb(u))},Cr.\u0275prov=Object(r.Kb)({factory:function(){return new Cr(Object(r.Xb)(u))},token:Cr,providedIn:"root"}),Cr),Tr=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),Or=((Sr=function(){function e(t,n){_classCallCheck(this,e),this._platform=n,this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||Tr)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);var r=this._document.createElement("div");r.classList.add("cdk-overlay-container"),Tr?r.setAttribute("platform","test"):e||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),e}()).\u0275fac=function(e){return new(e||Sr)(r.Xb(u),r.Xb(On))},Sr.\u0275prov=Object(r.Kb)({factory:function(){return new Sr(Object(r.Xb)(u),Object(r.Xb)(On))},token:Sr,providedIn:"root"}),Sr),Ir=function(){function e(t,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,e),this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._backdropElement=null,this._backdropClick=new Ot.a,this._attachments=new Ot.a,this._detachments=new Ot.a,this._locationChanges=jt.a.EMPTY,this._backdropClickHandler=function(e){return c._backdropClick.next(e)},this._keydownEvents=new Ot.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return _createClass(e,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(e){var t=this,n=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(or(1)).subscribe((function(){t.hasAttached()&&t.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return t.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=Et(this._config.width),e.height=Et(this._config.height),e.minWidth=Et(this._config.minWidth),e.minHeight=Et(this._config.minHeight),e.maxWidth=Et(this._config.maxWidth),e.maxHeight=Et(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"auto":"none"}},{key:"_attachBackdrop",value:function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e,t=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",t._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),t._backdropElement==n&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(n,t._config.backdropClass,!1),clearTimeout(e)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",r)})),n.style.pointerEvents="none",e=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}}},{key:"_toggleClasses",value:function(e,t,n){var r=e.classList;St(t).forEach((function(e){e&&(n?r.add(e):r.remove(e))}))}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){var t=e._ngZone.onStable.asObservable().pipe(Jt(Object(Rt.a)(e._attachments,e._detachments))).subscribe((function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}]),e}(),xr=/([A-Za-z%]+)$/,Ar=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ot.a,this._resizeSubscription=jt.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}return _createClass(e,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){var t=this;if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){t._isInitialRender=!0,t.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var e,t,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(t=a.n()).done;){var s=t.value,u=this._getOriginPoint(n,s),c=this._getOverlayPoint(u,r,s),l=this._getOverlayFit(c,r,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,u);this._canFitWithFlexibleDimensions(l,c,i)?o.push({position:s,origin:u,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(u,s)}):(!e||e.overlayFit.visibleArea<l.visibleArea)&&(e={overlayFit:l,overlayPoint:c,originPoint:u,position:s,overlayRect:r})}}catch(m){a.e(m)}finally{a.f()}if(o.length){var h,f=null,d=-1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);y>d&&(d=y,f=v)}}catch(m){p.e(m)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Dr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,n){var r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}},{key:"_getOverlayFit",value:function(e,t,n,r){var i=e.x,o=e.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var u=0-o,c=o+t.height-n.height,l=this._subtractOverflows(t.width,0-i,i+t.width-n.width),h=this._subtractOverflows(t.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:t.width*t.height===f,fitsInViewportVertically:h===t.height,fitsInViewportHorizontally:l==t.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,n){if(this._hasFlexibleDimensions){var r=n.bottom-t.y,i=n.right-t.x,o=Pr(this._overlayRef.getConfig().minHeight),a=Pr(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=a&&a<=i;return(e.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(e.x+t.width-o.right,0),s=Math.max(e.y+t.height-o.bottom,0),u=Math.max(o.top-n.top-e.y,0),c=Math.max(o.left-n.left-e.x,0);return r=t.width<=o.width?c||-a:e.x<this._viewportMargin?o.left-n.left-e.x:0,i=t.height<=o.height?u||-s:e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:r,y:i},{x:e.x+r,y:e.y+i}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new br(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(t," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===t.overlayY)r=e.y,n=u.height-r+this._viewportMargin;else if("bottom"===t.overlayY)i=u.height-e.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var l=Math.min(u.bottom-e.y+u.top,e.y),h=this._lastBoundingBoxSize.height;n=2*l,r=e.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-h/2)}if("end"===t.overlayX&&!c||"start"===t.overlayX&&c)s=u.width-e.x+this._viewportMargin,o=e.x-this._viewportMargin;else if("start"===t.overlayX&&!c||"end"===t.overlayX&&c)a=e.x,o=u.right-e.x;else{var f=Math.min(u.right-e.x+u.left,e.x),d=this._lastBoundingBoxSize.width;o=2*f,a=e.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Et(n.height),r.top=Et(n.top),r.bottom=Et(n.bottom),r.width=Et(n.width),r.left=Et(n.left),r.right=Et(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=Et(i)),o&&(r.maxWidth=Et(o))}this._lastBoundingBoxSize=n,Dr(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){Dr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Dr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();Dr(n,this._getExactOverlayY(t,e,a)),Dr(n,this._getExactOverlayX(t,e,a))}else n.position="static";var s="",u=this._getOffset(t,"x"),c=this._getOffset(t,"y");u&&(s+="translateX(".concat(u,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=Et(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Et(o.maxWidth):i&&(n.maxWidth="")),Dr(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(e,t,n){var r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Et(i.y),r}},{key:"_getExactOverlayX",value:function(e,t,n){var r={left:"",right:""},i=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=Et(i.x),r}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(e){return e.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:pr(e,n),isOriginOutsideView:dr(e,n),isOverlayClipped:pr(t,n),isOverlayOutsideView:dr(t,n)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return e-Math.max(t,0)}),e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(e){kr("originX",e.originX),wr("originY",e.originY),kr("overlayX",e.overlayX),wr("overlayY",e.overlayY)}))}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&St(e).forEach((function(e){""!==e&&-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))}))}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach((function(t){e._pane.classList.remove(t)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof r.l)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}]),e}();function Dr(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Pr(e){if("number"!=typeof e&&null!=e){var t=_slicedToArray(e.split(xr),2),n=t[0],r=t[1];return r&&"px"!==r?null:parseFloat(n)}return e||null}var Nr,Rr,jr,Fr=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this._preferredPositions=[],this._positionStrategy=new Ar(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,n)}return _createClass(e,[{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,n,r){var i=new _r(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}}]),e}(),Mr=function(){function e(){_classCallCheck(this,e),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(e,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),e}(),Lr=((Rr=function(){function e(t,n,r,i){_classCallCheck(this,e),this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i}return _createClass(e,[{key:"global",value:function(){return new Mr}},{key:"connectedTo",value:function(e,t,n){return new Fr(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(e){return new Ar(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),e}()).\u0275fac=function(e){return new(e||Rr)(r.Xb(Bn),r.Xb(u),r.Xb(On),r.Xb(Or))},Rr.\u0275prov=Object(r.Kb)({factory:function(){return new Rr(Object(r.Xb)(Bn),Object(r.Xb)(u),Object(r.Xb)(On),Object(r.Xb)(Or))},token:Rr,providedIn:"root"}),Rr),Vr=0,Ur=((Nr=function(){function e(t,n,r,i,o,a,s,u,c,l){_classCallCheck(this,e),this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=c,this._location=l}return _createClass(e,[{key:"create",value:function(e){var t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new gr(e);return i.direction=i.direction||this._directionality.value,new Ir(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+Vr++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}},{key:"_createHostElement",value:function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}},{key:"_createPortalOutlet",value:function(e){return this._appRef||(this._appRef=this._injector.get(r.g)),new $n(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),e}()).\u0275fac=function(e){return new(e||Nr)(r.Xb(mr),r.Xb(Or),r.Xb(r.j),r.Xb(Lr),r.Xb(Er),r.Xb(r.r),r.Xb(r.z),r.Xb(u),r.Xb(Vn),r.Xb(I,8))},Nr.\u0275prov=r.Kb({token:Nr,factory:Nr.\u0275fac}),Nr),qr={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[Ur],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},Br=((jr=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:jr}),jr.\u0275inj=r.Lb({factory:function(e){return new(e||jr)},providers:[Ur,qr],imports:[[Un,tr,Hn],Hn]}),jr),zr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new mn.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(Ot.a),Hr=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Gr=n("yCtX"),Wr={};function Kr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(Wt.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(At.a)(t[0])&&(t=t[0]),Object(Gr.a)(t,i).lift(new Qr(r))}var Qr=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yr(e,this.resultSelector))}}]),e}(),Yr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(Wr),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(Bt.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===Wr?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(qt.a);function Xr(e){return new xt.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(ln.a)(n):Object(ir.b)()).subscribe(t)}))}function Zr(e){return function(t){return 0===e?Object(ir.b)():t.lift(new Jr(e))}}var Jr=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new rr}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $r(e,this.total))}}]),e}(),$r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(Ft.a);function ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri;return function(t){return t.lift(new ti(e))}}var ti=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ni(e,this.errorFactory))}}]),e}(),ni=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(_D){e=_D}this.destination.error(e)}}]),n}(Ft.a);function ri(){return new Hr}function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new oi(e))}}var oi=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ai(e,this.defaultValue))}}]),e}(),ai=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Ft.a),si=n("SpAZ");function ui(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Yt((function(t,n){return e(t,n,r)})):si.a,Zr(1),n?ii(t):ei((function(){return new Hr})))}}function ci(e){return function(t){var n=new li(e),r=t.lift(n);return n.caught=r}}var li=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new hi(e,this.selector,this.caught))}}]),e}(),hi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new cn.a(this,void 0,void 0);this.add(r);var i=Object(Bt.a)(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(qt.a);function fi(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Yt((function(t,n){return e(t,n,r)})):si.a,or(1),n?ii(t):ei((function(){return new Hr})))}}var di=n("5+tZ"),pi=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new vi(e,this.predicate,this.thisArg,this.source))}}]),e}(),vi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(Ft.a);function yi(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new mi(e,t,n))}}var mi=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new gi(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),gi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(Ft.a);function _i(e,t){return Object(di.a)(e,t,1)}var bi=n("mCNh"),wi=n("vkgz");function ki(e){return function(t){return t.lift(new Si(e))}}var Ci,Si=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ei(e,this.callback))}}]),e}(),Ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new jt.a(r)),i}return n}(Ft.a),Ti=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Oi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ti),Ii=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Ti),xi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ti),Ai=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Ti),Di=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ti),Pi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ti),Ni=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Ti),Ri=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ti),ji=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ti),Fi=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Mi=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Li=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Vi=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ui=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),qi=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Bi=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),zi=((Ci=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ci)},Ci.\u0275cmp=r.Ib({type:Ci,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r.Pb(0,"router-outlet")},directives:function(){return[Za]},encapsulation:2}),Ci),Hi=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Gi(e){return new Hi(e)}function Wi(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Ki(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Qi=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function Yi(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Xi(r,Zi(t,r))}}function Xi(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Yi(e.children,t)}function Zi(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Ji(e){var t=e.children&&e.children.map(Ji),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=zi),n}function $i(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!eo(e[n=r[o]],t[n]))return!1;return!0}function eo(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function to(e){return Array.prototype.concat.apply([],e)}function no(e){return e.length>0?e[e.length-1]:null}function ro(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function io(e){return Object(r.sb)(e)?e:Object(r.tb)(e)?Object(ln.a)(Promise.resolve(e)):Object(It.a)(e)}function oo(e,t,n){return n?function(e,t){return $i(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!co(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return eo(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!co(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!co(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!co(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var ao=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return po.serialize(this)}}]),e}(),so=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,ro(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return vo(this)}}]),e}(),uo=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Gi(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return wo(this)}}]),e}();function co(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function lo(e,t){var n=[];return ro(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),ro(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var ho=function e(){_classCallCheck(this,e)},fo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new To(e);return new ao(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return vo(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return ro(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=lo(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(vo(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(mo(e),"=").concat(mo(t))})).join("&"):"".concat(mo(e),"=").concat(mo(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),po=new fo;function vo(e){return e.segments.map((function(e){return wo(e)})).join("/")}function yo(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mo(e){return yo(e).replace(/%3B/gi,";")}function go(e){return yo(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _o(e){return decodeURIComponent(e)}function bo(e){return _o(e.replace(/\+/g,"%20"))}function wo(e){return"".concat(go(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(go(e),"=").concat(go(t[e]))})).join("")));var t}var ko=/^[^\/()?;=#]+/;function Co(e){var t=e.match(ko);return t?t[0]:""}var So=/^[^=?&#]+/,Eo=/^[^?&#]+/,To=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new so([],{}):new so([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new so(e,t)),n}},{key:"parseSegment",value:function(){var e=Co(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new uo(_o(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Co(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Co(this.remaining);r&&(n=r,this.capture(n))}e[_o(t)]=_o(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(So);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Eo);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=bo(t),o=bo(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Co(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new so([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Oo=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Io(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Io(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=xo(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return xo(e,this._root).map((function(e){return e.value}))}}]),e}();function Io(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Io(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function xo(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=xo(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Ao=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Do(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Po=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,Lo(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Oo);function No(e,t){var n=function(e,t){var n=new Fo([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Mo("",new Ao(n,[]))}(e,t),r=new zr([new uo("",{})]),i=new zr({}),o=new zr({}),a=new zr({}),s=new zr(""),u=new Ro(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new Po(new Ao(u,[]),n)}var Ro=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Pt.a)((function(e){return Gi(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Pt.a)((function(e){return Gi(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Fo=function(){function e(t,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Gi(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),Mo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,Lo(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Vo(this._root)}}]),n}(Oo);function Lo(e,t){t.value._routerState=e,t.children.forEach((function(t){return Lo(e,t)}))}function Vo(e){var t=e.children.length>0?" { ".concat(e.children.map(Vo).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Uo(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,$i(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),$i(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!$i(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),$i(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function qo(e,t){return $i(e.params,t.params)&&function(e,t){return co(e,t)&&e.every((function(e,n){return $i(e.parameters,t[n].parameters)}))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||qo(e.parent,t.parent))}function Bo(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zo(e,t,n,r,i){var o={};return r&&ro(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new ao(n.root===e?t:function e(t,n,r){var i={};return ro(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new so(t.segments,i)}(n.root,e,t),o,i)}var Ho=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Bo(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==no(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Go=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Wo(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Ko(e,t,n){if(e||(e=new so([],{})),0===e.segments.length&&e.hasChildren())return Qo(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=Wo(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Jo(s,u,a))return o;r+=2}else{if(!Jo(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new so(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new so(e.segments.slice(r.pathIndex),e.children),Qo(o,0,i)}return r.match&&0===i.length?new so(e.segments,{}):r.match&&!e.hasChildren()?Yo(e,t,n):r.match?Qo(e,0,i):Yo(e,t,n)}function Qo(e,t,n){if(0===n.length)return new so(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return ro(r,(function(n,r){null!==n&&(i[r]=Ko(e.children[r],t,n))})),ro(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new so(e.segments,i)}function Yo(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Xo(n[i].outlets);return new so(r,o)}if(0===i&&Bo(n[0]))r.push(new uo(e.segments[t].path,n[0])),i++;else{var a=Wo(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Bo(s)?(r.push(new uo(a,Zo(s))),i+=2):(r.push(new uo(a,{})),i++)}}return new so(r,{})}function Xo(e){var t={};return ro(e,(function(e,n){null!==e&&(t[n]=Yo(new so([],{}),0,e))})),t}function Zo(e){var t={};return ro(e,(function(e,n){return t[n]=""+e})),t}function Jo(e,t,n){return e==n.path&&$i(t,n.parameters)}var $o=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Uo(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Do(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),ro(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Do(e),o=e.value.component?r.children:t;ro(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Do(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new qi(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Vi(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Uo(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ea(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function ea(e){Uo(e.value),e.children.forEach(ea)}function ta(e){return"function"==typeof e}function na(e){return e instanceof ao}var ra=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},ia=function e(t){_classCallCheck(this,e),this.urlTree=t};function oa(e){return new xt.a((function(t){return t.error(new ra(e))}))}function aa(e){return new xt.a((function(t){return t.error(new ia(e))}))}function sa(e){return new xt.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var ua=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(r.x)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Pt.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(ci((function(t){if(t instanceof ia)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof ra)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(Pt.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(ci((function(e){if(e instanceof ra)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new so([],{primary:e}):e;return new ao(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(Pt.a)((function(e){return new so([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(It.a)({});var o=[],a=[],s={};return ro(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(Object(Pt.a)((function(e){return s[i]=e})));"primary"===i?o.push(l):a.push(l)})),It.a.apply(null,o.concat(a)).pipe(nn(),ui(),Object(Pt.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Object(It.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Pt.a)((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(ci((function(e){if(e instanceof ra)return Object(It.a)(null);throw e})))})),nn(),fi((function(e){return!!e})),ci((function(e,n){if(e instanceof Hr||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Object(It.a)(new so([],{}));throw new ra(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return fa(r)!==o?oa(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):oa(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?aa(o):this.lineralizeSegments(n,o).pipe(Object(di.a)((function(n){var o=new so(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=ca(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return oa(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?aa(f):this.lineralizeSegments(r,f).pipe(Object(di.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(Pt.a)((function(e){return n._loadedConfig=e,new so(r,{})}))):Object(It.a)(new so(r,{}));var o=ca(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return oa(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(di.a)((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return ha(e,t,n)&&"primary"!==fa(n)}))}(e,n,r)?{segmentGroup:la(new so(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==fa(o)&&(n[fa(o)]=new so([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new so(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return ha(e,t,n)}))}(e,n,r)?{segmentGroup:la(new so(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;ha(e,t,s)&&!r[fa(s)]&&(o[fa(s)]=new so([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(Pt.a)((function(e){return new so(s,e)}))):0===r.length&&0===u.length?Object(It.a)(new so(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(Pt.a)((function(e){return new so(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(It.a)(new Qi(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(It.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(ln.a)(i).pipe(Object(Pt.a)((function(r){var i,o=e.get(r);if(function(e){return e&&ta(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!ta(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return io(i)}))).pipe(nn(),(r=function(e){return!0===e},function(e){return e.lift(new pi(r,void 0,e))})):Object(It.a)(!0)}(e.injector,t,n).pipe(Object(di.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(Pt.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new xt.a((function(t){return t.error(Wi("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(It.a)(new Qi([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(It.a)(n);if(r.numberOfChildren>1||!r.children.primary)return sa(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new ao(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return ro(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return ro(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new so(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function ca(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Ki)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function la(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new so(e.segments.concat(t.segments),t.children)}return e}function ha(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function fa(e){return e.outlet||"primary"}var da=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},pa=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function va(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ya(e,t,n){var r=Do(e),i=e.value;ro(r,(function(e,r){ya(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new pa(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var ma=Symbol("INITIAL_VALUE");function ga(){return hn((function(e){return Kr.apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(or(1),on(ma))})))).pipe(yi((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==ma)return e;if(r===ma&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||na(r))return r}return e}),e)}),ma),Yt((function(e){return e!==ma})),Object(Pt.a)((function(e){return na(e)?e:!0===e})),or(1))}))}function _a(e,t){return null!==e&&t&&t(new Ui(e)),Object(It.a)(!0)}function ba(e,t){return null!==e&&t&&t(new Li(e)),Object(It.a)(!0)}function wa(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(It.a)(!0);var i=r.map((function(r){return Xr((function(){var i,o=va(r,t,n);if(function(e){return e&&ta(e.canActivate)}(o))i=io(o.canActivate(t,e));else{if(!ta(o))throw new Error("Invalid CanActivate guard");i=io(o(t,e))}return i.pipe(fi())}))}));return Object(It.a)(i).pipe(ga())}function ka(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Xr((function(){var i=t.guards.map((function(i){var o,a=va(i,t.node,n);if(function(e){return e&&ta(e.canActivateChild)}(a))o=io(a.canActivateChild(r,e));else{if(!ta(a))throw new Error("Invalid CanActivateChild guard");o=io(a(r,e))}return o.pipe(fi())}));return Object(It.a)(i).pipe(ga())}))}));return Object(It.a)(i).pipe(ga())}var Ca=function e(){_classCallCheck(this,e)},Sa=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Oa(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Fo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ao(n,t),i=new Mo(this.url,r);return this.inheritParamsAndData(i._root),Object(It.a)(i)}catch(_D){return new xt.a((function(t){return t.error(_D)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=jo(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=lo(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(_D){if(!(_D instanceof Ca))throw _D}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new Ca}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Ca;if((e.outlet||"primary")!==r)throw new Ca;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?no(n).parameters:{};i=new Fo(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Aa(e),r,e.component,e,Ea(t),Ta(t)+n.length,Da(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Ca;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Ki)(n,e,t);if(!r)throw new Ca;var i={};ro(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Fo(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Aa(e),r,e.component,e,Ea(t),Ta(t)+o.length,Da(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=Oa(t,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Ao(i,d)]}if(0===c.length&&0===f.length)return[new Ao(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Ao(i,p)]}}]),e}();function Ea(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Ta(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Oa(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Ia(e,t,n)&&"primary"!==xa(n)}))}(e,n,r)){var o=new so(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==xa(s)){var u=new so([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[xa(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new so(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Ia(e,t,n)}))}(e,n,r)){var a=new so(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Ia(e,n,c)&&!i[xa(c)]){var l=new so([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[xa(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new so(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Ia(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function xa(e){return e.outlet||"primary"}function Aa(e){return e.data||{}}function Da(e){return e.resolve||{}}function Pa(e,t,n,r){var i=va(e,t,r);return io(i.resolve?i.resolve(t,n):i(t,n))}function Na(e){return function(t){return t.pipe(hn((function(t){var n=e(t);return n?Object(ln.a)(n).pipe(Object(Pt.a)((function(){return t}))):Object(ln.a)([t])})))}}var Ra=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),ja=new r.q("ROUTES"),Fa=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(Pt.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Qi(to(i.injector.get(ja)).map(Ji),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(ln.a)(this.loader.load(e)):io(e()).pipe(Object(di.a)((function(e){return e instanceof r.v?Object(It.a)(e):Object(ln.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),Ma=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function La(e){throw e}function Va(e,t,n){return t.parse("/")}function Ua(e,t){return Object(It.a)(null)}var qa,Ba,za=((Ba=function(){function e(t,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ot.a,this.errorHandler=La,this.malformedUriErrorHandler=Va,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ua,afterPreactivation:Ua},this.urlHandlingStrategy=new Ma,this.routeReuseStrategy=new Ra,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.Z);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new ao(new so([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fa(s,u,(function(e){return l.triggerEvent(new Fi(e))}),(function(e){return l.triggerEvent(new Mi(e))})),this.routerState=No(this.currentUrlTree,this.rootComponentType),this.transitions=new zr({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Yt((function(e){return 0!==e.id})),Object(Pt.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),hn((function(e){var r,i,o,a=!1,s=!1;return Object(It.a)(e).pipe(Object(wi.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),hn((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(It.a)(e).pipe(hn((function(e){var r=t.transitions.getValue();return n.next(new Oi(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?ir.a:[e]})),hn((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(hn((function(e){return function(e,t,n,r,i){return new ua(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(Object(Pt.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(wi.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(di.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Sa(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(Pt.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(wi.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(wi.a)((function(e){var r=new Di(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new Oi(u,t.serializeUrl(c),l,h);n.next(d);var p=No(c,t.rootComponentType).snapshot;return Object(It.a)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ir.a})),Na((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(wi.a)((function(e){var n=new Pi(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(Pt.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Do(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!co(e.url,t.url);case"pathParamsOrQueryParamsChange":return!co(e.url,t.url)||!$i(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qo(e,t)||!$i(e.queryParams,t.queryParams);case"paramsChange":default:return!qo(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new da(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new pa(u&&u.outlet&&u.outlet.component||null,s))}else s&&ya(n,u,o),o.canActivateChecks.push(new da(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),ro(a,(function(e,t){return ya(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(di.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(It.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(ln.a)(e).pipe(Object(di.a)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(It.a)(!0);var a=o.map((function(o){var a,s=va(o,t,i);if(function(e){return e&&ta(e.canDeactivate)}(s))a=io(s.canDeactivate(e,t,n,r));else{if(!ta(s))throw new Error("Invalid CanDeactivate guard");a=io(s(e,t,n,r))}return a.pipe(fi())}));return Object(It.a)(a).pipe(ga())}(e.component,e.route,n,t,r)})),fi((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(di.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(ln.a)(t).pipe(_i((function(t){return Object(ln.a)([ba(t.route.parent,r),_a(t.route,r),ka(e,t.path,n),wa(e,t.route,n)]).pipe(nn(),fi((function(e){return!0!==e}),!0))})),fi((function(e){return!0!==e}),!0))}(r,a,e,t):Object(It.a)(n)})),Object(Pt.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(wi.a)((function(e){if(na(e.guardsResult)){var n=Wi('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(wi.a)((function(e){var n=new Ni(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Yt((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new xi(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),Na((function(e){if(e.guards.canActivateChecks.length)return Object(It.a)(e).pipe(Object(wi.a)((function(e){var n=new Ri(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(di.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(ln.a)(i).pipe(_i((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(It.a)({});if(1===i.length){var o=i[0];return Pa(e[o],t,n,r).pipe(Object(Pt.a)((function(e){return _defineProperty({},o,e)})))}var a={};return Object(ln.a)(i).pipe(Object(di.a)((function(i){return Pa(e[i],t,n,r).pipe(Object(Pt.a)((function(e){return a[i]=e,e})))}))).pipe(ui(),Object(Pt.a)((function(){return a})))}(e._resolve,e,t,r).pipe(Object(Pt.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),jo(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(bi.a)(yi(e,t),Zr(1),ii(t))(n)}:function(t){return Object(bi.a)(yi((function(t,n,r){return e(t,n,r+1)})),Zr(1))(t)}}((function(e,t){return e})),Object(Pt.a)((function(t){return e}))):Object(It.a)(e)})))}),Object(wi.a)((function(e){var n=new ji(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),Na((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Pt.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new Ao(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,c=new Ro(new zr((u=n.value).url),new zr(u.params),new zr(u.queryParams),new zr(u.fragment),new zr(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new Ao(c,l)}(e,t._root,n?n._root:void 0);return new Po(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(wi.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,i=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},Object(Pt.a)((function(e){return new $o(i,e.targetRouterState,e.currentRouterState,o).activate(r),e}))),Object(wi.a)({next:function(){a=!0},complete:function(){a=!0}}),ki((function(){if(!a&&!s){t.resetUrlToCurrentUrlTree();var r=new xi(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null})),ci((function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=na(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new xi(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new Ai(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(zk){e.reject(zk)}}var u;return ir.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Yi(e),this.config=e.map(Ji),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,u=t.preserveFragment;Object(r.W)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return zo(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ho(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return ro(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Ho(n,t,r)}(n);if(o.toRoot())return zo(t.root,new so([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new Go(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Go(n.snapshot._urlSegment,!0,0);var r=Bo(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Go(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?Qo(a.segmentGroup,a.index,o.commands):Ko(a.segmentGroup,a.index,o.commands);return zo(a.segmentGroup,s,t,r,i)}(c,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=na(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(_D){t=this.malformedUriErrorHandler(_D,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(na(e))return oo(this.currentUrlTree,e,t);var n=this.parseUrl(e);return oo(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Ii(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){r.ac()},Ba.\u0275dir=r.Jb({type:Ba}),Ba),Ha=((qa=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Ii&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Ga(this.skipLocationChange),replaceUrl:Ga(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ga(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ga(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||qa)(r.Ob(za),r.Ob(Ro),r.Ob(b))},qa.\u0275dir=r.Jb({type:qa,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.bc("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(r.Wb("href",t.href,r.tc),r.Db("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Ab]}),qa);function Ga(e){return""===e||!!e}var Wa,Ka,Qa,Ya=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Xa,this.attachRef=null},Xa=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Ya,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Za=((Wa=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ja(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||Wa)(r.Ob(Xa),r.Ob(r.P),r.Ob(r.j),r.Yb("name"),r.Ob(r.h))},Wa.\u0275dir=r.Jb({type:Wa,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Wa),Ja=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Ro?this.route:e===Xa?this.childContexts:this.parent.get(e,t)}}]),e}(),$a=function e(){_classCallCheck(this,e)},es=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(It.a)(null)}}]),e}(),ts=((Qa=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Fa(n,r,(function(e){return t.triggerEvent(new Fi(e))}),(function(e){return t.triggerEvent(new Mi(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Yt((function(e){return e instanceof Ii})),_i((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(ln.a)(r).pipe(Object(tn.a)(),Object(Pt.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(di.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Qa)(r.Xb(za),r.Xb(r.w),r.Xb(r.i),r.Xb(r.r),r.Xb($a))},Qa.\u0275prov=r.Kb({token:Qa,factory:Qa.\u0275fac}),Qa),ns=((Ka=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Oi?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ii&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Bi&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Bi(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){r.ac()},Ka.\u0275dir=r.Jb({type:Ka}),Ka),rs=new r.q("ROUTER_CONFIGURATION"),is=new r.q("ROUTER_FORROOT_GUARD"),os=[I,{provide:ho,useClass:fo},{provide:za,useFactory:function(e,t,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new za(null,e,t,n,r,i,o,to(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[ho,Xa,I,r.r,r.w,r.i,ja,rs,[function(){return function e(){_classCallCheck(this,e)}}(),new r.A],[function(){return function e(){_classCallCheck(this,e)}}(),new r.A]]},Xa,{provide:Ro,useFactory:function(e){return e.routerState.root},deps:[za]},{provide:r.w,useClass:r.K},ts,es,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(ci((function(){return Object(It.a)(null)})))}}]),e}(),{provide:rs,useValue:{enableTracing:!1}}];function as(){return new r.y("Router",za)}var ss,us=((ss=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[os,fs(t),{provide:is,useFactory:hs,deps:[[za,new r.A,new r.J]]},{provide:rs,useValue:n||{}},{provide:b,useFactory:ls,deps:[c,[new r.p(E),new r.A],rs]},{provide:ns,useFactory:cs,deps:[za,Ve,rs]},{provide:$a,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:es},{provide:r.y,multi:!0,useFactory:as},[ps,{provide:r.d,multi:!0,useFactory:vs,deps:[ps]},{provide:ms,useFactory:ys,deps:[ps]},{provide:r.b,multi:!0,useExisting:ms}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[fs(t)]}}}]),e}()).\u0275mod=r.Mb({type:ss}),ss.\u0275inj=r.Lb({factory:function(e){return new(e||ss)(r.Xb(is,8),r.Xb(za,8))}}),ss);function cs(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ns(e,t,n)}function ls(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new O(e,t):new T(e,t)}function hs(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fs(e){return[{provide:r.a,multi:!0,useValue:e},{provide:ja,multi:!0,useValue:e}]}var ds,ps=((ds=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ot.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(za),i=e.injector.get(rs);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(It.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(rs),n=this.injector.get(ts),i=this.injector.get(ns),o=this.injector.get(za),a=this.injector.get(r.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||ds)(r.Xb(r.r))},ds.\u0275prov=r.Kb({token:ds,factory:ds.\u0275fac}),ds);function vs(e){return e.appInitializer.bind(e)}function ys(e){return e.bootstrapListener.bind(e)}var ms=new r.q("Router Initializer"),gs=function e(){_classCallCheck(this,e)};function _s(e,t){return{type:7,name:e,definitions:t,options:{}}}function bs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function ws(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function ks(e){return{type:6,styles:e,offset:null}}function Cs(e,t,n){return{type:0,name:e,styles:t,options:n}}function Ss(e){return{type:5,steps:e}}function Es(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Ts(e){Promise.resolve(null).then(e)}var Os=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Ts((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),Is=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Ts((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function xs(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function As(e){switch(e.length){case 0:return new Os;case 1:return e[0];default:return new Is(e)}}function Ds(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function Ps(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&Ns(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&Ns(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&Ns(n,"destroy",e))}))}}function Ns(e,t,n){var r=n.totalTime,i=Rs(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Rs(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function js(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Fs(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Ms=function(e,t){return!1},Ls=function(e,t){return!1},Vs=function(e,t,n){return[]},Us=xs();(Us||"undefined"!=typeof Element)&&(Ms=function(e,t){return e.contains(t)},Ls=function(){if(Us||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Ls}(),Vs=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var qs=null,Bs=!1;function zs(e){qs||(qs=("undefined"!=typeof document?document.body:null)||{},Bs=!!qs.style&&"WebkitAppearance"in qs.style);var t=!0;return qs.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in qs.style)&&Bs)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in qs.style),t}var Hs=Ls,Gs=Ms,Ws=Vs;function Ks(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var Qs,Ys=((Qs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return zs(e)}},{key:"matchesElement",value:function(e,t){return Hs(e,t)}},{key:"containsElement",value:function(e,t){return Gs(e,t)}},{key:"query",value:function(e,t,n){return Ws(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Os(n,r)}}]),e}()).\u0275fac=function(e){return new(e||Qs)},Qs.\u0275prov=r.Kb({token:Qs,factory:Qs.\u0275fac}),Qs),Xs=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new Ys,e}();function Zs(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Js(parseFloat(t[1]),t[2])}function Js(e,t){switch(t){case"s":return 1e3*e;default:return e}}function $s(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=Js(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Js(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function eu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function tu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else eu(e,n);return n}function nu(e,t,n){return n?t+":"+n+";":""}function ru(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=nu(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=nu(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function iu(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=fu(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),xs()&&ru(e))}function ou(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=fu(t);e.style[n]=""})),xs()&&ru(e))}function au(e){return Array.isArray(e)?1==e.length?e[0]:ws(e):e}var su=new RegExp("{{\\s*(.+?)\\s*}}","g");function uu(e){var t=[];if("string"==typeof e){for(var n;n=su.exec(e);)t.push(n[1]);su.lastIndex=0}return t}function cu(e,t,n){var r=e.toString(),i=r.replace(su,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function lu(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var hu=/-+([a-z0-9])/g;function fu(e){return e.replace(hu,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function du(e,t){return 0===e||0===t}function pu(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=yu(e,t)}))},s=1;s<t.length;s++)a()}return t}function vu(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function yu(e,t){return window.getComputedStyle(e)[t]}var mu=new Set(["true","1"]),gu=new Set(["false","0"]);function _u(e,t){var n=mu.has(e)||gu.has(e),r=mu.has(t)||gu.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?mu.has(e):gu.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?mu.has(t):gu.has(t)),a&&s}}var bu=new RegExp("s*:selfs*,?","g");function wu(e,t,n){return new ku(e).build(t,n)}var ku=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new Cu(t);return this._resetContextStyleTimingState(n),vu(this,au(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(Su(e)){var t=e;Object.keys(t).forEach((function(e){uu(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=lu(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=vu(this,au(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(_u(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(_u(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Eu(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return vu(n,e,t)})),options:Eu(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=vu(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:Eu(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Tu($s(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=Tu(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Tu((n=n||$s(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:ks({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=ks(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(Su(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,u=t.errors,c=s.params||{},(l=uu(a)).length&&l.forEach((function(e){c.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(Su(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(Su(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:vu(this,au(e.animation),t),options:Eu(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Eu(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Eu(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(bu,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,js(t.collectedStyles,t.currentQuerySelector,{});var s=vu(this,au(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:Eu(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:$s(e.timings,t.errors,!0);return{type:12,animation:vu(this,au(e.animation),t),timings:n,options:null}}}]),e}(),Cu=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Su(e){return!Array.isArray(e)&&"object"==typeof e}function Eu(e){var t;return e?(e=eu(e)).params&&(e.params=(t=e.params)?eu(t):null):e={},e}function Tu(e,t,n){return{duration:e,delay:t,easing:n}}function Ou(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Iu=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),xu=new RegExp(":enter","g"),Au=new RegExp(":leave","g");function Du(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Pu).buildKeyframes(e,t,n,r,i,o,a,s,u,c)}var Pu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Iu;var l=new Ru(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),vu(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[Ou(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?Zs(n.duration):null,o=null!=n.delay?Zs(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),vu(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Nu);var a=Zs(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return vu(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Zs(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),vu(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return $s(t.params?cu(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Zs(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Nu);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),vu(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;vu(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Nu={},Ru=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ju(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=Zs(r.duration)),null!=r.delay&&(i.delay=Zs(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=cu(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Nu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Fu(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(xu,"."+this._enterClassName)).replace(Au,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}}]),e}(),ju=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):tu(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=cu(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=tu(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?lu(t.values()):[],a=n.size?lu(n.values()):[];if(r){var s=i[0],u=eu(s);s.offset=0,u.offset=1,i=[s,u]}return Ou(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),Fu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=tu(e[0],!1);u.offset=0,o.push(u);var c=tu(e[0],!1);c.offset=Mu(s),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=tu(e[h],!1);f.offset=Mu((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return Ou(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(ju);function Mu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Lu=function e(){_classCallCheck(this,e)},Vu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return fu(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(Uu[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(Lu),Uu=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function qu(e,t,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Bu={},zu=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Bu,f=this.buildStyles(n,a&&a.params||Bu,l),d=s&&s.params||Bu,p=this.buildStyles(r,d,l),v=new Set,y=new Map,m=new Map,g="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:Du(e,t,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),l.length)return qu(t,this._triggerName,n,r,g,f,p,[],[],y,m,w,l);b.forEach((function(e){var n=e.element,r=js(y,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=js(m,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var k=lu(v.values());return qu(t,this._triggerName,n,r,g,f,p,b,k,y,m,w)}}]),e}(),Hu=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=eu(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=cu(o,r,t)),n[e]=o}))}})),n}}]),e}(),Gu=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new Hu(e.style,e.options&&e.options.params||{})})),Wu(this.states,"true","1"),Wu(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new zu(t,e,r.states))})),this.fallbackTransition=new zu(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function Wu(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Ku=new Iu,Qu=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=wu(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Ds(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=Du(this._driver,t,a,"ng-enter","ng-leave",{},{},i,Ku,o)).forEach((function(e){var t=js(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=As(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=Rs(t,"","","");return Ps(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),Yu=[],Xu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ju=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=eu(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}}]),e}(),$u=new Ju("void"),ec=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,sc(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=js(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=js(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(sc(e,"ng-trigger"),sc(e,"ng-trigger-"+t),u[t]=$u),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new nc(this.id,t,e),s=this._engine.statesByElement.get(e);s||(sc(e,"ng-trigger"),sc(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new Ju(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=$u),"void"===c.value||u.value!==c.value){var l=js(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(sc(e,"ng-animate-queued"),a.onStart((function(){uc(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){ou(e,p),iu(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&As(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||$u,s=new Ju("void"),u=new nc(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==Xu||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){sc(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=Rs(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Ps(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),tc=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}},{key:"createNamespace",value:function(e,t){var n=new ec(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(rc(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(rc(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),sc(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uc(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(rc(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return rc(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return As(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Xu,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)sc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?As(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Iu,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=ac(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return sc(e,n)}))}));for(var y=[],m=new Set,g=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(y.push(b),m.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return m.add(e)})):g.add(b))}var k=new Map,C=ac(f,Array.from(m));C.forEach((function(e,t){var n="ng-leave"+v++;k.set(t,n),e.forEach((function(e){return sc(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return uc(e,n)}))})),C.forEach((function(e,t){var n=k.get(t);e.forEach((function(e){return uc(e,n)}))})),y.forEach((function(e){n.processLeaveNode(e)}))}));for(var S=[],E=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(S.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(e,r,v,d,f);if(y.errors&&y.errors.length)E.push(y);else{if(f)return t.onStart((function(){return ou(o,y.fromStyles)})),t.onDestroy((function(){return iu(o,y.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return ou(o,y.fromStyles)})),t.onDestroy((function(){return iu(o,y.toStyles)})),void i.push(t);y.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:t,element:o}),y.queriedElements.forEach((function(e){return js(s,e,[]).push(t)})),y.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),y.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(E.length){var O=[];E.forEach((function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return O.push("- ".concat(e,"\n"))}))})),S.forEach((function(e){return e.destroy()})),this.reportError(O)}var I=new Map,x=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(x.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){js(I,t,[]).push(e),e.destroy()}))}));var A=y.filter((function(e){return lc(e,u,c)})),D=new Map;oc(D,this.driver,g,c,"*").forEach((function(e){lc(e,u,c)&&A.push(e)}));var P=new Map;d.forEach((function(e,t){oc(P,n.driver,new Set(e),u,"!")})),A.forEach((function(e){var t=D.get(e),n=P.get(e);D.set(e,Object.assign(Object.assign({},t),n))}));var N=[],R=[],j={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(l.has(t))return a.onDestroy((function(){return iu(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=j;if(x.size>1){for(var c=t,h=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(e){return x.set(e,u)}))}var d=n._buildAnimation(a.namespaceId,s,I,o,P,D);if(a.setRealPlayer(d),u===j)N.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=As(p)),i.push(a)}}else ou(t,s.fromStyles),a.onDestroy((function(){return iu(t,s.toStyles)})),R.push(a),l.has(t)&&i.push(a)})),R.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=As(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var F=0;F<y.length;F++){var M=y[F],L=M.__ng_removed;if(uc(M,"ng-leave"),!L||!L.hasAnimation){var V=[];if(s.size){var U=s.get(M);U&&U.length&&V.push.apply(V,_toConsumableArray(U));for(var q=this.driver.query(M,".ng-animating",!0),B=0;B<q.length;B++){var z=s.get(q[B]);z&&z.length&&V.push.apply(V,_toConsumableArray(z))}}var H=V.filter((function(e){return!e.destroyed}));H.length?cc(this,M,H):this.processLeaveNode(M)}}return y.length=0,N.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),N}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,u=e!==o,c=js(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}ou(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Os(t.duration,t.delay);var p,v,y=f!==u,m=(p=(n.get(f)||Yu).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof Is?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),g=i.get(f),_=o.get(f),b=Ds(0,a._normalizer,0,t.keyframes,g,_),w=a._buildPlayer(t,b,m);if(t.subTimeline&&r&&h.add(f),y){var k=new nc(e,s,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(e){js(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),l.forEach((function(e){return sc(e,"ng-animating")}));var d=As(f);return d.onDestroy((function(){l.forEach((function(e){return uc(e,"ng-animating")})),iu(u,t.toStyles)})),h.forEach((function(e){js(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Os(e.duration,e.delay)}}]),e}(),nc=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Os,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return Ps(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){js(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function rc(e){return e&&1===e.nodeType}function ic(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function oc(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(ic(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Zu,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return ic(e,o[s++])})),a}function ac(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function sc(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function uc(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function cc(e,t,n){As(n).onDone((function(){return e.processLeaveNode(t)}))}function lc(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var hc=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new tc(t,n,r),this._timelineEngine=new Qu(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=wu(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new Gu(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Fs(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Fs(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function fc(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=pc(t[0]),t.length>1&&(r=pc(t[t.length-1]))):t&&(n=pc(t)),n||r?new dc(e,n,r):null}var dc=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&iu(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(iu(this._element,this._initialStyles),this._endStyles&&(iu(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(ou(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ou(this._element,this._endStyles),this._endStyles=null),iu(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function pc(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];vc(i)&&((t=t||{})[i]=e[i])}return t}function vc(e){return"display"===e||"position"===e}var yc=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=kc(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),wc(e,"",t),bc(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){mc(this._element,this._name,"paused")}},{key:"resume",value:function(){mc(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=gc(this._element,this._name);this._position=e*this._duration,wc(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),bc(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=kc(e,"").split(","),(r=_c(n,t))>=0&&(n.splice(r,1),wc(e,"",n.join(","))))}}]),e}();function mc(e,t,n){wc(e,"PlayState",n,gc(e,t))}function gc(e,t){var n=kc(e,"");return n.indexOf(",")>0?_c(n.split(","),t):_c([n],t)}function _c(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function bc(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function wc(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function kc(e,t){return e.style["animation"+t]}var Cc=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new yc(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:yu(e.element,r))}))}this.currentSnapshot=t}}]),e}(),Sc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Ks(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Os),Ec=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return zs(e)}},{key:"matchesElement",value:function(e,t){return Hs(e,t)}},{key:"containsElement",value:function(e,t){return Gs(e,t)}},{key:"query",value:function(e,t,n){return Ws(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Ks(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof Cc})),u={};du(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=pu(e,t,u));if(0==n)return new Sc(e,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=fc(e,t),d=new Cc(e,t,l,n,r,i,c,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),Tc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:yu(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),Oc=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ic().toString()),this._cssKeyframesDriver=new Ec}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return zs(e)}},{key:"matchesElement",value:function(e,t){return Hs(e,t)}},{key:"containsElement",value:function(e,t){return Gs(e,t)}},{key:"query",value:function(e,t,n){return Ws(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(e){return e instanceof Tc}));du(n,r)&&c.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=fc(e,t=pu(e,t=t.map((function(e){return tu(e,!1)})),u));return new Tc(e,t,s,l)}}]),e}();function Ic(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var xc,Ac=((xc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?ws(e):e;return Nc(this._renderer,null,t,"register",[n]),new Dc(t,this._renderer)}}]),n}(gs)).\u0275fac=function(e){return new(e||xc)(r.Xb(r.F),r.Xb(u))},xc.\u0275prov=r.Kb({token:xc,factory:xc.\u0275fac}),xc),Dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new Pc(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Pc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Nc(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Nc(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Rc,jc,Fc,Mc=((Rc=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Lc("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new Vc(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||Rc)(r.Xb(r.F),r.Xb(hc),r.Xb(r.z))},Rc.\u0275prov=r.Kb({token:Rc,factory:Rc.\u0275fac}),Rc),Lc=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),Vc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(Lc),Uc=((jc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(hc)).\u0275fac=function(e){return new(e||jc)(r.Xb(u),r.Xb(Xs),r.Xb(Lu))},jc.\u0275prov=r.Kb({token:jc,factory:jc.\u0275fac}),jc),qc=new r.q("AnimationModuleType"),Bc=[{provide:Xs,useFactory:function(){return"function"==typeof Ic()?new Oc:new Ec}},{provide:qc,useValue:"BrowserAnimations"},{provide:gs,useClass:Ac},{provide:Lu,useFactory:function(){return new Vu}},{provide:hc,useClass:Uc},{provide:r.F,useFactory:function(e,t,n){return new Mc(e,t,n)},deps:[st,hc,r.z]}],zc=((Fc=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Fc}),Fc.\u0275inj=r.Lb({factory:function(e){return new(e||Fc)},providers:Bc,imports:[kt]}),Fc);function Hc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut.a;return function(n){return n.lift(new Gc(e,t))}}var Gc=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wc(e,this.dueTime,this.scheduler))}}]),e}(),Wc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Kc,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(Ft.a);function Kc(e){e.debouncedNext()}var Qc,Yc,Xc,Zc,Jc=((Zc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}()).\u0275fac=function(e){return new(e||Zc)},Zc.\u0275prov=Object(r.Kb)({factory:function(){return new Zc},token:Zc,providedIn:"root"}),Zc),$c=((Xc=function(){function e(t){_classCallCheck(this,e),this._mutationObserverFactory=t,this._observedElements=new Map}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this;this._observedElements.forEach((function(t,n){return e._cleanupObserver(n)}))}},{key:"observe",value:function(e){var t=this,n=Tt(e);return new xt.a((function(e){var r=t._observeElement(n).subscribe(e);return function(){r.unsubscribe(),t._unobserveElement(n)}}))}},{key:"_observeElement",value:function(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{var t=new Ot.a,n=this._mutationObserverFactory.create((function(e){return t.next(e)}));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}},{key:"_unobserveElement",value:function(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}},{key:"_cleanupObserver",value:function(e){if(this._observedElements.has(e)){var t=this._observedElements.get(e),n=t.observer,r=t.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}]),e}()).\u0275fac=function(e){return new(e||Xc)(r.Xb(Jc))},Xc.\u0275prov=Object(r.Kb)({factory:function(){return new Xc(Object(r.Xb)(Jc))},token:Xc,providedIn:"root"}),Xc),el=((Yc=function(){function e(t,n,i){_classCallCheck(this,e),this._contentObserver=t,this._elementRef=n,this._ngZone=i,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}return _createClass(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Ct(e),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(e){this._debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}(e),this._subscribe()}},{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var e=this;this._unsubscribe();var t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){e._currentSubscription=(e.debounce?t.pipe(Hc(e.debounce)):t).subscribe(e.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Yc)(r.Ob($c),r.Ob(r.l),r.Ob(r.z))},Yc.\u0275dir=r.Jb({type:Yc,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Yc),tl=((Qc=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Qc}),Qc.\u0275inj=r.Lb({factory:function(e){return new(e||Qc)},providers:[Jc]}),Qc);function nl(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}var rl,il,ol=0,al=new Map,sl=null,ul=((il=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"describe",value:function(e,t){this._canBeDescribed(e,t)&&("string"!=typeof t?(this._setMessageId(t),al.set(t,{messageElement:t,referenceCount:0})):al.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))}},{key:"removeDescription",value:function(e,t){if(this._isElementNode(e)){if(this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t),"string"==typeof t){var n=al.get(t);n&&0===n.referenceCount&&this._deleteMessageElement(t)}sl&&0===sl.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var e=this._document.querySelectorAll("[cdk-describedby-host]"),t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");sl&&this._deleteMessagesContainer(),al.clear()}},{key:"_createMessageElement",value:function(e){var t=this._document.createElement("div");this._setMessageId(t),t.textContent=e,this._createMessagesContainer(),sl.appendChild(t),al.set(e,{messageElement:t,referenceCount:0})}},{key:"_setMessageId",value:function(e){e.id||(e.id="cdk-describedby-message-"+ol++)}},{key:"_deleteMessageElement",value:function(e){var t=al.get(e),n=t&&t.messageElement;sl&&n&&sl.removeChild(n),al.delete(e)}},{key:"_createMessagesContainer",value:function(){if(!sl){var e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode.removeChild(e),(sl=this._document.createElement("div")).id="cdk-describedby-message-container",sl.setAttribute("aria-hidden","true"),sl.style.display="none",this._document.body.appendChild(sl)}}},{key:"_deleteMessagesContainer",value:function(){sl&&sl.parentNode&&(sl.parentNode.removeChild(sl),sl=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(e){var t=nl(e,"aria-describedby").filter((function(e){return 0!=e.indexOf("cdk-describedby-message")}));e.setAttribute("aria-describedby",t.join(" "))}},{key:"_addMessageReference",value:function(e,t){var n,r,i,o,a=al.get(t);n=e,r="aria-describedby",i=a.messageElement.id,(o=nl(n,r)).some((function(e){return e.trim()==i.trim()}))||(o.push(i.trim()),n.setAttribute(r,o.join(" "))),e.setAttribute("cdk-describedby-host",""),a.referenceCount++}},{key:"_removeMessageReference",value:function(e,t){var n,r,i,o,a=al.get(t);a.referenceCount--,n=e,r="aria-describedby",i=a.messageElement.id,(o=nl(n,r).filter((function(e){return e!=i.trim()}))).length?n.setAttribute(r,o.join(" ")):n.removeAttribute(r),e.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(e,t){var n=nl(e,"aria-describedby"),r=al.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}},{key:"_canBeDescribed",value:function(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;var n=null==t?"":(""+t).trim(),r=e.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}},{key:"_isElementNode",value:function(e){return e.nodeType===this._document.ELEMENT_NODE}}]),e}()).\u0275fac=function(e){return new(e||il)(r.Xb(u))},il.\u0275prov=Object(r.Kb)({factory:function(){return new il(Object(r.Xb)(u))},token:il,providedIn:"root"}),il),cl=((rl=function(){function e(t){_classCallCheck(this,e),this._platform=t}return _createClass(e,[{key:"isDisabled",value:function(e){return e.hasAttribute("disabled")}},{key:"isVisible",value:function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}},{key:"isTabbable",value:function(e){if(!this._platform.isBrowser)return!1;var t,n=function(e){try{return e.frameElement}catch(nA){return null}}((t=e).ownerDocument&&t.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===hl(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=e.nodeName.toLowerCase(),o=hl(e);if(e.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0}},{key:"isFocusable",value:function(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||ll(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}]),e}()).\u0275fac=function(e){return new(e||rl)(r.Xb(On))},rl.\u0275prov=Object(r.Kb)({factory:function(){return new rl(Object(r.Xb)(On))},token:rl,providedIn:"root"}),rl);function ll(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function hl(e){if(!ll(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var fl,dl,pl=function(){function e(t,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"destroy",value:function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e.startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-".concat(e,"], [cdkFocusRegion").concat(e,"], [cdk-focus-").concat(e,"]")),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(e,"', use 'cdkFocusRegion").concat(e,"' instead. The deprecated attribute will be removed in 8.0.0."),t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(e,"', use 'cdkFocusRegion").concat(e,"' instead. The deprecated attribute will be removed in 8.0.0."),t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),Object(r.W)()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e}},{key:"focusLastTabbableElement",value:function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}},{key:"_toggleAnchorTabIndex",value:function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"_executeOnStable",value:function(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(or(1)).subscribe(e)}}]),e}(),vl=((dl=function(){function e(t,n,r){_classCallCheck(this,e),this._checker=t,this._ngZone=n,this._document=r}return _createClass(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new pl(e,this._checker,this._ngZone,this._document,t)}}]),e}()).\u0275fac=function(e){return new(e||dl)(r.Xb(cl),r.Xb(r.z),r.Xb(u))},dl.\u0275prov=Object(r.Kb)({factory:function(){return new dl(Object(r.Xb)(cl),Object(r.Xb)(r.z),Object(r.Xb)(u))},token:dl,providedIn:"root"}),dl),yl=((fl=function(){function e(t,n,r){_classCallCheck(this,e),this._elementRef=t,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return _createClass(e,[{key:"enabled",get:function(){return this.focusTrap.enabled},set:function(e){this.focusTrap.enabled=Ct(e)}},{key:"autoCapture",get:function(){return this._autoCapture},set:function(e){this._autoCapture=Ct(e)}},{key:"ngOnDestroy",value:function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}},{key:"ngAfterContentInit",value:function(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}},{key:"ngDoCheck",value:function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}]),e}()).\u0275fac=function(e){return new(e||fl)(r.Ob(r.l),r.Ob(vl),r.Ob(u))},fl.\u0275dir=r.Jb({type:fl,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"]}),fl);"undefined"!=typeof Element&&Element;var ml,gl,_l=new r.q("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),bl=new r.q("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),wl=((gl=function(){function e(t,n,r,i){_classCallCheck(this,e),this._ngZone=n,this._defaultOptions=i,this._document=r,this._liveElement=t||this._createLiveElement()}return _createClass(e,[{key:"announce",value:function(e){for(var t,n,r,i=this,o=this._defaultOptions,a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return 1===s.length&&"number"==typeof s[0]?r=s[0]:(n=(t=_slicedToArray(s,2))[0],r=t[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=o&&o.politeness?o.politeness:"polite"),null==r&&o&&(r=o.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular((function(){return new Promise((function(t){clearTimeout(i._previousTimeout),i._previousTimeout=setTimeout((function(){i._liveElement.textContent=e,t(),"number"==typeof r&&(i._previousTimeout=setTimeout((function(){return i.clear()}),r))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}]),e}()).\u0275fac=function(e){return new(e||gl)(r.Xb(_l,8),r.Xb(r.z),r.Xb(u),r.Xb(bl,8))},gl.\u0275prov=Object(r.Kb)({factory:function(){return new gl(Object(r.Xb)(_l,8),Object(r.Xb)(r.z),Object(r.Xb)(u),Object(r.Xb)(bl,8))},token:gl,providedIn:"root"}),gl),kl=((ml=function(){function e(t,n,r,i){_classCallCheck(this,e),this._elementRef=t,this._liveAnnouncer=n,this._contentObserver=r,this._ngZone=i,this._politeness="off"}return _createClass(e,[{key:"politeness",get:function(){return this._politeness},set:function(e){var t=this;this._politeness="polite"===e||"assertive"===e?e:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular((function(){return t._contentObserver.observe(t._elementRef).subscribe((function(){var e=t._elementRef.nativeElement.textContent;e!==t._previousAnnouncedText&&(t._liveAnnouncer.announce(e,t._politeness),t._previousAnnouncedText=e)}))})))}},{key:"ngOnDestroy",value:function(){this._subscription&&this._subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ml)(r.Ob(r.l),r.Ob(wl),r.Ob($c),r.Ob(r.z))},ml.\u0275dir=r.Jb({type:ml,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),ml);function Cl(e){return 0===e.buttons}var Sl,El=new r.q("cdk-focus-monitor-default-options"),Tl=Dn({passive:!0,capture:!0}),Ol=((Sl=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this._ngZone=t,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(e){if(!o._lastTouchTarget){var t=Cl(e)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=function(e){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=Il(e),o._touchTimeoutId=setTimeout((function(){return o._lastTouchTarget=null}),650)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout((function(){return o._windowFocused=!1}))},this._rootNodeFocusAndBlurListener=function(e){for(var t=Il(e),n="focus"===e.type?o._onFocus:o._onBlur,r=t;r;r=r.parentElement)n.call(o,e,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}return _createClass(e,[{key:"monitor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(It.a)(null);var n=Tt(e),r=function(e){if(function(){if(null==Tn){var e="undefined"!=typeof document?document.head:null;Tn=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Tn}()){var t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject.asObservable();var o={checkChildren:t,subject:new Ot.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}},{key:"stopMonitoring",value:function(e){var t=Tt(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(e,t,n){var r=Tt(e);this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var e=this;this._elementInfo.forEach((function(t,n){return e.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}},{key:"_getFocusOrigin",value:function(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}},{key:"_setClasses",value:function(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}},{key:"_setOriginForCurrentEventQueue",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){t._origin=e,0===t._detectionMode&&(t._originTimeoutId=setTimeout((function(){return t._origin=null}),1))}))}},{key:"_wasCausedByTouch",value:function(e){var t=Il(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(e,t){var n=this._elementInfo.get(t);if(n&&(n.checkChildren||t===Il(e))){var r=this._getFocusOrigin(e);this._setClasses(t,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(e,t){this._ngZone.run((function(){return e.next(t)}))}},{key:"_registerGlobalListeners",value:function(e){var t=this;if(this._platform.isBrowser){var n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",t._rootNodeFocusAndBlurListener,Tl),n.addEventListener("blur",t._rootNodeFocusAndBlurListener,Tl)})),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular((function(){var e=t._getDocument(),n=t._getWindow();e.addEventListener("keydown",t._documentKeydownListener,Tl),e.addEventListener("mousedown",t._documentMousedownListener,Tl),e.addEventListener("touchstart",t._documentTouchstartListener,Tl),n.addEventListener("focus",t._windowFocusListener)}))}}},{key:"_removeGlobalListeners",value:function(e){var t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){var n=this._rootNodeFocusListenerCount.get(t);n>1?this._rootNodeFocusListenerCount.set(t,n-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tl),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tl),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){var r=this._getDocument(),i=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,Tl),r.removeEventListener("mousedown",this._documentMousedownListener,Tl),r.removeEventListener("touchstart",this._documentTouchstartListener,Tl),i.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),e}()).\u0275fac=function(e){return new(e||Sl)(r.Xb(r.z),r.Xb(On),r.Xb(u,8),r.Xb(El,8))},Sl.\u0275prov=Object(r.Kb)({factory:function(){return new Sl(Object(r.Xb)(r.z),Object(r.Xb)(On),Object(r.Xb)(u,8),Object(r.Xb)(El,8))},token:Sl,providedIn:"root"}),Sl);function Il(e){return e.composedPath?e.composedPath()[0]:e.target}var xl,Al,Dl,Pl,Nl=((Dl=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._elementRef=t,this._focusMonitor=n,this.cdkFocusChange=new r.n,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe((function(e){return i.cdkFocusChange.emit(e)}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Dl)(r.Ob(r.l),r.Ob(Ol))},Dl.\u0275dir=r.Jb({type:Dl,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),Dl),Rl=((Al=function(){function e(t,n){_classCallCheck(this,e),this._platform=t,this._document=n}return _createClass(e,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);var t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");var t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}]),e}()).\u0275fac=function(e){return new(e||Al)(r.Xb(On),r.Xb(u))},Al.\u0275prov=Object(r.Kb)({factory:function(){return new Al(Object(r.Xb)(On),Object(r.Xb)(u))},token:Al,providedIn:"root"}),Al),jl=((xl=function e(t){_classCallCheck(this,e),t._applyBodyHighContrastModeCssClasses()}).\u0275mod=r.Mb({type:xl}),xl.\u0275inj=r.Lb({factory:function(e){return new(e||xl)(r.Xb(Rl))},imports:[[In,tl]]}),xl),Fl=new r.O("9.2.4"),Ml=new r.O("9.2.4"),Ll=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Vl=((Pl=function(){function e(t,n,r){_classCallCheck(this,e),this._hasDoneGlobalChecks=!1,this._document=r,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(e,[{key:"_getDocument",value:function(){var e=this._document||document;return"object"==typeof e&&e?e:null}},{key:"_getWindow",value:function(){var e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return Object(r.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._getWindow();return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(!e&&t&&t.body&&"function"==typeof getComputedStyle){var n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);var r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Ml.full!==Fl.full&&console.warn("The Angular Material version ("+Ml.full+") does not match the Angular CDK version ("+Fl.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),e}()).\u0275mod=r.Mb({type:Pl}),Pl.\u0275inj=r.Lb({factory:function(e){return new(e||Pl)(r.Xb(Rl),r.Xb(Ll,8),r.Xb(u,8))},imports:[[Un],Un]}),Pl);function Ul(e,t){return function(e){_inherits(r,e);var n=_createSuper(r);function r(){var e;_classCallCheck(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).color=t,e}return _createClass(r,[{key:"color",get:function(){return this._color},set:function(e){var n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}]),r}(e)}var ql,Bl=new r.q("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(r.V)(r.u)}}),zl=function(){function e(){_classCallCheck(this,e),this._localeChanges=new Ot.a}return _createClass(e,[{key:"localeChanges",get:function(){return this._localeChanges}},{key:"deserialize",value:function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}},{key:"setLocale",value:function(e){this.locale=e,this._localeChanges.next()}},{key:"compareDate",value:function(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}},{key:"sameDate",value:function(e,t){if(e&&t){var n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}},{key:"clampDate",value:function(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}]),e}(),Hl=new r.q("mat-date-formats");try{ql="undefined"!=typeof Intl}catch(nA){ql=!1}var Gl={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Wl=Yl(31,(function(e){return String(e+1)})),Kl={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Ql=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Yl(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t(r);return n}var Xl,Zl,Jl,$l,eh,th,nh,rh,ih,oh,ah=((Zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o;return _classCallCheck(this,n),(o=t.call(this)).useUtcForDisplay=!0,_get((i=_assertThisInitialized(o),_getPrototypeOf(n.prototype)),"setLocale",i).call(i,e),o.useUtcForDisplay=!r.TRIDENT,o._clampDate=r.TRIDENT||r.EDGE,o}return _createClass(n,[{key:"getYear",value:function(e){return e.getFullYear()}},{key:"getMonth",value:function(e){return e.getMonth()}},{key:"getDate",value:function(e){return e.getDate()}},{key:"getDayOfWeek",value:function(e){return e.getDay()}},{key:"getMonthNames",value:function(e){var t=this;if(ql){var n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Yl(12,(function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,e,1)))}))}return Gl[e]}},{key:"getDateNames",value:function(){var e=this;if(ql){var t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Yl(31,(function(n){return e._stripDirectionalityCharacters(e._format(t,new Date(2017,0,n+1)))}))}return Wl}},{key:"getDayOfWeekNames",value:function(e){var t=this;if(ql){var n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Yl(7,(function(e){return t._stripDirectionalityCharacters(t._format(n,new Date(2017,0,e+1)))}))}return Kl[e]}},{key:"getYearName",value:function(e){if(ql){var t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}},{key:"clone",value:function(e){return new Date(e.getTime())}},{key:"createDate",value:function(e,t,n){if(t<0||t>11)throw Error('Invalid month index "'.concat(t,'". Month index has to be between 0 and 11.'));if(n<1)throw Error('Invalid date "'.concat(n,'". Date has to be greater than 0.'));var r=this._createDateWithOverflow(e,t,n);if(r.getMonth()!=t)throw Error('Invalid date "'.concat(n,'" for month with index "').concat(t,'".'));return r}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}},{key:"format",value:function(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(ql){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}},{key:"addCalendarYears",value:function(e,t){return this.addCalendarMonths(e,12*t)}},{key:"addCalendarMonths",value:function(e,t){var n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}},{key:"toIso8601",value:function(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}},{key:"deserialize",value:function(e){if("string"==typeof e){if(!e)return null;if(Ql.test(e)){var t=new Date(e);if(this.isValid(t))return t}}return _get(_getPrototypeOf(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return e instanceof Date}},{key:"isValid",value:function(e){return!isNaN(e.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(e,t,n){var r=new Date(e,t,n);return e>=0&&e<100&&r.setFullYear(this.getYear(r)-1900),r}},{key:"_2digit",value:function(e){return("00"+e).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(e){return e.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(e,t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)}}]),n}(zl)).\u0275fac=function(e){return new(e||Zl)(r.Xb(Bl,8),r.Xb(On))},Zl.\u0275prov=r.Kb({token:Zl,factory:Zl.\u0275fac}),Zl),sh=((Xl=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Xl}),Xl.\u0275inj=r.Lb({factory:function(e){return new(e||Xl)},providers:[{provide:zl,useClass:ah}],imports:[[In]]}),Xl),uh={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},ch=(($l=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:$l}),$l.\u0275inj=r.Lb({factory:function(e){return new(e||$l)},providers:[{provide:Hl,useValue:uh}],imports:[[sh]]}),$l),lh=((Jl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}]),e}()).\u0275fac=function(e){return new(e||Jl)},Jl.\u0275prov=Object(r.Kb)({factory:function(){return new Jl},token:Jl,providedIn:"root"}),Jl),hh=function(){function e(t,n,r){_classCallCheck(this,e),this._renderer=t,this.element=n,this.config=r,this.state=3}return _createClass(e,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),e}(),fh={enterDuration:450,exitDuration:400},dh=Dn({passive:!0}),ph=["mousedown","touchstart"],vh=["mouseup","mouseleave","touchend","touchcancel"],yh=function(){function e(t,n,r,i){_classCallCheck(this,e),this._target=t,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Tt(r))}return _createClass(e,[{key:"fadeInRipple",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},fh),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);var a=r.radius||function(e,t,n){var r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),s=e-i.left,u=t-i.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-a+"px",l.style.top=u-a+"px",l.style.height=2*a+"px",l.style.width=2*a+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new hh(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var e=h===n._mostRecentTransientRipple;h.state=1,r.persistent||e&&n._isPointerDown||h.fadeOut()}),c),h}},{key:"fadeOutRipple",value:function(e){var t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),t){var n=e.element,r=Object.assign(Object.assign({},fh),e.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone((function(){e.state=3,n.parentNode.removeChild(n)}),r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(e){return e.fadeOut()}))}},{key:"setupTriggerEvents",value:function(e){var t=Tt(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(ph))}},{key:"handleEvent",value:function(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vh),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(e){var t=Cl(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var t=e.changedTouches,n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach((function(e){!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()})))}},{key:"_runTimeoutOutsideZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(e,t)}))}},{key:"_registerEvents",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){e.forEach((function(e){t._triggerElement.addEventListener(e,t,dh)}))}))}},{key:"_removeTriggerEvents",value:function(){var e=this;this._triggerElement&&(ph.forEach((function(t){e._triggerElement.removeEventListener(t,e,dh)})),this._pointerUpEventsRegistered&&vh.forEach((function(t){e._triggerElement.removeEventListener(t,e,dh)})))}}]),e}(),mh=new r.q("mat-ripple-global-options"),gh=((th=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new yh(this,n,t,r)}return _createClass(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}]),e}()).\u0275fac=function(e){return new(e||th)(r.Ob(r.l),r.Ob(r.z),r.Ob(On),r.Ob(mh,8),r.Ob(qc,8))},th.\u0275dir=r.Jb({type:th,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r.Fb("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),th),_h=((eh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:eh}),eh.\u0275inj=r.Lb({factory:function(e){return new(e||eh)},imports:[[Vl,In],Vl]}),eh),bh=new r.q("mat-label-global-options"),wh=["mat-button",""],kh=["*"],Ch=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Sh=Ul(function(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._disabled=!1,e}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Ct(e)}}]),n}(e)}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._disableRipple=!1,e}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=Ct(e)}}]),n}((function e(t){_classCallCheck(this,e),this._elementRef=t})))),Eh=((rh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),(o=t.call(this,e))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=_createForOfIteratorHelper(Ch);try{for(s.s();!(a=s.n()).done;){var u=a.value;o._hasHostAttributes(u)&&o._getHostElement().classList.add(u)}}catch(c){s.e(c)}finally{s.f()}return e.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",t=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),e,t)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.some((function(t){return e._getHostElement().hasAttribute(t)}))}}]),n}(Sh)).\u0275fac=function(e){return new(e||rh)(r.Ob(r.l),r.Ob(Ol),r.Ob(qc,8))},rh.\u0275cmp=r.Ib({type:rh,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var n;1&e&&r.Dc(gh,!0),2&e&&r.oc(n=r.cc())&&(t.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(e,t){2&e&&(r.Db("disabled",t.disabled||null),r.Fb("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:wh,ngContentSelectors:kh,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(r.jc(),r.Tb(0,"span",0),r.ic(1),r.Sb(),r.Pb(2,"div",1),r.Pb(3,"div",2)),2&e&&(r.Cb(2),r.Fb("mat-button-ripple-round",t.isRoundButton||t.isIconButton),r.kc("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[gh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),rh),Th=((nh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:nh}),nh.\u0275inj=r.Lb({factory:function(e){return new(e||nh)},imports:[[_h,Vl],Vl]}),nh),Oh=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ih(e,this.total))}}]),e}(),Ih=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(Ft.a),xh=new Set,Ah=((oh=function(){function e(t){_classCallCheck(this,e),this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Dh}return _createClass(e,[{key:"matchMedia",value:function(e){return this._platform.WEBKIT&&function(e){if(!xh.has(e))try{ih||((ih=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(ih)),ih.sheet&&(ih.sheet.insertRule("@media ".concat(e," {.fx-query-test{ }}"),0),xh.add(e))}catch(_D){console.error(_D)}}(e),this._matchMedia(e)}}]),e}()).\u0275fac=function(e){return new(e||oh)(r.Xb(On))},oh.\u0275prov=Object(r.Kb)({factory:function(){return new oh(Object(r.Xb)(On))},token:oh,providedIn:"root"}),oh);function Dh(e){return{matches:"all"===e||""===e,media:e,addListener:function(){},removeListener:function(){}}}var Ph,Nh=((Ph=function(){function e(t,n){_classCallCheck(this,e),this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new Ot.a}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(e){var t=this;return Rh(St(e)).some((function(e){return t._registerQuery(e).mql.matches}))}},{key:"observe",value:function(e){var t=this,n=Kr(Rh(St(e)).map((function(e){return t._registerQuery(e).observable})));return(n=rn(n.pipe(or(1)),n.pipe((function(e){return e.lift(new Oh(1))}),Hc(0)))).pipe(Object(Pt.a)((function(e){var t={matches:!1,breakpoints:{}};return e.forEach((function(e){t.matches=t.matches||e.matches,t.breakpoints[e.query]=e.matches})),t})))}},{key:"_registerQuery",value:function(e){var t=this;if(this._queries.has(e))return this._queries.get(e);var n=this._mediaMatcher.matchMedia(e),r={observable:new xt.a((function(e){var r=function(n){return t._zone.run((function(){return e.next(n)}))};return n.addListener(r),function(){n.removeListener(r)}})).pipe(on(n),Object(Pt.a)((function(t){return{query:e,matches:t.matches}})),Jt(this._destroySubject)),mql:n};return this._queries.set(e,r),r}}]),e}()).\u0275fac=function(e){return new(e||Ph)(r.Xb(Ah),r.Xb(r.z))},Ph.\u0275prov=Object(r.Kb)({factory:function(){return new Ph(Object(r.Xb)(Ah),Object(r.Xb)(r.z))},token:Ph,providedIn:"root"}),Ph);function Rh(e){return e.map((function(e){return e.split(",")})).reduce((function(e,t){return e.concat(t)})).map((function(e){return e.trim()}))}var jh,Fh,Mh,Lh=((jh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:jh}),jh.\u0275inj=r.Lb({factory:function(e){return new(e||jh)},imports:[[Br,tr,Pe,Th,Vl],Vl]}),jh),Vh=["*",[["mat-card-footer"]]],Uh=["*","mat-card-footer"],qh=((Mh=function e(t){_classCallCheck(this,e),this._animationMode=t}).\u0275fac=function(e){return new(e||Mh)(r.Ob(qc,8))},Mh.\u0275cmp=r.Ib({type:Mh,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&r.Fb("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:Uh,decls:2,vars:0,template:function(e,t){1&e&&(r.jc(Vh),r.ic(0),r.ic(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),Mh),Bh=((Fh=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Fh}),Fh.\u0275inj=r.Lb({factory:function(e){return new(e||Fh)},imports:[[Vl],Vl]}),Fh),zh=["underline"],Hh=["connectionContainer"],Gh=["inputContainer"],Wh=["label"];function Kh(e,t){1&e&&(r.Rb(0),r.Tb(1,"div",14),r.Pb(2,"div",15),r.Pb(3,"div",16),r.Pb(4,"div",17),r.Sb(),r.Tb(5,"div",18),r.Pb(6,"div",15),r.Pb(7,"div",16),r.Pb(8,"div",17),r.Sb(),r.Qb())}function Qh(e,t){1&e&&(r.Tb(0,"div",19),r.ic(1,1),r.Sb())}function Yh(e,t){if(1&e&&(r.Rb(0),r.ic(1,2),r.Tb(2,"span"),r.zc(3),r.Sb(),r.Qb()),2&e){var n=r.ec(2);r.Cb(3),r.Ac(n._control.placeholder)}}function Xh(e,t){1&e&&r.ic(0,3,["*ngSwitchCase","true"])}function Zh(e,t){1&e&&(r.Tb(0,"span",23),r.zc(1," *"),r.Sb())}function Jh(e,t){if(1&e){var n=r.Ub();r.Tb(0,"label",20,21),r.bc("cdkObserveContent",(function(){return r.rc(n),r.ec().updateOutlineGap()})),r.yc(2,Yh,4,1,"ng-container",12),r.yc(3,Xh,1,0,void 0,12),r.yc(4,Zh,2,0,"span",22),r.Sb()}if(2&e){var i=r.ec();r.Fb("mat-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat)("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),r.kc("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),r.Db("for",i._control.id)("aria-owns",i._control.id),r.Cb(2),r.kc("ngSwitchCase",!1),r.Cb(1),r.kc("ngSwitchCase",!0),r.Cb(1),r.kc("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function $h(e,t){1&e&&(r.Tb(0,"div",24),r.ic(1,4),r.Sb())}function ef(e,t){if(1&e&&(r.Tb(0,"div",25,26),r.Pb(2,"span",27),r.Sb()),2&e){var n=r.ec();r.Cb(2),r.Fb("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function tf(e,t){if(1&e&&(r.Tb(0,"div"),r.ic(1,5),r.Sb()),2&e){var n=r.ec();r.kc("@transitionMessages",n._subscriptAnimationState)}}function nf(e,t){if(1&e&&(r.Tb(0,"div",31),r.zc(1),r.Sb()),2&e){var n=r.ec(2);r.kc("id",n._hintLabelId),r.Cb(1),r.Ac(n.hintLabel)}}function rf(e,t){if(1&e&&(r.Tb(0,"div",28),r.yc(1,nf,2,2,"div",29),r.ic(2,6),r.Pb(3,"div",30),r.ic(4,7),r.Sb()),2&e){var n=r.ec();r.kc("@transitionMessages",n._subscriptAnimationState),r.Cb(1),r.kc("ngIf",n.hintLabel)}}var of,af,sf=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uf=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],cf=0,lf=((of=function e(){_classCallCheck(this,e),this.id="mat-error-"+cf++}).\u0275fac=function(e){return new(e||of)},of.\u0275dir=r.Jb({type:of,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(e,t){2&e&&r.Db("id",t.id)},inputs:{id:"id"}}),of),hf={transitionMessages:_s("transitionMessages",[Cs("enter",ks({opacity:1,transform:"translateY(0%)"})),Es("void => enter",[ks({opacity:0,transform:"translateY(-100%)"}),bs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ff=((af=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||af)},af.\u0275dir=r.Jb({type:af}),af);function df(e){return Error("A hint was already declared for 'align=\"".concat(e,"\"'."))}var pf,vf,yf,mf,gf,_f,bf,wf,kf,Cf=0,Sf=((gf=function e(){_classCallCheck(this,e),this.align="start",this.id="mat-hint-"+Cf++}).\u0275fac=function(e){return new(e||gf)},gf.\u0275dir=r.Jb({type:gf,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,t){2&e&&(r.Db("id",t.id)("align",null),r.Fb("mat-right","end"==t.align))},inputs:{align:"align",id:"id"}}),gf),Ef=((mf=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||mf)},mf.\u0275dir=r.Jb({type:mf,selectors:[["mat-label"]]}),mf),Tf=((yf=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||yf)},yf.\u0275dir=r.Jb({type:yf,selectors:[["mat-placeholder"]]}),yf),Of=((vf=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||vf)},vf.\u0275dir=r.Jb({type:vf,selectors:[["","matPrefix",""]]}),vf),If=((pf=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||pf)},pf.\u0275dir=r.Jb({type:pf,selectors:[["","matSuffix",""]]}),pf),xf=0,Af=Ul((function e(t){_classCallCheck(this,e),this._elementRef=t}),"primary"),Df=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Pf=new r.q("MatFormField"),Nf=((bf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,u,c){var l;return _classCallCheck(this,n),(l=t.call(this,e))._elementRef=e,l._changeDetectorRef=r,l._dir=o,l._defaults=a,l._platform=s,l._ngZone=u,l._outlineGapCalculationNeededImmediately=!1,l._outlineGapCalculationNeededOnStable=!1,l._destroyed=new Ot.a,l._showAlwaysAnimate=!1,l._subscriptAnimationState="",l._hintLabel="",l._hintLabelId="mat-hint-"+xf++,l._labelId="mat-form-field-label-"+xf++,l._labelOptions=i||{},l.floatLabel=l._getDefaultFloatLabelState(),l._animationsEnabled="NoopAnimations"!==c,l.appearance=a&&a.appearance?a.appearance:"legacy",l._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,l}return _createClass(n,[{key:"appearance",get:function(){return this._appearance},set:function(e){var t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=Ct(e)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(e){this._explicitFormFieldControl=e}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var e=this;this._validateControlChild();var t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(on(null)).subscribe((function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Jt(this._destroyed)).subscribe((function(){return e._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.asObservable().pipe(Jt(e._destroyed)).subscribe((function(){e._outlineGapCalculationNeededOnStable&&e.updateOutlineGap()}))})),Object(Rt.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){e._outlineGapCalculationNeededOnStable=!0,e._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(on(null)).subscribe((function(){e._processHints(),e._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(on(null)).subscribe((function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Jt(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?e._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return e.updateOutlineGap()}))})):e.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Nt(this._label.nativeElement,"transitionend").pipe(or(1)).subscribe((function(){e._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var e,t,n=this;this._hintChildren&&this._hintChildren.forEach((function(r){if("start"===r.align){if(e||n.hintLabel)throw df("start");e=r}else if("end"===r.align){if(t)throw df("end");t=r}}))}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var e=[];if("hint"===this._getDisplayedMessages()){var t=this._hintChildren?this._hintChildren.find((function(e){return"start"===e.align})):null,n=this._hintChildren?this._hintChildren.find((function(e){return"end"===e.align})):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map((function(e){return e.id})));this._control.setDescribedByIds(e)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var e=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var t=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=r.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,u=this._getStartEnd(a),c=this._getStartEnd(e.children[0].getBoundingClientRect()),l=0,h=_createForOfIteratorHelper(e.children);try{for(h.s();!(s=h.n()).done;)l+=s.value.offsetWidth}catch(p){h.e(p)}finally{h.f()}t=Math.abs(c-u)-5,n=l>0?.75*l+10:0}for(var f=0;f<i.length;f++)i[f].style.width=t+"px";for(var d=0;d<o.length;d++)o[d].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}},{key:"_isAttachedToDOM",value:function(){var e=this._elementRef.nativeElement;if(e.getRootNode){var t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}]),n}(Af)).\u0275fac=function(e){return new(e||bf)(r.Ob(r.l),r.Ob(r.h),r.Ob(bh,8),r.Ob(Vn,8),r.Ob(Df,8),r.Ob(On),r.Ob(r.z),r.Ob(qc,8))},bf.\u0275cmp=r.Ib({type:bf,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){var i;1&e&&(r.Hb(n,ff,!0),r.vc(n,ff,!0),r.Hb(n,Ef,!0),r.vc(n,Ef,!0),r.Hb(n,Tf,!0),r.Hb(n,lf,!0),r.Hb(n,Sf,!0),r.Hb(n,Of,!0),r.Hb(n,If,!0)),2&e&&(r.oc(i=r.cc())&&(t._controlNonStatic=i.first),r.oc(i=r.cc())&&(t._controlStatic=i.first),r.oc(i=r.cc())&&(t._labelChildNonStatic=i.first),r.oc(i=r.cc())&&(t._labelChildStatic=i.first),r.oc(i=r.cc())&&(t._placeholderChild=i.first),r.oc(i=r.cc())&&(t._errorChildren=i),r.oc(i=r.cc())&&(t._hintChildren=i),r.oc(i=r.cc())&&(t._prefixChildren=i),r.oc(i=r.cc())&&(t._suffixChildren=i))},viewQuery:function(e,t){var n;1&e&&(r.Dc(zh,!0),r.wc(Hh,!0),r.Dc(Gh,!0),r.Dc(Wh,!0)),2&e&&(r.oc(n=r.cc())&&(t.underlineRef=n.first),r.oc(n=r.cc())&&(t._connectionContainerRef=n.first),r.oc(n=r.cc())&&(t._inputContainerRef=n.first),r.oc(n=r.cc())&&(t._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(e,t){2&e&&r.Fb("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat)("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Bb([{provide:Pf,useExisting:bf}]),r.zb],ngContentSelectors:uf,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(r.jc(sf),r.Tb(0,"div",0),r.Tb(1,"div",1,2),r.bc("click",(function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)})),r.yc(3,Kh,9,0,"ng-container",3),r.yc(4,Qh,2,0,"div",4),r.Tb(5,"div",5,6),r.ic(7),r.Tb(8,"span",7),r.yc(9,Jh,5,16,"label",8),r.Sb(),r.Sb(),r.yc(10,$h,2,0,"div",9),r.Sb(),r.yc(11,ef,3,4,"div",10),r.Tb(12,"div",11),r.yc(13,tf,2,1,"div",12),r.yc(14,rf,5,2,"div",13),r.Sb(),r.Sb()),2&e&&(r.Cb(3),r.kc("ngIf","outline"==t.appearance),r.Cb(1),r.kc("ngIf",t._prefixChildren.length),r.Cb(5),r.kc("ngIf",t._hasFloatingLabel()),r.Cb(1),r.kc("ngIf",t._suffixChildren.length),r.Cb(1),r.kc("ngIf","outline"!=t.appearance),r.Cb(1),r.kc("ngSwitch",t._getDisplayedMessages()),r.Cb(1),r.kc("ngSwitchCase","error"),r.Cb(1),r.kc("ngSwitchCase","hint"))},directives:[ve,we,ke,el],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[hf.transitionMessages]},changeDetection:0}),bf),Rf=((_f=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:_f}),_f.\u0275inj=r.Lb({factory:function(e){return new(e||_f)},imports:[[Pe,Vl,tl],Vl]}),_f),jf=Dn({passive:!0}),Ff=((kf=function(){function e(t,n){_classCallCheck(this,e),this._platform=t,this._ngZone=n,this._monitoredElements=new Map}return _createClass(e,[{key:"monitor",value:function(e){var t=this;if(!this._platform.isBrowser)return ir.a;var n=Tt(e),r=this._monitoredElements.get(n);if(r)return r.subject.asObservable();var i=new Ot.a,o="cdk-text-field-autofilled",a=function(e){"cdk-text-field-autofill-start"!==e.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===e.animationName&&n.classList.contains(o)&&(n.classList.remove(o),t._ngZone.run((function(){return i.next({target:e.target,isAutofilled:!1})}))):(n.classList.add(o),t._ngZone.run((function(){return i.next({target:e.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,jf),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",a,jf)}}),i.asObservable()}},{key:"stopMonitoring",value:function(e){var t=Tt(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}},{key:"ngOnDestroy",value:function(){var e=this;this._monitoredElements.forEach((function(t,n){return e.stopMonitoring(n)}))}}]),e}()).\u0275fac=function(e){return new(e||kf)(r.Xb(On),r.Xb(r.z))},kf.\u0275prov=Object(r.Kb)({factory:function(){return new kf(Object(r.Xb)(On),Object(r.Xb)(r.z))},token:kf,providedIn:"root"}),kf),Mf=((wf=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:wf}),wf.\u0275inj=r.Lb({factory:function(e){return new(e||wf)},imports:[[In]]}),wf),Lf=n("XoHu");function Vf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(At.a)(r))return Uf(r,null);if(Object(Lf.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Uf(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Uf(t=1===t.length&&Object(At.a)(t[0])?t[0]:t,null).pipe(Object(Pt.a)((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Uf(t,null)}function Uf(e,t){return new xt.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(ln.a)(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var qf,Bf,zf,Hf,Gf=new r.q("NgValueAccessor"),Wf={provide:Gf,useExisting:Object(r.U)((function(){return Kf})),multi:!0},Kf=((qf=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||qf)(r.Ob(r.E),r.Ob(r.l))},qf.\u0275dir=r.Jb({type:qf,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&r.bc("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[r.Bb([Wf])]}),qf),Qf={provide:Gf,useExisting:Object(r.U)((function(){return Xf})),multi:!0},Yf=new r.q("CompositionEventMode"),Xf=((Hf=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Hf)(r.Ob(r.E),r.Ob(r.l),r.Ob(Yf,8))},Hf.\u0275dir=r.Jb({type:Hf,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.bc("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[r.Bb([Qf])]}),Hf),Zf=((zf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||zf)},zf.\u0275dir=r.Jb({type:zf}),zf),Jf=((Bf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Zf)).\u0275fac=function(e){return $f(e||Bf)},Bf.\u0275dir=r.Jb({type:Bf,features:[r.zb]}),Bf),$f=r.Vb(Jf);function ed(){throw new Error("unimplemented")}var td,nd,rd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return ed()}},{key:"asyncValidator",get:function(){return ed()}}]),n}(Zf),id=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),od=((nd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(id)).\u0275fac=function(e){return new(e||nd)(r.Ob(rd,2))},nd.\u0275dir=r.Jb({type:nd,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Fb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.zb]}),nd),ad=((td=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(id)).\u0275fac=function(e){return new(e||td)(r.Ob(Jf,2))},td.\u0275dir=r.Jb({type:td,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Fb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.zb]}),td);function sd(e){return null==e||0===e.length}var ud=new r.q("NgValidators"),cd=new r.q("NgAsyncValidators"),ld=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(sd(t.value)||sd(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(sd(t.value)||sd(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return sd(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return sd(e.value)||ld.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(sd(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(sd(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(fd);return 0==t.length?null:function(e){return pd(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(fd);return 0==t.length?null:function(e){return Vf(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(dd)).pipe(Object(Pt.a)(pd))}}}]),e}();function fd(e){return null!=e}function dd(e){var t=Object(r.tb)(e)?Object(ln.a)(e):e;if(!Object(r.sb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function pd(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function vd(e){return e.validate?function(t){return e.validate(t)}:e}function yd(e){return e.validate?function(t){return e.validate(t)}:e}var md,gd,_d,bd,wd,kd,Cd={provide:Gf,useExisting:Object(r.U)((function(){return Sd})),multi:!0},Sd=((md=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||md)(r.Ob(r.E),r.Ob(r.l))},md.\u0275dir=r.Jb({type:md,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.bc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.Bb([Cd])]}),md),Ed={provide:Gf,useExisting:Object(r.U)((function(){return Od})),multi:!0},Td=((_d=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||_d)},_d.\u0275prov=r.Kb({token:_d,factory:_d.\u0275fac}),_d),Od=((gd=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(rd),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||gd)(r.Ob(r.E),r.Ob(r.l),r.Ob(Td),r.Ob(r.r))},gd.\u0275dir=r.Jb({type:gd,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&r.bc("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([Ed])]}),gd),Id={provide:Gf,useExisting:Object(r.U)((function(){return xd})),multi:!0},xd=((bd=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||bd)(r.Ob(r.E),r.Ob(r.l))},bd.\u0275dir=r.Jb({type:bd,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&r.bc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.Bb([Id])]}),bd),Ad='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Dd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Pd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ad)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Dd,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Ad)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Dd)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),Nd={provide:Gf,useExisting:Object(r.U)((function(){return Rd})),multi:!0},Rd=((wd=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.ub}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}()).\u0275fac=function(e){return new(e||wd)(r.Ob(r.E),r.Ob(r.l))},wd.\u0275dir=r.Jb({type:wd,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.bc("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([Nd])]}),wd),jd={provide:Gf,useExisting:Object(r.U)((function(){return Fd})),multi:!0},Fd=((kd=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.ub}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}()).\u0275fac=function(e){return new(e||kd)(r.Ob(r.E),r.Ob(r.l))},kd.\u0275dir=r.Jb({type:kd,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.bc("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Bb([jd])]}),kd);function Md(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Ld(e,t){e||Bd(t,"Cannot find control with"),t.valueAccessor||Bd(t,"No value accessor for form control with"),e.validator=hd.compose([e.validator,t.validator]),e.asyncValidator=hd.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Vd(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Vd(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Vd(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ud(e,t){null==e&&Bd(t,"Cannot find control with"),e.validator=hd.compose([e.validator,t.validator]),e.asyncValidator=hd.composeAsync([e.asyncValidator,t.asyncValidator])}function qd(e){return Bd(e,"There is no FormControl instance attached to form control element with")}function Bd(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function zd(e){return null!=e?hd.compose(e.map(vd)):null}function Hd(e){return null!=e?hd.composeAsync(e.map(yd)):null}var Gd=[Kf,xd,Sd,Rd,Fd,Od];function Wd(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function Kd(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Qd(e){var t=Xd(e)?e.validators:e;return Array.isArray(t)?zd(t):t||null}function Yd(e,t){var n=Xd(t)?t.asyncValidators:e;return Array.isArray(n)?Hd(n):n||null}function Xd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Zd,Jd,$d,ep,tp,np=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=Qd(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Yd(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=dd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof ip?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof op&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Xd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),rp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Qd(i),Yd(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(np),ip=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Qd(r),Yd(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof rp?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(np),op=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Qd(r),Yd(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof rp?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(np),ap={provide:Jf,useExisting:Object(r.U)((function(){return up}))},sp=Promise.resolve(null),up=((Jd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new ip({},zd(e),Hd(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;sp.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ld(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;sp.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Kd(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;sp.then((function(){var n=t._findContainer(e.path),r=new ip({});Ud(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;sp.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;sp.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Wd(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(Jf)).\u0275fac=function(e){return new(e||Jd)(r.Ob(ud,10),r.Ob(cd,10))},Jd.\u0275dir=r.Jb({type:Jd,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.bc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([ap]),r.zb]}),Jd),cp=((Zd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Md(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return zd(this._validators)}},{key:"asyncValidator",get:function(){return Hd(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(Jf)).\u0275fac=function(e){return lp(e||Zd)},Zd.\u0275dir=r.Jb({type:Zd,features:[r.zb]}),Zd),lp=r.Vb(cp),hp=new r.q("NgModelWithFormControlWarning"),fp={provide:Jf,useExisting:Object(r.U)((function(){return dp}))},dp=(($d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Ld(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Kd(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Ud(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Ud(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Wd(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return qd(t)})),t.valueAccessor.registerOnTouched((function(){return qd(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&Ld(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=zd(this._validators);this.form.validator=hd.compose([this.form.validator,e]);var t=Hd(this._asyncValidators);this.form.asyncValidator=hd.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Pd.missingFormException()}}]),n}(Jf)).\u0275fac=function(e){return new(e||$d)(r.Ob(ud,10),r.Ob(cd,10))},$d.\u0275dir=r.Jb({type:$d,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.bc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([fp]),r.zb,r.Ab]}),$d),pp={provide:Jf,useExisting:Object(r.U)((function(){return vp}))},vp=((ep=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){gp(this._parent)&&Pd.groupParentException()}}]),n}(cp)).\u0275fac=function(e){return new(e||ep)(r.Ob(Jf,13),r.Ob(ud,10),r.Ob(cd,10))},ep.\u0275dir=r.Jb({type:ep,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Bb([pp]),r.zb]}),ep),yp={provide:Jf,useExisting:Object(r.U)((function(){return mp}))},mp=((tp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Md(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return zd(this._validators)}},{key:"asyncValidator",get:function(){return Hd(this._asyncValidators)}},{key:"_checkParentType",value:function(){gp(this._parent)&&Pd.arrayParentException()}}]),n}(Jf)).\u0275fac=function(e){return new(e||tp)(r.Ob(Jf,13),r.Ob(ud,10),r.Ob(cd,10))},tp.\u0275dir=r.Jb({type:tp,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Bb([yp]),r.zb]}),tp);function gp(e){return!(e instanceof vp||e instanceof dp||e instanceof mp)}var _p,bp,wp,kp,Cp,Sp,Ep,Tp={provide:rd,useExisting:Object(r.U)((function(){return Op}))},Op=((Cp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=e,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Bd(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Xf?n=t:(o=t,Gd.some((function(e){return o.constructor===e}))?(r&&Bd(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Bd(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Bd(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"isDisabled",set:function(e){Pd.disabledAttrWarning()}},{key:"ngOnChanges",value:function(e){var t,i;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.ub)(t,n.currentValue)}(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Object(r.W)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Pd.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return Md(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return zd(this._rawValidators)}},{key:"asyncValidator",get:function(){return Hd(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof vp)&&this._parent instanceof cp?Pd.ngModelGroupException():this._parent instanceof vp||this._parent instanceof dp||this._parent instanceof mp||Pd.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(rd)).\u0275fac=function(e){return new(e||Cp)(r.Ob(Jf,13),r.Ob(ud,10),r.Ob(cd,10),r.Ob(Gf,10),r.Ob(hp,8))},Cp.\u0275dir=r.Jb({type:Cp,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([Tp]),r.zb,r.Ab]}),Cp._ngModelWarningSentOnce=!1,Cp),Ip=((kp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:kp}),kp.\u0275inj=r.Lb({factory:function(e){return new(e||kp)}}),kp),xp=((wp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ip(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new rp(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new op(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof rp||e instanceof ip||e instanceof op?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||wp)},wp.\u0275prov=r.Kb({token:wp,factory:wp.\u0275fac}),wp),Ap=((bp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:bp}),bp.\u0275inj=r.Lb({factory:function(e){return new(e||bp)},providers:[Td],imports:[Ip]}),bp),Dp=((_p=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:hp,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=r.Mb({type:_p}),_p.\u0275inj=r.Lb({factory:function(e){return new(e||_p)},providers:[xp,Td],imports:[Ip]}),_p),Pp=new r.q("MAT_INPUT_VALUE_ACCESSOR"),Np=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Rp=0,jp=function(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).errorState=!1,e.stateChanges=new Ot.a,e}return _createClass(n,[{key:"updateErrorState",value:function(){var e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}]),n}(e)}((function e(t,n,r,i){_classCallCheck(this,e),this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i})),Fp=((Ep=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,u,c,l){var h;_classCallCheck(this,n),(h=t.call(this,s,o,a,i))._elementRef=e,h._platform=r,h.ngControl=i,h._autofillMonitor=c,h._uid="mat-input-"+Rp++,h.focused=!1,h.stateChanges=new Ot.a,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(e){return An().has(e)}));var f=h._elementRef.nativeElement,d=f.nodeName.toLowerCase();return h._inputValueAccessor=u||f,h._previousNativeValue=h.value,h.id=h.id,r.IOS&&l.runOutsideAngular((function(){e.nativeElement.addEventListener("keyup",(function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===d,h._isTextarea="textarea"===d,h._isNativeSelect&&(h.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=Ct(e),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=Ct(e)}},{key:"type",get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),!this._isTextarea&&An().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(e){this._readonly=Ct(e)}},{key:"ngOnInit",value:function(){var e=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(t){e.autofilled=t.isAutofilled,e.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_focusChanged",value:function(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}},{key:"_validateType",value:function(){if(Np.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),n}(jp)).\u0275fac=function(e){return new(e||Ep)(r.Ob(r.l),r.Ob(On),r.Ob(rd,10),r.Ob(up,8),r.Ob(dp,8),r.Ob(lh),r.Ob(Pp,10),r.Ob(Ff),r.Ob(r.z))},Ep.\u0275dir=r.Jb({type:Ep,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(e,t){1&e&&r.bc("focus",(function(){return t._focusChanged(!0)}))("blur",(function(){return t._focusChanged(!1)}))("input",(function(){return t._onInput()})),2&e&&(r.Wb("disabled",t.disabled)("required",t.required),r.Db("id",t.id)("placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-describedby",t._ariaDescribedby||null)("aria-invalid",t.errorState)("aria-required",t.required.toString()),r.Fb("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[r.Bb([{provide:ff,useExisting:Ep}]),r.zb,r.Ab]}),Ep),Mp=((Sp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Sp}),Sp.\u0275inj=r.Lb({factory:function(e){return new(e||Sp)},providers:[lh],imports:[[Mf,Rf],Mf,Rf]}),Sp);function Lp(e,t){}var Vp=function e(){_classCallCheck(this,e),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},Up={dialogContainer:_s("dialogContainer",[Cs("void, exit",ks({opacity:0,transform:"scale(0.7)"})),Cs("enter",ks({transform:"none"})),Es("* => enter",bs("150ms cubic-bezier(0, 0, 0.2, 1)",ks({transform:"none",opacity:1}))),Es("* => void, * => exit",bs("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ks({opacity:0})))])};function qp(){throw Error("Attempting to attach dialog content after content is already attached")}var Bp,zp,Hp,Gp=((Bp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this))._elementRef=e,u._focusTrapFactory=i,u._changeDetectorRef=o,u._config=s,u._elementFocusedBeforeDialogWasOpened=null,u._state="enter",u._animationStateChanged=new r.n,u.attachDomPortal=function(e){return u._portalOutlet.hasAttached()&&qp(),u._setupFocusTrap(),u._portalOutlet.attachDomPortal(e)},u._ariaLabelledBy=s.ariaLabelledBy||null,u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(e){return this._portalOutlet.hasAttached()&&qp(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(e)}},{key:"attachTemplatePortal",value:function(e){return this._portalOutlet.hasAttached()&&qp(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(e)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){var t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||e.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){var e=this;this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return e._elementRef.nativeElement.focus()})))}},{key:"_containsFocus",value:function(){var e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}},{key:"_onAnimationDone",value:function(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}},{key:"_onAnimationStart",value:function(e){this._animationStateChanged.emit(e)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(Jn)).\u0275fac=function(e){return new(e||Bp)(r.Ob(r.l),r.Ob(vl),r.Ob(r.h),r.Ob(u,8),r.Ob(Vp))},Bp.\u0275cmp=r.Ib({type:Bp,selectors:[["mat-dialog-container"]],viewQuery:function(e,t){var n;1&e&&r.wc(er,!0),2&e&&r.oc(n=r.cc())&&(t._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&r.Gb("@dialogContainer.start",(function(e){return t._onAnimationStart(e)}))("@dialogContainer.done",(function(e){return t._onAnimationDone(e)})),2&e&&(r.Db("id",t._id)("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),r.Cc("@dialogContainer",t._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&r.yc(0,Lp,0,0,"ng-template",0)},directives:[er],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Up.dialogContainer]}}),Bp),Wp=0,Kp=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+Wp++;_classCallCheck(this,e),this._overlayRef=t,this._containerInstance=n,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ot.a,this._afterClosed=new Ot.a,this._beforeClosed=new Ot.a,this._state=0,n._id=i,n._animationStateChanged.pipe(Yt((function(e){return"done"===e.phaseName&&"enter"===e.toState})),or(1)).subscribe((function(){r._afterOpened.next(),r._afterOpened.complete()})),n._animationStateChanged.pipe(Yt((function(e){return"done"===e.phaseName&&"exit"===e.toState})),or(1)).subscribe((function(){clearTimeout(r._closeFallbackTimeout),r._finishDialogClose()})),t.detachments().subscribe((function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()})),t.keydownEvents().pipe(Yt((function(e){return 27===e.keyCode&&!r.disableClose&&!ur(e)}))).subscribe((function(e){e.preventDefault(),r.close()})),t.backdropClick().subscribe((function(){r.disableClose?r._containerInstance._recaptureFocus():r.close()}))}return _createClass(e,[{key:"close",value:function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(Yt((function(e){return"start"===e.phaseName})),or(1)).subscribe((function(n){t._beforeClosed.next(e),t._beforeClosed.complete(),t._overlayRef.detachBackdrop(),t._closeFallbackTimeout=setTimeout((function(){return t._finishDialogClose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(e){return this._overlayRef.addPanelClass(e),this}},{key:"removePanelClass",value:function(e){return this._overlayRef.removePanelClass(e),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),e}(),Qp=new r.q("MatDialogData"),Yp=new r.q("mat-dialog-default-options"),Xp=new r.q("mat-dialog-scroll-strategy"),Zp={provide:Xp,deps:[Ur],useFactory:function(e){return function(){return e.scrollStrategies.block()}}},Jp=((Hp=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._overlay=t,this._injector=n,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ot.a,this._afterOpenedAtThisLevel=new Ot.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Xr((function(){return u.openDialogs.length?u._afterAllClosed:u._afterAllClosed.pipe(on(void 0))})),this._scrollStrategy=o}return _createClass(e,[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}},{key:"open",value:function(e,t){var n=this;if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new Vp)).id&&this.getDialogById(t.id))throw Error('Dialog with id "'.concat(t.id,'" exists already. The dialog id must be unique.'));var r=this._createOverlay(t),i=this._attachDialogContainer(r,t),o=this._attachDialogContent(e,i,r,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe((function(){return n._removeOpenDialog(o)})),this.afterOpened.next(o),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(e){return this.openDialogs.find((function(t){return t.id===e}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)}},{key:"_getOverlayConfig",value:function(e){var t=new gr({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}},{key:"_attachDialogContainer",value:function(e,t){var n=r.r.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Vp,useValue:t}]}),i=new Yn(Gp,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}},{key:"_attachDialogContent",value:function(e,t,n,i){var o=new Kp(n,t,i.id);if(e instanceof r.L)t.attachTemplatePortal(new Xn(e,null,{$implicit:i.data,dialogRef:o}));else{var a=this._createInjector(i,o,t),s=t.attachComponentPortal(new Yn(e,i.viewContainerRef,a));o.componentInstance=s.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}},{key:"_createInjector",value:function(e,t,n){var i=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:Gp,useValue:n},{provide:Qp,useValue:e.data},{provide:Kp,useValue:t}];return!e.direction||i&&i.get(Vn,null)||o.push({provide:Vn,useValue:{value:e.direction,change:Object(It.a)()}}),r.r.create({parent:i||this._injector,providers:o})}},{key:"_removeOpenDialog",value:function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(e){for(var t=e.length;t--;)e[t].close()}}]),e}()).\u0275fac=function(e){return new(e||Hp)(r.Xb(Ur),r.Xb(r.r),r.Xb(I,8),r.Xb(Yp,8),r.Xb(Xp),r.Xb(Hp,12),r.Xb(Or))},Hp.\u0275prov=r.Kb({token:Hp,factory:Hp.\u0275fac}),Hp),$p=((zp=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:zp}),zp.\u0275inj=r.Lb({factory:function(e){return new(e||zp)},providers:[Jp,Zp],imports:[[Br,tr,Vl],Vl]}),zp),ev=["mat-calendar-body",""];function tv(e,t){if(1&e&&(r.Tb(0,"tr",2),r.Tb(1,"td",3),r.zc(2),r.Sb(),r.Sb()),2&e){var n=r.ec();r.Cb(1),r.xc("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),r.Db("colspan",n.numCols),r.Cb(1),r.Bc(" ",n.label," ")}}function nv(e,t){if(1&e&&(r.Tb(0,"td",7),r.zc(1),r.Sb()),2&e){var n=r.ec(2);r.xc("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),r.Db("colspan",n._firstRowOffset),r.Cb(1),r.Bc(" ",n._firstRowOffset>=n.labelMinRequiredCells?n.label:""," ")}}function rv(e,t){if(1&e){var n=r.Ub();r.Tb(0,"td",8),r.bc("click",(function(){r.rc(n);var e=t.$implicit;return r.ec(2)._cellClicked(e)})),r.Tb(1,"div",9),r.zc(2),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit,o=t.index,a=r.ec().index,s=r.ec();r.xc("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),r.Fb("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",s._isActiveCell(a,o)),r.kc("ngClass",i.cssClasses)("tabindex",s._isActiveCell(a,o)?0:-1),r.Db("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-selected",s.selectedValue===i.value),r.Cb(1),r.Fb("mat-calendar-body-selected",s.selectedValue===i.value)("mat-calendar-body-today",s.todayValue===i.value),r.Cb(1),r.Bc(" ",i.displayValue," ")}}function iv(e,t){if(1&e&&(r.Tb(0,"tr",4),r.yc(1,nv,2,6,"td",5),r.yc(2,rv,3,20,"td",6),r.Sb()),2&e){var n=t.$implicit,i=t.index,o=r.ec();r.Cb(1),r.kc("ngIf",0===i&&o._firstRowOffset),r.Cb(1),r.kc("ngForOf",n)}}function ov(e,t){if(1&e&&(r.Tb(0,"th",5),r.zc(1),r.Sb()),2&e){var n=t.$implicit;r.Db("aria-label",n.long),r.Cb(1),r.Ac(n.narrow)}}var av=["*"];function sv(e,t){}function uv(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-month-view",5),r.bc("activeDateChange",(function(e){return r.rc(n),r.ec().activeDate=e}))("selectedChange",(function(e){return r.rc(n),r.ec()._dateSelected(e)}))("_userSelection",(function(){return r.rc(n),r.ec()._userSelected()})),r.Sb()}if(2&e){var i=r.ec();r.kc("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function cv(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-year-view",6),r.bc("activeDateChange",(function(e){return r.rc(n),r.ec().activeDate=e}))("monthSelected",(function(e){return r.rc(n),r.ec()._monthSelectedInYearView(e)}))("selectedChange",(function(e){return r.rc(n),r.ec()._goToDateInView(e,"month")})),r.Sb()}if(2&e){var i=r.ec();r.kc("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)}}function lv(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-multi-year-view",7),r.bc("activeDateChange",(function(e){return r.rc(n),r.ec().activeDate=e}))("yearSelected",(function(e){return r.rc(n),r.ec()._yearSelectedInMultiYearView(e)}))("selectedChange",(function(e){return r.rc(n),r.ec()._goToDateInView(e,"year")})),r.Sb()}if(2&e){var i=r.ec();r.kc("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)}}var hv=["button"];function fv(e,t){1&e&&(r.dc(),r.Tb(0,"svg",3),r.Pb(1,"path",4),r.Sb())}var dv=[[["","matDatepickerToggleIcon",""]]],pv=["[matDatepickerToggleIcon]"];function vv(e){return Error("MatDatepicker: No provider found for ".concat(e,". You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation."))}var yv,mv,gv,_v,bv=((yv=function(){function e(){_classCallCheck(this,e),this.changes=new Ot.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return _createClass(e,[{key:"formatYearRange",value:function(e,t){return"".concat(e," \u2013 ").concat(t)}}]),e}()).\u0275fac=function(e){return new(e||yv)},yv.\u0275prov=Object(r.Kb)({factory:function(){return new yv},token:yv,providedIn:"root"}),yv),wv=function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,e),this.value=t,this.displayValue=n,this.ariaLabel=r,this.enabled=i,this.cssClasses=o},kv=((_v=function(){function e(t,n){_classCallCheck(this,e),this._elementRef=t,this._ngZone=n,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new r.n}return _createClass(e,[{key:"_cellClicked",value:function(e){e.enabled&&this.selectedValueChange.emit(e.value)}},{key:"ngOnChanges",value:function(e){var t=e.numCols,n=this.rows,r=this.numCols;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?r-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),!t&&this._cellWidth||(this._cellWidth=100/r+"%")}},{key:"_isActiveCell",value:function(e,t){var n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}},{key:"_focusActiveCell",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.asObservable().pipe(or(1)).subscribe((function(){var t=e._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&t.focus()}))}))}}]),e}()).\u0275fac=function(e){return new(e||_v)(r.Ob(r.l),r.Ob(r.z))},_v.\u0275cmp=r.Ib({type:_v,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",cellAspectRatio:"cellAspectRatio",label:"label",rows:"rows",todayValue:"todayValue",selectedValue:"selectedValue",labelMinRequiredCells:"labelMinRequiredCells"},outputs:{selectedValueChange:"selectedValueChange"},exportAs:["matCalendarBody"],features:[r.Ab],attrs:ev,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell mat-focus-indicator",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell","mat-focus-indicator",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content"]],template:function(e,t){1&e&&(r.yc(0,tv,3,6,"tr",0),r.yc(1,iv,3,2,"tr",1)),2&e&&(r.kc("ngIf",t._firstRowOffset<t.labelMinRequiredCells),r.Cb(1),r.kc("ngForOf",t.rows))},directives:[ve,de,he],styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n"],encapsulation:2,changeDetection:0}),_v),Cv=((gv=function(){function e(t,n,i,o){if(_classCallCheck(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=jt.a.EMPTY,this.selectedChange=new r.n,this._userSelection=new r.n,this.activeDateChange=new r.n,!this._dateAdapter)throw vv("DateAdapter");if(!this._dateFormats)throw vv("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return _createClass(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(on(null)).subscribe((function(){return e._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_dateSelected",value:function(e){if(this._selectedDate!=e){var t=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.createDate(t,n,e);this.selectedChange.emit(r)}this._userSelection.emit()}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),e.preventDefault()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_initWeekdays",value:function(){var e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((function(e,n){return{long:e,narrow:t[n]}}));this._weekdays=n.slice(e).concat(n.slice(0,e))}},{key:"_createWeekCells",value:function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,r=this._firstWeekOffset;n<e;n++,r++){7==r&&(this._weeks.push([]),r=0);var i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),o=this._shouldEnableDate(i),a=this._dateAdapter.format(i,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(i):void 0;this._weeks[this._weeks.length-1].push(new wv(n+1,t[n],a,o,s))}}},{key:"_shouldEnableDate",value:function(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}},{key:"_getDateInCurrentMonth",value:function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}},{key:"_hasSameMonthAndYear",value:function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}}]),e}()).\u0275fac=function(e){return new(e||gv)(r.Ob(r.h),r.Ob(Hl,8),r.Ob(zl,8),r.Ob(Vn,8))},gv.\u0275cmp=r.Ib({type:gv,selectors:[["mat-month-view"]],viewQuery:function(e,t){var n;1&e&&r.Dc(kv,!0),2&e&&r.oc(n=r.cc())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],decls:7,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","selectedValue","labelMinRequiredCells","activeCell","selectedValueChange","keydown"],["scope","col"]],template:function(e,t){1&e&&(r.Tb(0,"table",0),r.Tb(1,"thead",1),r.Tb(2,"tr"),r.yc(3,ov,2,2,"th",2),r.Sb(),r.Tb(4,"tr"),r.Pb(5,"th",3),r.Sb(),r.Sb(),r.Tb(6,"tbody",4),r.bc("selectedValueChange",(function(e){return t._dateSelected(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),r.Sb(),r.Sb()),2&e&&(r.Cb(3),r.kc("ngForOf",t._weekdays),r.Cb(3),r.kc("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("selectedValue",t._selectedDate)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[de,kv],encapsulation:2,changeDetection:0}),gv),Sv=((mv=function(){function e(t,n,i){if(_classCallCheck(this,e),this._changeDetectorRef=t,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=jt.a.EMPTY,this.selectedChange=new r.n,this.yearSelected=new r.n,this.activeDateChange=new r.n,!this._dateAdapter)throw vv("DateAdapter");this._activeDate=this._dateAdapter.today()}return _createClass(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Ev(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(on(null)).subscribe((function(){return e._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_init",value:function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate)-Tv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var n=0,r=[];n<24;n++)r.push(t+n),4==r.length&&(this._years.push(r.map((function(t){return e._createCellForYear(t)}))),r=[]);this._changeDetectorRef.markForCheck()}},{key:"_yearSelected",value:function(e){this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));var t=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));this.selectedChange.emit(this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Tv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Tv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_getActiveCell",value:function(){return Tv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_createCellForYear",value:function(e){var t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new wv(e,t,t,this._shouldEnableYear(e))}},{key:"_shouldEnableYear",value:function(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}}]),e}()).\u0275fac=function(e){return new(e||mv)(r.Ob(r.h),r.Ob(zl,8),r.Ob(Vn,8))},mv.\u0275cmp=r.Ib({type:mv,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){var n;1&e&&r.Dc(kv,!0),2&e&&r.oc(n=r.cc())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:6,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","selectedValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(r.Tb(0,"table",0),r.Tb(1,"thead",1),r.Tb(2,"tr"),r.Pb(3,"th",2),r.Sb(),r.Sb(),r.Tb(4,"tbody",3),r.bc("selectedValueChange",(function(e){return t._yearSelected(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),r.Sb(),r.Sb()),2&e&&(r.Cb(4),r.kc("rows",t._years)("todayValue",t._todayYear)("selectedValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[kv],encapsulation:2,changeDetection:0}),mv);function Ev(e,t,n,r,i){var o=e.getYear(t),a=e.getYear(n),s=Ov(e,r,i);return Math.floor((o-s)/24)===Math.floor((a-s)/24)}function Tv(e,t,n,r){return((e.getYear(t)-Ov(e,n,r))%24+24)%24}function Ov(e,t,n){var r=0;return n?r=e.getYear(n)-24+1:t&&(r=e.getYear(t)),r}var Iv,xv,Av,Dv,Pv,Nv,Rv,jv,Fv,Mv=((Av=function(){function e(t,n,i,o){if(_classCallCheck(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=jt.a.EMPTY,this.selectedChange=new r.n,this.monthSelected=new r.n,this.activeDateChange=new r.n,!this._dateAdapter)throw vv("DateAdapter");if(!this._dateFormats)throw vv("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return _createClass(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(on(null)).subscribe((function(){return e._init()}))}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_monthSelected",value:function(e){var t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(t);var n=this._dateAdapter.getNumDaysInMonth(t);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){var e=this;this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map((function(n){return n.map((function(n){return e._createCellForMonth(n,t[n])}))})),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_getMonthInCurrentYear",value:function(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}},{key:"_createCellForMonth",value:function(e,t){var n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new wv(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e))}},{key:"_shouldEnableMonth",value:function(e){var t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}},{key:"_isYearAndMonthAfterMaxDate",value:function(e,t){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>r}return!1}},{key:"_isYearAndMonthBeforeMinDate",value:function(e,t){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<r}return!1}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}}]),e}()).\u0275fac=function(e){return new(e||Av)(r.Ob(r.h),r.Ob(Hl,8),r.Ob(zl,8),r.Ob(Vn,8))},Av.\u0275cmp=r.Ib({type:Av,selectors:[["mat-year-view"]],viewQuery:function(e,t){var n;1&e&&r.Dc(kv,!0),2&e&&r.oc(n=r.cc())&&(t._matCalendarBody=n.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:8,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","selectedValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(r.Tb(0,"table",0),r.Tb(1,"thead",1),r.Tb(2,"tr"),r.Pb(3,"th",2),r.Sb(),r.Sb(),r.Tb(4,"tbody",3),r.bc("selectedValueChange",(function(e){return t._monthSelected(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),r.Sb(),r.Sb()),2&e&&(r.Cb(4),r.kc("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("selectedValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[kv],encapsulation:2,changeDetection:0}),Av),Lv=((xv=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._intl=t,this.calendar=n,this._dateAdapter=r,this._dateFormats=i,this.calendar.stateChanges.subscribe((function(){return o.markForCheck()}))}return _createClass(e,[{key:"periodButtonText",get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var e=this._dateAdapter.getYear(this.calendar.activeDate)-Tv(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),r=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,r)}},{key:"periodButtonLabel",get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}},{key:"prevButtonLabel",get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}},{key:"nextButtonLabel",get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}},{key:"currentPeriodClicked",value:function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}},{key:"previousClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}},{key:"nextClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}},{key:"previousEnabled",value:function(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}},{key:"nextEnabled",value:function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}},{key:"_isSameView",value:function(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Ev(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}]),e}()).\u0275fac=function(e){return new(e||xv)(r.Ob(bv),r.Ob(Object(r.U)((function(){return Vv}))),r.Ob(zl,8),r.Ob(Hl,8),r.Ob(r.h))},xv.\u0275cmp=r.Ib({type:xv,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:av,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(r.jc(),r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"button",2),r.bc("click",(function(){return t.currentPeriodClicked()})),r.zc(3),r.Pb(4,"div",3),r.Sb(),r.Pb(5,"div",4),r.ic(6),r.Tb(7,"button",5),r.bc("click",(function(){return t.previousClicked()})),r.Sb(),r.Tb(8,"button",6),r.bc("click",(function(){return t.nextClicked()})),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Cb(2),r.Db("aria-label",t.periodButtonLabel),r.Cb(1),r.Bc(" ",t.periodButtonText," "),r.Cb(1),r.Fb("mat-calendar-invert","month"!=t.calendar.currentView),r.Cb(3),r.kc("disabled",!t.previousEnabled()),r.Db("aria-label",t.prevButtonLabel),r.Cb(1),r.kc("disabled",!t.nextEnabled()),r.Db("aria-label",t.nextButtonLabel))},directives:[Eh,kl],encapsulation:2,changeDetection:0}),xv),Vv=((Iv=function(){function e(t,n,i,o){var a=this;if(_classCallCheck(this,e),this._dateAdapter=n,this._dateFormats=i,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new r.n,this.yearSelected=new r.n,this.monthSelected=new r.n,this._userSelection=new r.n,this.stateChanges=new Ot.a,!this._dateAdapter)throw vv("DateAdapter");if(!this._dateFormats)throw vv("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe((function(){o.markForCheck(),a.stateChanges.next()}))}return _createClass(e,[{key:"startAt",get:function(){return this._startAt},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"activeDate",get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}},{key:"currentView",get:function(){return this._currentView},set:function(e){this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}},{key:"ngAfterContentInit",value:function(){this._calendarHeaderPortal=new Yn(this.headerComponent||Lv),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}},{key:"ngAfterViewChecked",value:function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}},{key:"ngOnChanges",value:function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()}},{key:"focusActiveCell",value:function(){this._getCurrentViewComponent()._focusActiveCell()}},{key:"updateTodaysDate",value:function(){var e=this.currentView;("month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView)._init()}},{key:"_dateSelected",value:function(e){e&&!this._dateAdapter.sameDate(e,this.selected)&&this.selectedChange.emit(e)}},{key:"_yearSelectedInMultiYearView",value:function(e){this.yearSelected.emit(e)}},{key:"_monthSelectedInYearView",value:function(e){this.monthSelected.emit(e)}},{key:"_userSelected",value:function(){this._userSelection.emit()}},{key:"_goToDateInView",value:function(e,t){this.activeDate=e,this.currentView=t}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}},{key:"_getCurrentViewComponent",value:function(){return this.monthView||this.yearView||this.multiYearView}}]),e}()).\u0275fac=function(e){return new(e||Iv)(r.Ob(bv),r.Ob(zl,8),r.Ob(Hl,8),r.Ob(r.h))},Iv.\u0275cmp=r.Ib({type:Iv,selectors:[["mat-calendar"]],viewQuery:function(e,t){var n;1&e&&(r.Dc(Cv,!0),r.Dc(Mv,!0),r.Dc(Sv,!0)),2&e&&(r.oc(n=r.cc())&&(t.monthView=n.first),r.oc(n=r.cc())&&(t.yearView=n.first),r.oc(n=r.cc())&&(t.multiYearView=n.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[r.Ab],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(r.yc(0,sv,0,0,"ng-template",0),r.Tb(1,"div",1),r.yc(2,uv,1,6,"mat-month-view",2),r.yc(3,cv,1,5,"mat-year-view",3),r.yc(4,lv,1,5,"mat-multi-year-view",4),r.Sb()),2&e&&(r.kc("cdkPortalOutlet",t._calendarHeaderPortal),r.Cb(1),r.kc("ngSwitch",t.currentView),r.Cb(1),r.kc("ngSwitchCase","month"),r.Cb(1),r.kc("ngSwitchCase","year"),r.Cb(1),r.kc("ngSwitchCase","multi-year"))},directives:[er,Nl,we,ke,Cv,Mv,Sv],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),Iv),Uv={transformPanel:_s("transformPanel",[Cs("void",ks({opacity:0,transform:"scale(1, 0.8)"})),Es("void => enter",bs("120ms cubic-bezier(0, 0, 0.2, 1)",ks({opacity:1,transform:"scale(1, 1)"}))),Es("* => void",bs("100ms linear",ks({opacity:0})))]),fadeInCalendar:_s("fadeInCalendar",[Cs("void",ks({opacity:0})),Cs("enter",ks({opacity:1})),Es("void => *",bs("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},qv=0,Bv=new r.q("mat-datepicker-scroll-strategy"),zv={provide:Bv,deps:[Ur],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},Hv=Ul((function e(t){_classCallCheck(this,e),this._elementRef=t})),Gv=((Pv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e))._changeDetectorRef=r,i._animationState="enter",i._animationDone=new Ot.a,i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._calendar.focusActiveCell()}},{key:"ngOnDestroy",value:function(){this._animationDone.complete()}},{key:"_startExitAnimation",value:function(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}]),n}(Hv)).\u0275fac=function(e){return new(e||Pv)(r.Ob(r.l),r.Ob(r.h))},Pv.\u0275cmp=r.Ib({type:Pv,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){var n;1&e&&r.Dc(Vv,!0),2&e&&r.oc(n=r.cc())&&(t._calendar=n.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&r.Gb("@transformPanel.done",(function(){return t._animationDone.next()})),2&e&&(r.Cc("@transformPanel",t._animationState),r.Fb("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[r.zb],decls:1,vars:11,consts:[["cdkTrapFocus","",3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","selectedChange","yearSelected","monthSelected","_userSelection"]],template:function(e,t){1&e&&(r.Tb(0,"mat-calendar",0),r.bc("selectedChange",(function(e){return t.datepicker.select(e)}))("yearSelected",(function(e){return t.datepicker._selectYear(e)}))("monthSelected",(function(e){return t.datepicker._selectMonth(e)}))("_userSelection",(function(){return t.datepicker.close()})),r.Sb()),2&e&&r.kc("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._minDate)("maxDate",t.datepicker._maxDate)("dateFilter",t.datepicker._dateFilter)("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t.datepicker._selected)("dateClass",t.datepicker.dateClass)("@fadeInCalendar","enter")},directives:[Vv,yl,he],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[Uv.transformPanel,Uv.fadeInCalendar]},changeDetection:0}),Pv),Wv=((Dv=function(){function e(t,n,i,o,a,s,u,c){if(_classCallCheck(this,e),this._dialog=t,this._overlay=n,this._ngZone=i,this._viewContainerRef=o,this._dateAdapter=s,this._dir=u,this._document=c,this.startView="month",this._touchUi=!1,this.yearSelected=new r.n,this.monthSelected=new r.n,this.openedStream=new r.n,this.closedStream=new r.n,this._opened=!1,this.id="mat-datepicker-"+qv++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=jt.a.EMPTY,this._disabledChange=new Ot.a,this._selectedChanged=new Ot.a,!this._dateAdapter)throw vv("DateAdapter");this._scrollStrategy=a}return _createClass(e,[{key:"startAt",get:function(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"color",get:function(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)},set:function(e){this._color=e}},{key:"touchUi",get:function(){return this._touchUi},set:function(e){this._touchUi=Ct(e)}},{key:"disabled",get:function(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled},set:function(e){var t=Ct(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))}},{key:"opened",get:function(){return this._opened},set:function(e){e?this.open():this.close()}},{key:"_selected",get:function(){return this._validSelected},set:function(e){this._validSelected=e}},{key:"_minDate",get:function(){return this._datepickerInput&&this._datepickerInput.min}},{key:"_maxDate",get:function(){return this._datepickerInput&&this._datepickerInput.max}},{key:"_dateFilter",get:function(){return this._datepickerInput&&this._datepickerInput._dateFilter}},{key:"ngOnDestroy",value:function(){this._destroyPopup(),this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete()}},{key:"select",value:function(e){var t=this._selected;this._selected=e,this._dateAdapter.sameDate(t,this._selected)||this._selectedChanged.next(e)}},{key:"_selectYear",value:function(e){this.yearSelected.emit(e)}},{key:"_selectMonth",value:function(e){this.monthSelected.emit(e)}},{key:"_registerInput",value:function(e){var t=this;if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=e,this._inputSubscription=this._datepickerInput._valueChange.subscribe((function(e){return t._selected=e}))}},{key:"open",value:function(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}},{key:"close",value:function(){var e=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(or(1)).subscribe((function(){return e._destroyPopup()}))}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var n=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}}},{key:"_openAsDialog",value:function(){var e=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(Gv,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe((function(){return e.close()})),this._dialogRef.componentInstance.datepicker=this,this._dialogRef.componentInstance.color=this.color}},{key:"_openAsPopup",value:function(){var e=this,t=new Yn(Gv,this._viewContainerRef);this._destroyPopup(),this._createPopup();var n=this._popupComponentRef=this._popupRef.attach(t);n.instance.datepicker=this,n.instance.color=this.color,this._ngZone.onStable.asObservable().pipe(or(1)).subscribe((function(){e._popupRef.updatePosition()}))}},{key:"_createPopup",value:function(){var e=this,t=new gr({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(Rt.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Yt((function(t){return 27===t.keyCode||e._datepickerInput&&t.altKey&&38===t.keyCode})))).subscribe((function(t){t&&t.preventDefault(),e.close()}))}},{key:"_destroyPopup",value:function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}},{key:"_createPopupPositionStrategy",value:function(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}]),e}()).\u0275fac=function(e){return new(e||Dv)(r.Ob(Jp),r.Ob(Ur),r.Ob(r.z),r.Ob(r.P),r.Ob(Bv),r.Ob(zl,8),r.Ob(Vn,8),r.Ob(u,8))},Dv.\u0275cmp=r.Ib({type:Dv,selectors:[["mat-datepicker"]],inputs:{startView:"startView",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",panelClass:"panelClass",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",openedStream:"opened",closedStream:"closed"},exportAs:["matDatepicker"],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Dv),Kv={provide:Gf,useExisting:Object(r.U)((function(){return Xv})),multi:!0},Qv={provide:ud,useExisting:Object(r.U)((function(){return Xv})),multi:!0},Yv=function e(t,n){_classCallCheck(this,e),this.target=t,this.targetElement=n,this.value=this.target.value},Xv=((Fv=function(){function e(t,n,i,o){var a=this;if(_classCallCheck(this,e),this._elementRef=t,this._dateAdapter=n,this._dateFormats=i,this._formField=o,this.dateChange=new r.n,this.dateInput=new r.n,this._valueChange=new r.n,this._disabledChange=new r.n,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._datepickerSubscription=jt.a.EMPTY,this._localeSubscription=jt.a.EMPTY,this._parseValidator=function(){return a._lastValueValid?null:{matDatepickerParse:{text:a._elementRef.nativeElement.value}}},this._minValidator=function(e){var t=a._getValidDateOrNull(a._dateAdapter.deserialize(e.value));return!a.min||!t||a._dateAdapter.compareDate(a.min,t)<=0?null:{matDatepickerMin:{min:a.min,actual:t}}},this._maxValidator=function(e){var t=a._getValidDateOrNull(a._dateAdapter.deserialize(e.value));return!a.max||!t||a._dateAdapter.compareDate(a.max,t)>=0?null:{matDatepickerMax:{max:a.max,actual:t}}},this._filterValidator=function(e){var t=a._getValidDateOrNull(a._dateAdapter.deserialize(e.value));return a._dateFilter&&t&&!a._dateFilter(t)?{matDatepickerFilter:!0}:null},this._validator=hd.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw vv("DateAdapter");if(!this._dateFormats)throw vv("MAT_DATE_FORMATS");this._localeSubscription=n.localeChanges.subscribe((function(){a.value=a.value}))}return _createClass(e,[{key:"matDatepicker",set:function(e){var t=this;e&&(this._datepicker=e,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe((function(e){t.value=e,t._cvaOnChange(e),t._onTouched(),t.dateInput.emit(new Yv(t,t._elementRef.nativeElement)),t.dateChange.emit(new Yv(t,t._elementRef.nativeElement))})))}},{key:"matDatepickerFilter",set:function(e){this._dateFilter=e,this._validatorOnChange()}},{key:"value",get:function(){return this._value},set:function(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);var t=this.value;this._value=e,this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}},{key:"min",get:function(){return this._min},set:function(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}},{key:"max",get:function(){return this._max},set:function(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}},{key:"disabled",get:function(){return!!this._disabled},set:function(e){var t=Ct(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&this._isInitialized&&n.blur&&n.blur()}},{key:"ngAfterViewInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}},{key:"registerOnValidatorChange",value:function(e){this._validatorOnChange=e}},{key:"validate",value:function(e){return this._validator?this._validator(e):null}},{key:"getPopupConnectionElementRef",value:function(){return this.getConnectedOverlayOrigin()}},{key:"getConnectedOverlayOrigin",value:function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this._cvaOnChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_onKeydown",value:function(e){this._datepicker&&e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),e.preventDefault())}},{key:"_onInput",value:function(e){var t=this._lastValueValid,n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!n||this._dateAdapter.isValid(n),n=this._getValidDateOrNull(n),this._dateAdapter.sameDate(n,this._value)?t!==this._lastValueValid&&this._validatorOnChange():(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new Yv(this,this._elementRef.nativeElement)))}},{key:"_onChange",value:function(){this.dateChange.emit(new Yv(this,this._elementRef.nativeElement))}},{key:"_getThemePalette",value:function(){return this._formField?this._formField.color:void 0}},{key:"_onBlur",value:function(){this.value&&this._formatValue(this.value),this._onTouched()}},{key:"_formatValue",value:function(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}},{key:"_getValidDateOrNull",value:function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}]),e}()).\u0275fac=function(e){return new(e||Fv)(r.Ob(r.l),r.Ob(zl,8),r.Ob(Hl,8),r.Ob(Pf,8))},Fv.\u0275dir=r.Jb({type:Fv,selectors:[["input","matDatepicker",""]],hostVars:5,hostBindings:function(e,t){1&e&&r.bc("input",(function(e){return t._onInput(e.target.value)}))("change",(function(){return t._onChange()}))("blur",(function(){return t._onBlur()}))("keydown",(function(e){return t._onKeydown(e)})),2&e&&(r.Wb("disabled",t.disabled),r.Db("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null))},inputs:{value:"value",matDatepicker:"matDatepicker",matDatepickerFilter:"matDatepickerFilter",min:"min",max:"max",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},exportAs:["matDatepickerInput"],features:[r.Bb([Kv,Qv,{provide:Pp,useExisting:Fv}])]}),Fv),Zv=((jv=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||jv)},jv.\u0275dir=r.Jb({type:jv,selectors:[["","matDatepickerToggleIcon",""]]}),jv),Jv=((Rv=function(){function e(t,n,r){_classCallCheck(this,e),this._intl=t,this._changeDetectorRef=n,this._stateChanges=jt.a.EMPTY;var i=Number(r);this.tabIndex=i||0===i?i:null}return _createClass(e,[{key:"disabled",get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=Ct(e)}},{key:"ngOnChanges",value:function(e){e.datepicker&&this._watchStateChanges()}},{key:"ngOnDestroy",value:function(){this._stateChanges.unsubscribe()}},{key:"ngAfterContentInit",value:function(){this._watchStateChanges()}},{key:"_open",value:function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}},{key:"_watchStateChanges",value:function(){var e=this,t=this.datepicker?this.datepicker._disabledChange:Object(It.a)(),n=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(It.a)(),r=this.datepicker?Object(Rt.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(It.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(Rt.a)(this._intl.changes,t,n,r).subscribe((function(){return e._changeDetectorRef.markForCheck()}))}}]),e}()).\u0275fac=function(e){return new(e||Rv)(r.Ob(bv),r.Ob(r.h),r.Yb("tabindex"))},Rv.\u0275cmp=r.Ib({type:Rv,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,n){var i;1&e&&r.Hb(n,Zv,!0),2&e&&r.oc(i=r.cc())&&(t._customIcon=i.first)},viewQuery:function(e,t){var n;1&e&&r.Dc(hv,!0),2&e&&r.oc(n=r.cc())&&(t._button=n.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:7,hostBindings:function(e,t){1&e&&r.bc("focus",(function(){return t._button.focus()})),2&e&&(r.Db("tabindex",t.disabled?null:-1),r.Fb("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[r.Ab],ngContentSelectors:pv,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(r.jc(dv),r.Tb(0,"button",0,1),r.bc("click",(function(e){return t._open(e)})),r.yc(2,fv,2,0,"svg",2),r.ic(3),r.Sb()),2&e&&(r.kc("disabled",t.disabled)("disableRipple",t.disableRipple),r.Db("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),r.Cb(2),r.kc("ngIf",!t._customIcon))},directives:[Eh,ve],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Rv),$v=((Nv=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Nv}),Nv.\u0275inj=r.Lb({factory:function(e){return new(e||Nv)},providers:[bv,zv],imports:[[Pe,Th,$p,Br,jl,tr],zn]}),Nv),ey=n("z6cu"),ty=n("w1tV"),ny=function e(){_classCallCheck(this,e)},ry=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),iy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return oy(e)}},{key:"encodeValue",value:function(e){return oy(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function oy(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var ay=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new iy,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function sy(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function uy(e){return"undefined"!=typeof Blob&&e instanceof Blob}function cy(e){return"undefined"!=typeof FormData&&e instanceof FormData}var ly=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new ry),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new ay,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:sy(this.body)||uy(this.body)||cy(this.body)||"string"==typeof this.body?this.body:this.body instanceof ay?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||cy(this.body)?null:uy(this.body)?this.body.type||null:sy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ay?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),hy=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),fy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=hy.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new ry,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}());function dy(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var py,vy=((py=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof ly)n=e;else{var o=void 0;o=i.headers instanceof ry?i.headers:new ry(i.headers);var a=void 0;i.params&&(a=i.params instanceof ay?i.params:new ay({fromObject:i.params})),n=new ly(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(It.a)(n).pipe(_i((function(e){return r.handler.handle(e)})));if(e instanceof ly||"events"===i.observe)return s;var u=s.pipe(Yt((function(e){return e instanceof fy})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(Pt.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(Object(Pt.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(Object(Pt.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(Object(Pt.a)((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new ay).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,dy(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,dy(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,dy(n,t))}}]),e}()).\u0275fac=function(e){return new(e||py)(r.Xb(ny))},py.\u0275prov=r.Kb({token:py,factory:py.\u0275fac}),py),yy=["*"];function my(e){return Error('Unable to find icon with the name "'.concat(e,'"'))}function gy(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(e,'".'))}function _y(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(e,'".'))}var by,wy=function e(t,n){_classCallCheck(this,e),this.options=n,t.nodeName?this.svgElement=t:this.url=t},ky=((by=function(){function e(t,n,r,i){_classCallCheck(this,e),this._httpClient=t,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=r}return _createClass(e,[{key:"addSvgIcon",value:function(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}},{key:"addSvgIconLiteral",value:function(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}},{key:"addSvgIconInNamespace",value:function(e,t,n,r){return this._addSvgIconConfig(e,t,new wy(n,r))}},{key:"addSvgIconLiteralInNamespace",value:function(e,t,n,i){var o=this._sanitizer.sanitize(r.I.HTML,n);if(!o)throw _y(n);var a=this._createSvgElementForSingleIcon(o,i);return this._addSvgIconConfig(e,t,new wy(a,i))}},{key:"addSvgIconSet",value:function(e,t){return this.addSvgIconSetInNamespace("",e,t)}},{key:"addSvgIconSetLiteral",value:function(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}},{key:"addSvgIconSetInNamespace",value:function(e,t,n){return this._addSvgIconSetConfig(e,new wy(t,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(e,t,n){var i=this._sanitizer.sanitize(r.I.HTML,t);if(!i)throw _y(t);var o=this._svgElementFromString(i);return this._addSvgIconSetConfig(e,new wy(o,n))}},{key:"registerFontClassAlias",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._fontCssClassesByAlias.set(e,t),this}},{key:"classNameForFontAlias",value:function(e){return this._fontCssClassesByAlias.get(e)||e}},{key:"setDefaultFontSetClass",value:function(e){return this._defaultFontSetClass=e,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(e){var t=this,n=this._sanitizer.sanitize(r.I.RESOURCE_URL,e);if(!n)throw gy(e);var i=this._cachedIconsByUrl.get(n);return i?Object(It.a)(Cy(i)):this._loadSvgIconFromConfig(new wy(e)).pipe(Object(wi.a)((function(e){return t._cachedIconsByUrl.set(n,e)})),Object(Pt.a)((function(e){return Cy(e)})))}},{key:"getNamedSvgIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Sy(t,e),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):Object(ey.a)(my(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(e){return e.svgElement?Object(It.a)(Cy(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(Object(wi.a)((function(t){return e.svgElement=t})),Object(Pt.a)((function(e){return Cy(e)})))}},{key:"_getSvgFromIconSetConfigs",value:function(e,t){var n=this,i=this._extractIconWithNameFromAnySet(e,t);return i?Object(It.a)(i):Vf(t.filter((function(e){return!e.svgElement})).map((function(e){return n._loadSvgIconSetFromConfig(e).pipe(ci((function(t){var i="Loading icon set URL: ".concat(n._sanitizer.sanitize(r.I.RESOURCE_URL,e.url)," failed: ").concat(t.message);return n._errorHandler?n._errorHandler.handleError(new Error(i)):console.error(i),Object(It.a)(null)})))}))).pipe(Object(Pt.a)((function(){var r=n._extractIconWithNameFromAnySet(e,t);if(!r)throw my(e);return r})))}},{key:"_extractIconWithNameFromAnySet",value:function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.svgElement){var i=this._extractSvgIconFromSet(r.svgElement,e,r.options);if(i)return i}}return null}},{key:"_loadSvgIconFromConfig",value:function(e){var t=this;return this._fetchUrl(e.url).pipe(Object(Pt.a)((function(n){return t._createSvgElementForSingleIcon(n,e.options)})))}},{key:"_loadSvgIconSetFromConfig",value:function(e){var t=this;return e.svgElement?Object(It.a)(e.svgElement):this._fetchUrl(e.url).pipe(Object(Pt.a)((function(n){return e.svgElement||(e.svgElement=t._svgElementFromString(n)),e.svgElement})))}},{key:"_createSvgElementForSingleIcon",value:function(e,t){var n=this._svgElementFromString(e);return this._setSvgAttributes(n,t),n}},{key:"_extractSvgIconFromSet",value:function(e,t,n){var r=e.querySelector('[id="'.concat(t,'"]'));if(!r)return null;var i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(e){var t=this._document.createElement("DIV");t.innerHTML=e;var n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(e){for(var t=this._svgElementFromString("<svg></svg>"),n=e.attributes,r=0;r<n.length;r++){var i=n[r],o=i.name,a=i.value;"id"!==o&&t.setAttribute(o,a)}for(var s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[s].cloneNode(!0));return t}},{key:"_setSvgAttributes",value:function(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}},{key:"_fetchUrl",value:function(e){var t=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==e)throw Error('Cannot fetch icon from URL "'.concat(e,'".'));var n=this._sanitizer.sanitize(r.I.RESOURCE_URL,e);if(!n)throw gy(e);var i=this._inProgressUrlFetches.get(n);if(i)return i;var o=this._httpClient.get(n,{responseType:"text"}).pipe(ki((function(){return t._inProgressUrlFetches.delete(n)})),Object(ty.a)());return this._inProgressUrlFetches.set(n,o),o}},{key:"_addSvgIconConfig",value:function(e,t,n){return this._svgIconConfigs.set(Sy(e,t),n),this}},{key:"_addSvgIconSetConfig",value:function(e,t){var n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}}]),e}()).\u0275fac=function(e){return new(e||by)(r.Xb(vy,8),r.Xb(mt),r.Xb(u,8),r.Xb(r.m,8))},by.\u0275prov=Object(r.Kb)({factory:function(){return new by(Object(r.Xb)(vy,8),Object(r.Xb)(mt),Object(r.Xb)(u,8),Object(r.Xb)(r.m,8))},token:by,providedIn:"root"}),by);function Cy(e){return e.cloneNode(!0)}function Sy(e,t){return e+":"+t}var Ey,Ty,Oy=Ul((function e(t){_classCallCheck(this,e),this._elementRef=t})),Iy=new r.q("mat-icon-location",{providedIn:"root",factory:function(){var e=Object(r.V)(u),t=e?e.location:null;return{getPathname:function(){return t?t.pathname+t.search:""}}}}),xy=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ay=xy.map((function(e){return"[".concat(e,"]")})).join(", "),Dy=/^url\(['"]?#(.*?)['"]?\)$/,Py=((Ty=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e))._iconRegistry=r,s._location=o,s._errorHandler=a,s._inline=!1,s._currentIconFetch=jt.a.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true"),s}return _createClass(n,[{key:"inline",get:function(){return this._inline},set:function(e){this._inline=Ct(e)}},{key:"fontSet",get:function(){return this._fontSet},set:function(e){this._fontSet=this._cleanupFontValue(e)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(e){this._fontIcon=this._cleanupFontValue(e)}},{key:"_splitIconName",value:function(e){if(!e)return["",""];var t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error('Invalid icon name: "'.concat(e,'"'))}}},{key:"ngOnChanges",value:function(e){var t=this,n=e.svgIcon;if(n)if(this._currentIconFetch.unsubscribe(),this.svgIcon){var r=_slicedToArray(this._splitIconName(this.svgIcon),2),i=r[0],o=r[1];this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(or(1)).subscribe((function(e){return t._setSvgElement(e)}),(function(e){var n="Error retrieving icon ".concat(i,":").concat(o,"! ").concat(e.message);t._errorHandler?t._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var e=this._elementsWithExternalReferences;if(e&&this._location&&e.size){var t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(e){this._clearSvgElement();for(var t=e.querySelectorAll("style"),n=0;n<t.length;n++)t[n].textContent+=" ";if(this._location){var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r)}this._elementRef.nativeElement.appendChild(e)}},{key:"_clearSvgElement",value:function(){var e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){var n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(e){return"string"==typeof e?e.trim().split(" ")[0]:e}},{key:"_prependPathToReferences",value:function(e){var t=this._elementsWithExternalReferences;t&&t.forEach((function(t,n){t.forEach((function(t){n.setAttribute(t.name,"url('".concat(e,"#").concat(t.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(e){for(var t=e.querySelectorAll(Ay),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(e){xy.forEach((function(r){var i=t[e],o=i.getAttribute(r),a=o?o.match(Dy):null;if(a){var s=n.get(i);s||(s=[],n.set(i,s)),s.push({name:r,value:a[1]})}}))},i=0;i<t.length;i++)r(i)}}]),n}(Oy)).\u0275fac=function(e){return new(e||Ty)(r.Ob(r.l),r.Ob(ky),r.Yb("aria-hidden"),r.Ob(Iy,8),r.Ob(r.m,8))},Ty.\u0275cmp=r.Ib({type:Ty,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(e,t){2&e&&r.Fb("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[r.zb,r.Ab],ngContentSelectors:yy,decls:1,vars:0,template:function(e,t){1&e&&(r.jc(),r.ic(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Ty),Ny=((Ey=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Ey}),Ey.\u0275inj=r.Lb({factory:function(e){return new(e||Ey)},imports:[[Vl],Vl]}),Ey),Ry={tooltipState:_s("state",[Cs("initial, void, hidden",ks({opacity:0,transform:"scale(0)"})),Cs("visible",ks({transform:"scale(1)"})),Es("* => visible",bs("200ms cubic-bezier(0, 0, 0.2, 1)",Ss([ks({opacity:0,transform:"scale(0)",offset:0}),ks({opacity:.5,transform:"scale(0.99)",offset:.5}),ks({opacity:1,transform:"scale(1)",offset:1})]))),Es("* => hidden",bs("100ms cubic-bezier(0, 0, 0.2, 1)",ks({opacity:0})))])},jy=Dn({passive:!0});function Fy(e){return Error('Tooltip position "'.concat(e,'" is invalid.'))}var My,Ly,Vy,Uy=new r.q("mat-tooltip-scroll-strategy"),qy={provide:Uy,deps:[Ur],useFactory:function(e){return function(){return e.scrollStrategies.reposition({scrollThrottle:20})}}},By=new r.q("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),zy=((Vy=function(){function e(t,n,r,i,o,a,s,u,c,l,h,f){var d=this;_classCallCheck(this,e),this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=i,this._ngZone=o,this._platform=a,this._ariaDescriber=s,this._focusMonitor=u,this._dir=l,this._defaultOptions=h,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new Ot.a,this._handleKeydown=function(e){d._isTooltipVisible()&&27===e.keyCode&&!ur(e)&&(e.preventDefault(),e.stopPropagation(),d._ngZone.run((function(){return d.hide(0)})))},this._scrollStrategy=c,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),u.monitor(n).pipe(Jt(this._destroyed)).subscribe((function(e){e?"keyboard"===e&&o.run((function(){return d.show()})):o.run((function(){return d.hide(0)}))})),o.runOutsideAngular((function(){n.nativeElement.addEventListener("keydown",d._handleKeydown)}))}return _createClass(e,[{key:"position",get:function(){return this._position},set:function(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Ct(e),this._disabled&&this.hide(0)}},{key:"message",get:function(){return this._message},set:function(e){var t=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=e?(""+e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular((function(){Promise.resolve().then((function(){t._ariaDescriber.describe(t._elementRef.nativeElement,t.message)}))})))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}},{key:"ngOnInit",value:function(){this._setupPointerEvents()}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((function(t,n){e.removeEventListener(n,t,jy)})),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message),this._focusMonitor.stopMonitoring(e)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new Yn(Hy,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Jt(this._destroyed)).subscribe((function(){return e._detach()})),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(e)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var e=this;if(this._overlayRef)return this._overlayRef;var t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return n.positionChanges.pipe(Jt(this._destroyed)).subscribe((function(t){e._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&e._tooltipInstance.isVisible()&&e._ngZone.run((function(){return e.hide(0)}))})),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Jt(this._destroyed)).subscribe((function(){return e._detach()})),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var e=this._overlayRef.getConfig().positionStrategy,t=this._getOrigin(),n=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},t.main),n.main),Object.assign(Object.assign({},t.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n||"below"==n)e={originX:"center",originY:"above"==n?"top":"bottom"};else if("before"==n||"left"==n&&t||"right"==n&&!t)e={originX:"start",originY:"center"};else{if(!("after"==n||"right"==n&&t||"left"==n&&!t))throw Fy(n);e={originX:"end",originY:"center"}}var r=this._invertPosition(e.originX,e.originY);return{main:e,fallback:{originX:r.x,originY:r.y}}}},{key:"_getOverlayPosition",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n)e={overlayX:"center",overlayY:"bottom"};else if("below"==n)e={overlayX:"center",overlayY:"top"};else if("before"==n||"left"==n&&t||"right"==n&&!t)e={overlayX:"end",overlayY:"center"};else{if(!("after"==n||"right"==n&&t||"left"==n&&!t))throw Fy(n);e={overlayX:"start",overlayY:"center"}}var r=this._invertPosition(e.overlayX,e.overlayY);return{main:e,fallback:{overlayX:r.x,overlayY:r.y}}}},{key:"_updateTooltipMessage",value:function(){var e=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(or(1),Jt(this._destroyed)).subscribe((function(){e._tooltipInstance&&e._overlayRef.updatePosition()})))}},{key:"_setTooltipClass",value:function(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}},{key:"_setupPointerEvents",value:function(){var e=this;if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var t=function(){clearTimeout(e._touchstartTimeout),e.hide(e._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",(function(){clearTimeout(e._touchstartTimeout),e._touchstartTimeout=setTimeout((function(){return e.show()}),500)}))}}else this._passiveListeners.set("mouseenter",(function(){return e.show()})).set("mouseleave",(function(){return e.hide()}));this._passiveListeners.forEach((function(t,n){e._elementRef.nativeElement.addEventListener(n,t,jy)}))}},{key:"_disableNativeGesturesIfNecessary",value:function(){var e=this._elementRef.nativeElement,t=e.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(t.userSelect=t.msUserSelect=t.webkitUserSelect=t.MozUserSelect="none"),"on"!==n&&e.draggable||(t.webkitUserDrag="none"),t.touchAction="none",t.webkitTapHighlightColor="transparent")}}]),e}()).\u0275fac=function(e){return new(e||Vy)(r.Ob(Ur),r.Ob(r.l),r.Ob(qn),r.Ob(r.P),r.Ob(r.z),r.Ob(On),r.Ob(ul),r.Ob(Ol),r.Ob(Uy),r.Ob(Vn,8),r.Ob(By,8),r.Ob(r.l))},Vy.\u0275dir=r.Jb({type:Vy,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),Vy),Hy=((Ly=function(){function e(t,n){_classCallCheck(this,e),this._changeDetectorRef=t,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Ot.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}return _createClass(e,[{key:"show",value:function(e){var t=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout((function(){t._visibility="visible",t._showTimeoutId=null,t._markForCheck()}),e)}},{key:"hide",value:function(e){var t=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout((function(){t._visibility="hidden",t._hideTimeoutId=null,t._markForCheck()}),e)}},{key:"afterHidden",value:function(){return this._onHide.asObservable()}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(e){var t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||Ly)(r.Ob(r.h),r.Ob(Nh))},Ly.\u0275cmp=r.Ib({type:Ly,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&r.bc("click",(function(){return t._handleBodyInteraction()}),!1,r.qc),2&e&&r.xc("zoom","visible"===t._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){if(1&e&&(r.Tb(0,"div",0),r.bc("@state.start",(function(){return t._animationStart()}))("@state.done",(function(e){return t._animationDone(e)})),r.fc(1,"async"),r.zc(2),r.Sb()),2&e){var n,i=null==(n=r.gc(1,5,t._isHandset))?null:n.matches;r.Fb("mat-tooltip-handset",i),r.kc("ngClass",t.tooltipClass)("@state",t._visibility),r.Cb(2),r.Ac(t.message)}},directives:[he],pipes:[Ae],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Ry.tooltipState]},changeDetection:0}),Ly),Gy=((My=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:My}),My.\u0275inj=r.Lb({factory:function(e){return new(e||My)},providers:[qy],imports:[[jl,Pe,Br,Vl],Vl,zn]}),My),Wy=function(){function e(t){_classCallCheck(this,e),this.restrictAutoClose=!1,this.message=null==t?void 0:t.message,this.type=null==t?void 0:t.type,this.restrictAutoClose=null==t?void 0:t.restrictAutoClose,this.duration=null==t?void 0:t.duration,this.toolTip=null==t?void 0:t.toolTip,this.hideTooltip=null==t?void 0:t.hideTooltip,this.componentType=null==t?void 0:t.componentType}return _createClass(e,[{key:"animations",get:function(){return new Ky(this.restrictAutoClose?{fadeIn:0,fadeOut:0}:{fadeIn:1e3,fadeOut:1e3})}},{key:"iconClass",get:function(){return"success"===this.type?"fa-check-circle":"warning"===this.type?"fa-exclamation-triangle":"error"===this.type?"fa-times-circle":"fa-info-circle"}},{key:"color",get:function(){return"success"===this.type?"rgb(0, 135, 90)":"warning"===this.type?"rgb(255, 153, 31)":"error"===this.type?"rgb(222, 53, 11)":"rgb(0, 82, 204)"}},{key:"labelText",get:function(){var e;return(null===(e=this.label)||void 0===e?void 0:e.length)?this.label:"success"===this.type?"Success":"error"===this.type?"Error":"warning"===this.type?"Warning":"Info"}}]),e}(),Ky=function e(t){_classCallCheck(this,e),this.fadeIn=null==t?void 0:t.fadeIn,this.fadeOut=null==t?void 0:t.fadeOut},Qy=function(){function e(t,n){_classCallCheck(this,e),this.overlay=t,this.type=n,this.componentType=n}return _createClass(e,[{key:"close",value:function(){this.overlay.dispose()}},{key:"isVisible",value:function(){return this.overlay&&this.overlay.overlayElement}},{key:"getPosition",value:function(){return this.overlay.overlayElement.getBoundingClientRect()}},{key:"updatePosition",value:function(e){this.overlay.updatePositionStrategy(e)}}]),e}(),Yy={fadeToast:_s("fadeAnimation",[Cs("default",ks({opacity:1})),Es("void => *",bs("{{fadeIn}}ms",Ss([ks({opacity:0,bottom:"-15px"}),ks({opacity:.8,bottom:"-3px"}),ks({opacity:1,bottom:"0"})]))),Es("default => closing",bs("{{fadeOut}}ms",Ss([ks({opacity:.6,bottom:0}),ks({opacity:.1,bottom:"-3px"}),ks({opacity:0,bottom:"-15px"})])))])},Xy=function(e,t){return{value:e,params:t}};function Zy(e,t){if(1&e){var n=r.Ub();r.Tb(0,"div",1),r.bc("@fadeAnimation.done",(function(e){return r.rc(n),r.ec().onFadeFinished(e)})),r.Tb(1,"div",2),r.Pb(2,"i",3),r.Sb(),r.Tb(3,"div",4),r.Tb(4,"p"),r.zc(5),r.Sb(),r.Pb(6,"div",5),r.Sb(),r.Tb(7,"div",6),r.Tb(8,"i",7),r.bc("click",(function(){return r.rc(n),r.ec().close()})),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=r.ec();r.kc("@fadeAnimation",r.nc(10,Xy,i.animationState,i.toastData.animations)),r.Cb(1),r.xc("background-color",i.toastData.color),r.Cb(1),r.Eb(i.toastData.iconClass),r.Cb(2),r.xc("color",i.toastData.color),r.Cb(1),r.Ac(i.toastData.labelText),r.Cb(1),r.kc("title",i.toastData.hideTooltip?"":i.toastData.toolTip||i.toastData.message)("innerHTML",i.toastData.message,r.sc)}}var Jy,$y,em=(($y=function(){function e(t,n){_classCallCheck(this,e),this.data=t,this.ref=n,this.toastData=new Wy(t),this.animationState=this.toastData.restrictAutoClose?"none":"default"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.intervalId=setTimeout((function(){return e.animationState="closing"}),this.toastData.duration||5e3)}},{key:"ngOnDestroy",value:function(){clearTimeout(this.intervalId)}},{key:"close",value:function(){this.ref.close()}},{key:"onFadeFinished",value:function(e){"closing"===this.animationState&&"closing"===(null==e?void 0:e.toState)&&!this.toastData.restrictAutoClose&&this.close()}}]),e}()).\u0275fac=function(e){return new(e||$y)(r.Ob(Wy),r.Ob(Qy))},$y.\u0275cmp=r.Ib({type:$y,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","toast-container",4,"ngIf"],[1,"toast-container"],[1,"toast-icon"],["aria-hidden","true",1,"fa","icon"],[1,"toast-body-container"],[3,"title","innerHTML"],[1,"toast-action-container"],[1,"fal","fa-times","close-icon",3,"click"]],template:function(e,t){1&e&&r.yc(0,Zy,9,13,"div",0),2&e&&r.kc("ngIf",t.toastData&&t.animationState)},directives:[ve],styles:[".toast-container[_ngcontent-%COMP%]{display:flex;background-color:#fff;min-height:70px;width:350px;box-shadow:5px 10px 18px #989696;margin-bottom:10px;letter-spacing:normal}.toast-container[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{width:50px;display:flex;align-items:center;justify-content:center}.toast-container[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.toast-container[_ngcontent-%COMP%]   .toast-body-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:300px;flex-direction:column;padding:10px}.toast-container[_ngcontent-%COMP%]   .toast-body-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:16px;margin:0 0 8px}.toast-container[_ngcontent-%COMP%]   .toast-body-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:default;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.toast-container[_ngcontent-%COMP%]   .toast-action-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;font-size:20px}.toast-container[_ngcontent-%COMP%]   .toast-action-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[Yy.fadeToast]}}),$y),tm=((Jy=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:Jy}),Jy.\u0275inj=r.Lb({factory:function(e){return new(e||Jy)},imports:[[Pe,Br,zc],Br,Lh,Bh,Rf,Mp,$v,ch,Ny,Gy,us]}),Jy),nm=n("Jgta"),rm=n("jmUF"),im=n("zIRd"),om=n("q/0M"),am=n("qOnz"),sm=function(e,t){return(sm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function um(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var cm,lm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},hm=hm||{},fm=lm||self;function dm(){}function pm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ym="closure_uid_"+(1e9*Math.random()>>>0),mm=0;function gm(e,t,n){return e.call.apply(e.bind,arguments)}function _m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bm(e,t,n){return(bm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gm:_m).apply(null,arguments)}function wm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function km(){return Date.now()}function Cm(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Sm(){this.j=this.j,this.i=this.i}Sm.prototype.j=!1,Sm.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,ym)&&e[ym]||(e[ym]=++mm)}(this)},Sm.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Em=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Tm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Om(e){return Array.prototype.concat.apply([],arguments)}function Im(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xm(e){return/^[\s\xa0]*$/.test(e)}var Am,Dm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pm(e,t){return-1!=e.indexOf(t)}function Nm(e,t){return e<t?-1:e>t?1:0}e:{var Rm=fm.navigator;if(Rm){var jm=Rm.userAgent;if(jm){Am=jm;break e}}Am=""}function Fm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Mm(e){var t={};for(var n in e)t[n]=e[n];return t}var Lm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Lm.length;o++)n=Lm[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Um(e){return Um[" "](e),e}Um[" "]=dm;var qm,Bm,zm=Pm(Am,"Opera"),Hm=Pm(Am,"Trident")||Pm(Am,"MSIE"),Gm=Pm(Am,"Edge"),Wm=Gm||Hm,Km=Pm(Am,"Gecko")&&!(Pm(Am.toLowerCase(),"webkit")&&!Pm(Am,"Edge"))&&!(Pm(Am,"Trident")||Pm(Am,"MSIE"))&&!Pm(Am,"Edge"),Qm=Pm(Am.toLowerCase(),"webkit")&&!Pm(Am,"Edge");function Ym(){var e=fm.document;return e?e.documentMode:void 0}e:{var Xm="",Zm=(Bm=Am,Km?/rv:([^\);]+)(\)|;)/.exec(Bm):Gm?/Edge\/([\d\.]+)/.exec(Bm):Hm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bm):Qm?/WebKit\/(\S+)/.exec(Bm):zm?/(?:Version)[ \/]?(\S+)/.exec(Bm):void 0);if(Zm&&(Xm=Zm?Zm[1]:""),Hm){var Jm=Ym();if(null!=Jm&&Jm>parseFloat(Xm)){qm=String(Jm);break e}}qm=Xm}var $m={};function eg(e){return function(e,t){var n=$m;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Dm(String(qm)).split("."),r=Dm(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Nm(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Nm(0==a[2].length,0==s[2].length)||Nm(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var tg=fm.document&&Hm&&(Ym()||parseInt(qm,10))||void 0,ng=!Hm||9<=Number(tg),rg=Hm&&!eg("9"),ig=function(){if(!fm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fm.addEventListener("test",dm,t),fm.removeEventListener("test",dm,t)}catch(n){}return e}();function og(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ag(e,t){if(og.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Km){e:{try{Um(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:sg[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}og.prototype.b=function(){this.defaultPrevented=!0},Cm(ag,og);var sg={2:"touch",3:"pen",4:"mouse"};ag.prototype.b=function(){ag.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,rg)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ug="closure_listenable_"+(1e6*Math.random()|0),cg=0;function lg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++cg,this.Y=this.Z=!1}function hg(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function fg(e){this.src=e,this.a={},this.b=0}function dg(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Em(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(hg(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pg(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}fg.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pg(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new lg(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var vg="closure_lm_"+(1e6*Math.random()|0),yg={};function mg(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Eg(r),t&&t[ug]?t.wa(n,r,vm(i)?!!i.capture:!!i,o):gg(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)mg(e,t[o],n,r,i);return null}return n=Eg(n),e&&e[ug]?e.va(t,n,vm(r)?!!r.capture:!!r,i):gg(e,t,n,!1,r,i)}function gg(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=vm(i)?!!i.capture:!!i;if(a&&!ng)return null;var s=Cg(e);if(s||(e[vg]=s=new fg(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=kg,t=ng?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ig||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _g(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[ug])dg(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cg(t))?(dg(n,e),0==n.b&&(n.src=null,t[vg]=null)):hg(e)}}}function bg(e){return e in yg?yg[e]:yg[e]="on"+e}function wg(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&_g(e),n.call(r,t)}function kg(e,t){if(e.Y)return!0;if(!ng){if(!t)e:{t=["window","event"];for(var n=fm,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return wg(e,t=new ag(t,this))}return wg(e,new ag(t,this))}function Cg(e){return(e=e[vg])instanceof fg?e:null}var Sg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eg(e){return"function"==typeof e?e:(e[Sg]||(e[Sg]=function(t){return e.handleEvent(t)}),e[Sg])}function Tg(){Sm.call(this),this.c=new fg(this),this.J=this,this.C=null}function Og(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new og(t,e);else if(t instanceof og)t.target=t.target||e;else{var i=t;Vm(t=new og(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Ig(a,r,!0,t)&&i}if(i=Ig(a=t.a=e,r,!0,t)&&i,i=Ig(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ig(a=t.a=n[o],r,!1,t)&&i}function Ig(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&dg(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Cm(Tg,Sm),Tg.prototype[ug]=!0,(cm=Tg.prototype).addEventListener=function(e,t,n,r){mg(this,e,t,n,r)},cm.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=vm(i)?!!i.capture:!!i,r=Eg(r),t&&t[ug]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=pg(a=t.a[n],r,i,o))&&(hg(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=Cg(t))&&(n=t.a[n.toString()],t=-1,n&&(t=pg(n,r,i,o)),(r=-1<t?n[t]:null)&&_g(r))}(this,e,t,n,r)},cm.G=function(){if(Tg.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)hg(n[r]);delete t.a[e],t.b--}}this.C=null},cm.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},cm.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var xg=fm.JSON.stringify;function Ag(){this.b=this.a=null}var Dg,Pg=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Rg}),(function(e){e.reset()}));function Ng(){var e=Lg,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Rg(){this.next=this.b=this.a=null}function jg(e){fm.setTimeout((function(){throw e}),0)}function Fg(e,t){Dg||function(){var e=fm.Promise.resolve(void 0);Dg=function(){e.then(Vg)}}(),Mg||(Dg(),Mg=!0),Lg.add(e,t)}Ag.prototype.add=function(e,t){var n=Pg.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Rg.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Rg.prototype.reset=function(){this.next=this.b=this.a=null};var Mg=!1,Lg=new Ag;function Vg(){for(var e;e=Ng();){try{e.a.call(e.b)}catch(n){jg(n)}var t=Pg;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Mg=!1}function Ug(e,t){Tg.call(this),this.b=e||1,this.a=t||fm,this.f=bm(this.Za,this),this.g=km()}function qg(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Bg(e,t,n){if("function"==typeof e)n&&(e=bm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bm(e.handleEvent,e)}return 2147483647<Number(t)?-1:fm.setTimeout(e,t||0)}function zg(e){e.a=Bg((function(){e.a=null,e.c&&(e.c=!1,zg(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Cm(Ug,Tg),(cm=Ug.prototype).aa=!1,cm.M=null,cm.Za=function(){if(this.aa){var e=km()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Og(this,"tick"),this.aa&&(qg(this),this.start()))}},cm.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=km())},cm.G=function(){Ug.X.G.call(this),qg(this),delete this.a};var Hg=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}sm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:zg(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(fm.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Sm);function Gg(e){Sm.call(this),this.b=e,this.a={}}Cm(Gg,Sm);var Wg=[];function Kg(e,t,n,r){Array.isArray(n)||(n&&(Wg[0]=n.toString()),n=Wg);for(var i=0;i<n.length;i++){var o=mg(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Qg(e){Fm(e.a,(function(e,t){this.a.hasOwnProperty(t)&&_g(e)}),e),e.a={}}function Yg(){this.a=!0}function Xg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return xg(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Gg.prototype.G=function(){Gg.X.G.call(this),Qg(this)},Gg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yg.prototype.info=function(){};var Zg={},Jg=null;function $g(){return Jg=Jg||new Tg}function e_(e){og.call(this,Zg.Fa,e)}function t_(e){var t=$g();Og(t,new e_(t,e))}function n_(e,t){og.call(this,Zg.STAT_EVENT,e),this.stat=t}function r_(e){var t=$g();Og(t,new n_(t,e))}function i_(e){og.call(this,Zg.Ga,e)}function o_(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return fm.setTimeout((function(){e()}),t)}Zg.Fa="serverreachability",Cm(e_,og),Zg.STAT_EVENT="statevent",Cm(n_,og),Zg.Ga="timingevent",Cm(i_,og);var a_={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},s_={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function u_(){}function c_(){}u_.prototype.a=null;var l_,h_={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function f_(){og.call(this,"d")}function d_(){og.call(this,"c")}function p_(){}function v_(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Gg(this),this.P=y_,this.R=new Ug(e=Wm?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Cm(f_,og),Cm(d_,og),Cm(p_,u_),l_=new p_;var y_=45e3,m_={},g_={};function __(e,t,n){e.H=1,e.i=q_(j_(t)),e.j=n,e.I=!0,b_(e,null)}function b_(e,t){e.u=km(),C_(e),e.l=j_(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),eb(n.b,"t",r),e.D=0,e.a=Qb(e.g,e.g.C?t:null),0<e.O&&(e.F=new Hg(bm(e.Ca,e,e.a),e.O)),Kg(e.J,e.a,"readystatechange",e.Xa),t=e.B?Mm(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),t_(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function w_(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=k_(e,n);if(i==g_){4==t&&(e.h=4,r_(14),r=!1),Xg(e.c,e.f,null,"[Incomplete Response]");break}if(i==m_){e.h=4,r_(15),Xg(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Xg(e.c,e.f,i,null),I_(e,i)}4==t&&0==n.length&&(e.h=1,r_(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ub(t),t.F=!0,r_(11))):(Xg(e.c,e.f,n,"[Invalid Chunked Response]"),O_(e),T_(e))}function k_(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?g_:(n=Number(t.substring(n,r)),isNaN(n)?m_:(r+=1)+n>t.length?g_:(t=t.substr(r,n),e.D=r+n,t))}function C_(e){e.T=km()+e.P,S_(e,e.P)}function S_(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=o_(bm(e.Va,e),t)}function E_(e){e.o&&(fm.clearTimeout(e.o),e.o=null)}function T_(e){0==e.g.v||e.A||zb(e.g,e)}function O_(e){E_(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,qg(e.R),Qg(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function I_(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||sb(n.b,e)))if(n.I=e.N,!e.C&&sb(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(PA){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Bb(n),Db(n)}Vb(n),r_(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=o_(bm(n.Sa,n),6e3));if(1>=ab(n.b)&&n.ea){try{n.ea()}catch(PA){}n.ea=void 0}}else Gb(n,11)}else if((e.C||n.a==e)&&Bb(n),!xm(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(n.P=(i=t[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Pm(l,"spdy")||Pm(l,"quic")||Pm(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ub(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,U_(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=km()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Kb(u,u.C?u.ga:null,u.fa),d.C){cb(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(E_(p),C_(p)),u.a=d}else Lb(u);0<n.g.length&&Rb(n)}else"stop"!=i[0]&&"close"!=i[0]||Gb(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gb(n,7):Ab(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);t_(4)}catch(PA){}}function x_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(pm(e)||"string"==typeof e)Tm(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(pm(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(pm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function A_(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof A_)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function D_(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];P_(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)P_(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function P_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cm=v_.prototype).setTimeout=function(e){this.P=e},cm.Xa=function(e){e=e.target;var t=this.F;t&&3==Tb(e)?t.f():this.Ca(e)},cm.Ca=function(e){try{if(e==this.a)e:{var t=Tb(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Wm&&!this.a.$())){this.A||4!=t||7==n||t_(8==n||0>=r?3:2),E_(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xm(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,r_(12),O_(this),T_(this);break e}Xg(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,I_(this,u)}this.I?(w_(this,t,o),Wm&&this.b&&3==t&&(Kg(this.J,this.R,"tick",this.Wa),this.R.start())):(Xg(this.c,this.f,o,null),I_(this,o)),4==t&&O_(this),this.b&&!this.A&&(4==t?zb(this.g,this):(this.b=!1,C_(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,r_(12)):(this.h=0,r_(13)),O_(this),T_(this)}}}catch(c){}},cm.Wa=function(){if(this.a){var e=Tb(this.a),t=this.a.$();this.D<t.length&&(E_(this),w_(this,e,t),this.b&&4!=e&&C_(this))}},cm.cancel=function(){this.A=!0,O_(this)},cm.Va=function(){this.o=null;var e=km();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(t_(3),r_(17)),O_(this),this.h=2,T_(this)):S_(this,this.T-e)},(cm=A_.prototype).K=function(){D_(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},cm.L=function(){return D_(this),this.a.concat()},cm.get=function(e,t){return P_(this.b,e)?this.b[e]:t},cm.set=function(e,t){P_(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},cm.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var N_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function R_(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof R_){this.a=void 0!==t?t:e.a,F_(this,e.f),this.j=e.j,M_(this,e.c),L_(this,e.h),this.g=e.g,t=e.b;var n=new X_;n.c=t.c,t.a&&(n.a=new A_(t.a),n.b=t.b),V_(this,n),this.i=e.i}else e&&(n=String(e).match(N_))?(this.a=!!t,F_(this,n[1]||"",!0),this.j=B_(n[2]||""),M_(this,n[3]||"",!0),L_(this,n[4]),this.g=B_(n[5]||"",!0),V_(this,n[6]||"",!0),this.i=B_(n[7]||"")):(this.a=!!t,this.b=new X_(null,this.a))}function j_(e){return new R_(e)}function F_(e,t,n){e.f=n?B_(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function M_(e,t,n){e.c=n?B_(t,!0):t}function L_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function V_(e,t,n){t instanceof X_?(e.b=t,function(e,t){t&&!e.f&&(Z_(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(J_(this,t),eb(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=z_(t,Q_)),e.b=new X_(t,e.a))}function U_(e,t,n){e.b.set(t,n)}function q_(e){return U_(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^km()).toString(36)),e}function B_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function z_(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,H_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function H_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}R_.prototype.toString=function(){var e=[],t=this.f;t&&e.push(z_(t,G_,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(z_(t,G_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(z_(n,"/"==n.charAt(0)?K_:W_,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",z_(n,Y_)),e.join("")};var G_=/[#\/\?@]/g,W_=/[#\?:]/g,K_=/[#\?]/g,Q_=/[#\?@]/g,Y_=/#/g;function X_(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Z_(e){e.a||(e.a=new A_,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function J_(e,t){Z_(e),t=tb(e,t),P_(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,P_((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&D_(e)))}function $_(e,t){return Z_(e),t=tb(e,t),P_(e.a.b,t)}function eb(e,t,n){J_(e,t),0<n.length&&(e.c=null,e.a.set(tb(e,t),Im(n)),e.b+=n.length)}function tb(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(cm=X_.prototype).add=function(e,t){Z_(this),this.c=null,e=tb(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},cm.forEach=function(e,t){Z_(this),this.a.forEach((function(n,r){Tm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cm.L=function(){Z_(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},cm.K=function(e){Z_(this);var t=[];if("string"==typeof e)$_(this,e)&&(t=Om(t,this.a.get(tb(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=Om(t,e[n])}return t},cm.set=function(e,t){return Z_(this),this.c=null,$_(this,e=tb(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},cm.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},cm.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var nb=function(e,t){this.b=e,this.a=t};function rb(e){this.g=e||ib,e=fm.PerformanceNavigationTiming?0<(e=fm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(fm.ia&&fm.ia.ya&&fm.ia.ya()&&fm.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ib=10;function ob(e){return!!e.b||!!e.a&&e.a.size>=e.f}function ab(e){return e.b?1:e.a?e.a.size:0}function sb(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function ub(e,t){e.a?e.a.add(t):e.b=t}function cb(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function lb(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=um(e.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Im(e.c)}function hb(){}function fb(){this.a=new hb}function db(e,t,n){var r=n||"";try{x_(e,(function(e,n){var i=e;vm(e)&&(i=xg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(_D){throw t.push(r+"type="+encodeURIComponent("_badmap")),_D}}function pb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}rb.prototype.cancel=function(){var e,t;if(this.c=lb(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=um(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},hb.prototype.stringify=function(e){return fm.JSON.stringify(e,void 0)},hb.prototype.parse=function(e){return fm.JSON.parse(e,void 0)};var vb=fm.JSON.parse;function yb(e){Tg.call(this),this.headers=new A_,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mb,this.D=this.F=!1}Cm(yb,Tg);var mb="",gb=/^https?$/i,_b=["POST","PUT"];function bb(e){return"content-type"==e.toLowerCase()}function wb(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,kb(e),Sb(e)}function kb(e){e.u||(e.u=!0,Og(e,"complete"),Og(e,"error"))}function Cb(e){if(e.b&&void 0!==hm&&(!e.s[1]||4!=Tb(e)||2!=e.W()))if(e.l&&4==Tb(e))Bg(e.za,0,e);else if(Og(e,"readystatechange"),4==Tb(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(N_)[1]||null;if(!o&&fm.self&&fm.self.location){var a=fm.self.location.protocol;o=a.substr(0,a.length-1)}i=!gb.test(o?o.toLowerCase():"")}t=i}if(t)Og(e,"complete"),Og(e,"success");else{e.h=6;try{var s=2<Tb(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",kb(e)}}finally{Sb(e)}}}function Sb(e,t){if(e.a){Eb(e);var n=e.a,r=e.s[0]?dm:null;e.a=null,e.s=null,t||Og(e,"ready");try{n.onreadystatechange=r}catch(_D){}}}function Eb(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(fm.clearTimeout(e.m),e.m=null)}function Tb(e){return e.a?e.a.readyState:0}function Ob(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Fm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):U_(e,t,n))}function Ib(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xb(e){this.pa=0,this.g=[],this.c=new Yg,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ib("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ib("baseRetryDelayMs",5e3,e),this.Ra=Ib("retryDelaySeedMs",1e4,e),this.Ma=Ib("forwardChannelMaxRetries",2,e),this.ma=Ib("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new rb(e&&e.concurrentRequestLimit),this.ka=new fb,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ab(e){if(Pb(e),3==e.v){var t=e.R++,n=j_(e.B);U_(n,"SID",e.J),U_(n,"RID",t),U_(n,"TYPE","terminate"),Fb(e,n),(t=new v_(e,e.c,t,void 0)).H=2,t.i=q_(j_(n)),n=!1,fm.navigator&&fm.navigator.sendBeacon&&(n=fm.navigator.sendBeacon(t.i.toString(),"")),!n&&fm.Image&&((new Image).src=t.i,n=!0),n||(t.a=Qb(t.g,null),t.a.ba(t.i)),t.u=km(),C_(t)}Wb(e)}function Db(e){e.a&&(Ub(e),e.a.cancel(),e.a=null)}function Pb(e){Db(e),e.j&&(fm.clearTimeout(e.j),e.j=null),Bb(e),e.b.cancel(),e.h&&("number"==typeof e.h&&fm.clearTimeout(e.h),e.h=null)}function Nb(e,t){e.g.push(new nb(e.Oa++,t)),3==e.v&&Rb(e)}function Rb(e){ob(e.b)||e.h||(e.h=!0,Fg(e.Ba,e),e.u=0)}function jb(e,t){var n;n=t?t.f:e.R++;var r=j_(e.B);U_(r,"SID",e.J),U_(r,"RID",n),U_(r,"AID",e.P),Fb(e,r),e.i&&e.l&&Ob(r,e.i,e.l),n=new v_(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Mb(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),ub(e.b,n),__(n,r,t)}function Fb(e,t){e.f&&x_({},(function(e,n){U_(t,n,e)}))}function Mb(e,t,n){n=Math.min(e.g.length,n);var r=e.f?bm(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{db(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Lb(e){e.a||e.j||(e.T=1,Fg(e.Aa,e),e.o=0)}function Vb(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=o_(bm(e.Aa,e),Hb(e,e.o)),e.o++,0))}function Ub(e){null!=e.s&&(fm.clearTimeout(e.s),e.s=null)}function qb(e){e.a=new v_(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=j_(e.la);U_(t,"RID","rpc"),U_(t,"SID",e.J),U_(t,"CI",e.H?"0":"1"),U_(t,"AID",e.P),Fb(e,t),U_(t,"TYPE","xmlhttp"),e.i&&e.l&&Ob(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=q_(j_(t)),n.j=null,n.I=!0,b_(n,e)}function Bb(e){null!=e.m&&(fm.clearTimeout(e.m),e.m=null)}function zb(e,t){var n=null;if(e.a==t){Bb(e),Ub(e),e.a=null;var r=2}else{if(!sb(e.b,t))return;n=t.s,cb(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=km()-t.u;var i=e.u;Og(r=$g(),new i_(r,n,t,i)),Rb(e)}else Lb(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ab(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=o_(bm(e.Ba,e,t),Hb(e,e.u)),e.u++,0)))}(e,t)||2==r&&Vb(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Gb(e,5);break;case 4:Gb(e,10);break;case 3:Gb(e,6);break;default:Gb(e,2)}}function Hb(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Gb(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=bm(e.Ya,e);n||(n=new R_("//www.google.com/images/cleardot.gif"),fm.location&&"http"==fm.location.protocol||F_(n,"https"),q_(n)),function(e,t){var n=new Yg;if(fm.Image){var r=new Image;r.onload=wm(pb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wm(pb,n,r,"TestLoadImage: error",!1,t),r.onabort=wm(pb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wm(pb,n,r,"TestLoadImage: timeout",!1,t),fm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else r_(2);e.v=0,e.f&&e.f.ra(t),Wb(e),Pb(e)}function Wb(e){e.v=0,e.I=-1,e.f&&(0==lb(e.b).length&&0==e.g.length||(e.b.c.length=0,Im(e.g),e.g.length=0),e.f.qa())}function Kb(e,t,n){var r=function(e){return e instanceof R_?j_(e):new R_(e,void 0)}(n);if(""!=r.c)t&&M_(r,t+"."+r.c),L_(r,r.h);else{var i=fm.location;r=function(e,t,n,r){var i=new R_(null,void 0);return e&&F_(i,e),t&&M_(i,t),n&&L_(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Fm(e.V,(function(e,t){U_(r,t,e)})),n=e.na,(t=e.A)&&n&&U_(r,t,n),U_(r,"VER",e.ha),Fb(e,r),r}function Qb(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yb(e.Na)).F=e.C,t}function Yb(){}function Xb(){if(Hm&&!(10<=Number(tg)))throw Error("Environmental error: no available transport.")}function Zb(e,t){Tg.call(this),this.a=new xb(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!xm(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xm(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new ew(this)}function Jb(e){f_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function $b(){d_.call(this),this.status=1}function ew(e){this.a=e}(cm=yb.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:l_),this.a.onreadystatechange=bm(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void wb(this,o)}e=n||"";var i=new A_(this.headers);r&&x_(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=bb,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=fm.FormData&&e instanceof fm.FormData,!(0<=Em(_b,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Eb(this),0<this.o&&((this.D=function(e){return Hm&&eg(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=bm(this.xa,this)):this.m=Bg(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){wb(this,o)}},cm.xa=function(){void 0!==hm&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Og(this,"timeout"),this.abort(8))},cm.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Og(this,"complete"),Og(this,"abort"),Sb(this))},cm.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sb(this,!0)),yb.X.G.call(this)},cm.za=function(){this.j||(this.A||this.l||this.g?Cb(this):this.Ua())},cm.Ua=function(){Cb(this)},cm.W=function(){try{return 2<Tb(this)?this.a.status:-1}catch(Bm){return-1}},cm.$=function(){try{return this.a?this.a.responseText:""}catch(Bm){return""}},cm.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vb(t)}},cm.ua=function(){return this.h},cm.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(cm=xb.prototype).ha=8,cm.v=1,cm.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new v_(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Vm(r=Mm(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Mb(this,n,t),U_(i=j_(this.B),"RID",e),U_(i,"CVER",22),this.A&&U_(i,"X-HTTP-Session-Id",this.A),Fb(this,i),this.i&&r&&Ob(i,this.i,r),ub(this.b,n),this.Ia&&U_(i,"TYPE","init"),this.da?(U_(i,"$req",t),U_(i,"SID","null"),n.U=!0,__(n,i,null)):__(n,i,t),this.v=2}}else 3==this.v&&(e?jb(this,e):0==this.g.length||ob(this.b)||jb(this))},cm.Aa=function(){if(this.j=null,qb(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=o_(bm(this.Ta,this),e)}},cm.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,r_(10),Db(this),qb(this))},cm.Sa=function(){null!=this.m&&(this.m=null,Db(this),Vb(this),r_(19))},cm.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),r_(2)):(this.c.info("Failed to ping google.com"),r_(1))},(cm=Yb.prototype).ta=function(){},cm.sa=function(){},cm.ra=function(){},cm.qa=function(){},cm.Ja=function(){},Xb.prototype.a=function(e,t){return new Zb(e,t)},Cm(Zb,Tg),Zb.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;r_(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Kb(e,null,e.fa),Rb(e)},Zb.prototype.close=function(){Ab(this.a)},Zb.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,Nb(this.a,t)}else this.l?((t={}).__data__=xg(e),Nb(this.a,t)):Nb(this.a,e)},Zb.prototype.G=function(){this.a.f=null,delete this.f,Ab(this.a),delete this.a,Zb.X.G.call(this)},Cm(Jb,f_),Cm($b,d_),Cm(ew,Yb),ew.prototype.ta=function(){Og(this.a,"a")},ew.prototype.sa=function(e){Og(this.a,new Jb(e))},ew.prototype.ra=function(e){Og(this.a,new $b(e))},ew.prototype.qa=function(){Og(this.a,"b")},Xb.prototype.createWebChannel=Xb.prototype.a,Zb.prototype.send=Zb.prototype.h,Zb.prototype.open=Zb.prototype.g,Zb.prototype.close=Zb.prototype.close,a_.NO_ERROR=0,a_.TIMEOUT=8,a_.HTTP_ERROR=6,s_.COMPLETE="complete",c_.EventType=h_,h_.OPEN="a",h_.CLOSE="b",h_.ERROR="c",h_.MESSAGE="d",Tg.prototype.listen=Tg.prototype.va,yb.prototype.listenOnce=yb.prototype.wa,yb.prototype.getLastError=yb.prototype.Qa,yb.prototype.getLastErrorCode=yb.prototype.ua,yb.prototype.getStatus=yb.prototype.W,yb.prototype.getResponseJson=yb.prototype.Pa,yb.prototype.getResponseText=yb.prototype.$,yb.prototype.send=yb.prototype.ba;var tw=a_,nw=s_,rw=Zg,iw=c_,ow=yb,aw=function(e,t){return(aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function sw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}aw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function uw(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(_D){o(_D)}}function s(e){try{u(r.throw(e))}catch(_D){o(_D)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function cw(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(_D){o=[6,_D],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function lw(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var hw=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();hw.o=-1;var fw=new om.b("@firebase/firestore");function dw(){return fw.logLevel}function pw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fw.logLevel<=om.a.DEBUG){var r=t.map(mw);fw.debug.apply(fw,lw(["Firestore (8.3.1): "+e],r))}}function vw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fw.logLevel<=om.a.ERROR){var r=t.map(mw);fw.error.apply(fw,lw(["Firestore (8.3.1): "+e],r))}}function yw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fw.logLevel<=om.a.WARN){var r=t.map(mw);fw.warn.apply(fw,lw(["Firestore (8.3.1): "+e],r))}}function mw(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(_D){return e}}function gw(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+e;throw vw(t),new Error(t)}function _w(e,t){e||gw()}function bw(e,t){return e}function ww(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var kw=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ww(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Cw(e,t){return e<t?-1:e>t?1:0}function Sw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ew(e){return e+"\0"}function Tw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ow(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Iw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xw(e){return null==e}function Aw(e){return 0===e&&1/e==-1/0}function Dw(e){return"number"==typeof e&&Number.isInteger(e)&&!Aw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Pw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nw=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return sw(t,e),t}(Error),Rw=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&gw(),void 0===n?n=e.length-t:n>e.length-t&&gw(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),jw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Rw),Fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Fw.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Nw(Pw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Nw(Pw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Nw(Pw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Rw),Lw=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(jw.fromString(t))},e.fromName=function(t){return new e(jw.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===jw.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return jw.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new jw(t.slice()))},e}(),Vw=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Cw(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Vw.EMPTY_BYTE_STRING=new Vw("");var Uw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qw(e){if(_w(!!e),"string"==typeof e){var t=0,n=Uw.exec(e);if(_w(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bw(e.seconds),nanos:Bw(e.nanos)}}function Bw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zw(e){return"string"==typeof e?Vw.fromBase64String(e):Vw.fromUint8Array(e)}var Hw=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nw(Pw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nw(Pw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nw(Pw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nw(Pw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Cw(this.nanoseconds,e.nanoseconds):Cw(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}();function Gw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ww(e){var t=qw(e.mapValue.fields.__local_write_time__.timestampValue);return new Hw(t.seconds,t.nanos)}function Kw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gw(e)?4:10:gw()}function Qw(e,t){var n=Kw(e);if(n!==Kw(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ww(e).isEqual(Ww(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qw(e.timestampValue),r=qw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zw(e.bytesValue).isEqual(zw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Bw(e.geoPointValue.latitude)===Bw(t.geoPointValue.latitude)&&Bw(e.geoPointValue.longitude)===Bw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Bw(e.integerValue)===Bw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Bw(e.doubleValue),r=Bw(t.doubleValue);return n===r?Aw(n)===Aw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Sw(e.arrayValue.values||[],t.arrayValue.values||[],Qw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tw(n)!==Tw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qw(n[i],r[i])))return!1;return!0}(e,t);default:return gw()}}function Yw(e,t){return void 0!==(e.values||[]).find((function(e){return Qw(e,t)}))}function Xw(e,t){var n=Kw(e),r=Kw(t);if(n!==r)return Cw(n,r);switch(n){case 0:return 0;case 1:return Cw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Bw(e.integerValue||e.doubleValue),r=Bw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zw(e.timestampValue,t.timestampValue);case 4:return Zw(Ww(e),Ww(t));case 5:return Cw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=zw(e),r=zw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cw(n[i],r[i]);if(0!==o)return o}return Cw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cw(Bw(e.latitude),Bw(t.latitude));return 0!==n?n:Cw(Bw(e.longitude),Bw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Xw(n[i],r[i]);if(o)return o}return Cw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Cw(r[a],o[a]);if(0!==s)return s;var u=Xw(n[r[a]],i[o[a]]);if(0!==u)return u}return Cw(r.length,o.length)}(e.mapValue,t.mapValue);default:throw gw()}}function Zw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cw(e,t);var n=qw(e),r=qw(t),i=Cw(n.seconds,r.seconds);return 0!==i?i:Cw(n.nanos,r.nanos)}function Jw(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=qw(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?zw(t.bytesValue).toBase64():"referenceValue"in t?Lw.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):gw();var n}(e)}function $w(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ek(e){return!!e&&"integerValue"in e}function tk(e){return!!e&&"arrayValue"in e}function nk(e){return!!e&&"nullValue"in e}function rk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ik(e){return!!e&&"mapValue"in e}var ok=function(e,t){this.key=e,this.version=t},ak=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return sw(t,e),t.prototype.field=function(e){return this.objectValue.field(e)},t.prototype.data=function(){return this.objectValue},t.prototype.toProto=function(){return this.objectValue.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.objectValue.isEqual(e.objectValue)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(ok),sk=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return sw(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ok),uk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ok),ck=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function lk(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ck(e,t,n,r,i,o,a)}function hk(e){var t=bw(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Jw(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),xw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Sk(t.startAt)),t.endAt&&(n+="|ub:",n+=Sk(t.endAt)),t.h=n}return t.h}function fk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!Qw(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ik(e.startAt,t.startAt)&&Ik(e.endAt,t.endAt)}function dk(e){return Lw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pk=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return sw(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new vk(e,n,r):"array-contains"===n?new _k(e,r):"in"===n?new bk(e,r):"not-in"===n?new wk(e,r):"array-contains-any"===n?new kk(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new yk(e,n):new mk(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.m(Xw(t,this.value)):null!==t&&Kw(this.value)===Kw(t)&&this.m(Xw(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gw()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),vk=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Lw.fromName(r.referenceValue),i}return sw(t,e),t.prototype.matches=function(e){var t=Lw.comparator(e.key,this.key);return this.m(t)},t}(pk),yk=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=gk(0,n),r}return sw(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pk),mk=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=gk(0,n),r}return sw(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pk);function gk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Lw.fromName(e.referenceValue)}))}var _k=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return sw(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return tk(t)&&Yw(t.arrayValue,this.value)},t}(pk),bk=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return sw(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Yw(this.value.arrayValue,t)},t}(pk),wk=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return sw(t,e),t.prototype.matches=function(e){if(Yw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!Yw(this.value.arrayValue,t)},t}(pk),kk=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return sw(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!tk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yw(t.value.arrayValue,e)}))},t}(pk),Ck=function(e,t){this.position=e,this.before=t};function Sk(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Jw(e)})).join(",")}var Ek=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Tk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ok(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Lw.comparator(Lw.fromName(a.referenceValue),n.key):Xw(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ik(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qw(e.position[n],t.position[n]))return!1;return!0}var xk=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Ak(e,t,n,r,i,o,a,s){return new xk(e,t,n,r,i,o,a,s)}function Dk(e){return new xk(e)}function Pk(e){return!xw(e.limit)&&"F"===e.limitType}function Nk(e){return!xw(e.limit)&&"L"===e.limitType}function Rk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jk(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Fk(e){return null!==e.collectionGroup}function Mk(e){var t=bw(e);if(null===t.p){t.p=[];var n=jk(t),r=Rk(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ek(n)),t.p.push(new Ek(Mw.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ek(Mw.keyField(),u))}}}return t.p}function Lk(e){var t=bw(e);if(!t.T)if("F"===t.limitType)t.T=lk(t.path,t.collectionGroup,Mk(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Mk(t);r<i.length;r++){var o=i[r];n.push(new Ek(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new Ck(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Ck(t.startAt.position,!t.startAt.before):null;t.T=lk(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.T}function Vk(e,t,n){return new xk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uk(e,t){return fk(Lk(e),Lk(t))&&e.limitType===t.limitType}function qk(e){return hk(Lk(e))+"|lt:"+e.limitType}function Bk(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Jw(t.value);var t})).join(", ")+"]"),xw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Sk(e.startAt)),e.endAt&&(t+=", endAt: "+Sk(e.endAt)),"Target("+t+")"}(Lk(e))+"; limitType="+e.limitType+")"}function zk(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ok(e.startAt,Mk(e),t)||e.endAt&&Ok(e.endAt,Mk(e),t))}(e,t)}function Hk(e){return function(t,n){for(var r=!1,i=0,o=Mk(e);i<o.length;i++){var a=o[i],s=Gk(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Gk(e,t,n){var r=e.field.isKeyField()?Lw.comparator(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?Xw(r,i):gw()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gw()}}var Wk=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Hw(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),Kk=function(){function e(e){this.fields=e,e.sort(Mw.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Sw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Qk=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!ik(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.isEqual=function(e){return Qw(this.proto,e.proto)},e}(),Yk=function(){function e(e){void 0===e&&(e=Qk.empty()),this.I=e,this.A=new Map}return e.prototype.set=function(e,t){return this.R(e,t),this},e.prototype.delete=function(e){return this.R(e,null),this},e.prototype.R=function(e,t){for(var n=this.A,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Kw(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.v=function(){var e=this.P(Mw.emptyPath(),this.A);return null!=e?new Qk(e):this.I},e.prototype.P=function(e,t){var n=this,r=!1,i=this.I.field(e),o=ik(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.P(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function Xk(e){var t=[];return Ow(e.fields||{},(function(e,n){var r=new Mw([e]);if(ik(n)){var i=Xk(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new Kk(t)}function Zk(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aw(t)?"-0":t}}function Jk(e){return{integerValue:""+e}}function $k(e,t){return Dw(t)?Jk(t):Zk(e,t)}var eC=function(){this._=void 0};function tC(e,t,n){return e instanceof iC?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oC?aC(e,t):e instanceof sC?uC(e,t):function(e,t){var n=rC(e,t),r=lC(n)+lC(e.S);return ek(n)&&ek(e.S)?Jk(r):Zk(e.D,r)}(e,t)}function nC(e,t,n){return e instanceof oC?aC(e,t):e instanceof sC?uC(e,t):n}function rC(e,t){return e instanceof cC?ek(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var iC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t}(eC),oC=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return sw(t,e),t}(eC);function aC(e,t){for(var n=hC(t),r=function(e){n.some((function(t){return Qw(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sC=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return sw(t,e),t}(eC);function uC(e,t){for(var n=hC(t),r=function(e){n=n.filter((function(t){return!Qw(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var cC=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).D=t,r.S=n,r}return sw(t,e),t}(eC);function lC(e){return Bw(e.integerValue||e.doubleValue)}function hC(e){return tk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fC=function(e,t){this.field=e,this.transform=t},dC=function(e,t){this.version=e,this.transformResults=t},pC=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function vC(e,t){return void 0!==e.updateTime?t instanceof ak&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof ak}var yC=function(){};function mC(e,t,n){return e instanceof kC?function(e,t,n){var r=e.value,i=EC(e.fieldTransforms,t,n.transformResults);return r=OC(e.fieldTransforms,r,i),new ak(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof CC?function(e,t,n){if(!vC(e.precondition,t))return new uk(e.key,n.version);var r=SC(e,t,EC(e.fieldTransforms,t,n.transformResults));return new ak(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new sk(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function gC(e,t,n){return e instanceof kC?function(e,t,n){if(!vC(e.precondition,t))return t;var r=e.value,i=TC(e.fieldTransforms,n,t);r=OC(e.fieldTransforms,r,i);var o=wC(t);return new ak(e.key,o,r,{hasLocalMutations:!0})}(e,t,n):e instanceof CC?function(e,t,n){if(!vC(e.precondition,t))return t;var r=wC(t),i=SC(e,t,TC(e.fieldTransforms,n,t));return new ak(e.key,r,i,{hasLocalMutations:!0})}(e,t,n):function(e,t){return vC(e.precondition,t)?new sk(e.key,Wk.min()):t}(e,t)}function _C(e,t){return function(e,t){for(var n=null,r=0,i=e;r<i.length;r++){var o=i[r],a=t instanceof ak?t.field(o.field):void 0,s=rC(o.transform,a||null);null!=s&&(n=null==n?(new Yk).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(e.fieldTransforms,t)}function bC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Sw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oC&&t instanceof oC||e instanceof sC&&t instanceof sC?Sw(e.elements,t.elements,Qw):e instanceof cC&&t instanceof cC?Qw(e.S,t.S):e instanceof iC&&t instanceof iC}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function wC(e){return e instanceof ak?e.version:Wk.min()}var kC=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return sw(t,e),t}(yC),CC=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return sw(t,e),t}(yC);function SC(e,t,n){var r;return r=function(e,t){var n=new Yk(t);return e.fieldMask.fields.forEach((function(t){if(!t.isEmpty()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.v()}(e,r=t instanceof ak?t.data():Qk.empty()),OC(e.fieldTransforms,r,n)}function EC(e,t,n){var r=[];_w(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof ak&&(s=t.field(o.field)),r.push(nC(a,s,n[i]))}return r}function TC(e,t,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof ak&&(u=n.field(a.field)),r.push(tC(s,u,t))}return r}function OC(e,t,n){for(var r=new Yk(t),i=0;i<e.length;i++)r.set(e[i].field,n[i]);return r.v()}var IC,xC,AC=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return sw(t,e),t}(yC),DC=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return sw(t,e),t}(yC),PC=function(e){this.count=e};function NC(e){switch(e){case Pw.OK:return gw();case Pw.CANCELLED:case Pw.UNKNOWN:case Pw.DEADLINE_EXCEEDED:case Pw.RESOURCE_EXHAUSTED:case Pw.INTERNAL:case Pw.UNAVAILABLE:case Pw.UNAUTHENTICATED:return!1;case Pw.INVALID_ARGUMENT:case Pw.NOT_FOUND:case Pw.ALREADY_EXISTS:case Pw.PERMISSION_DENIED:case Pw.FAILED_PRECONDITION:case Pw.ABORTED:case Pw.OUT_OF_RANGE:case Pw.UNIMPLEMENTED:case Pw.DATA_LOSS:return!0;default:return gw()}}function RC(e){if(void 0===e)return vw("GRPC error has no .code"),Pw.UNKNOWN;switch(e){case IC.OK:return Pw.OK;case IC.CANCELLED:return Pw.CANCELLED;case IC.UNKNOWN:return Pw.UNKNOWN;case IC.DEADLINE_EXCEEDED:return Pw.DEADLINE_EXCEEDED;case IC.RESOURCE_EXHAUSTED:return Pw.RESOURCE_EXHAUSTED;case IC.INTERNAL:return Pw.INTERNAL;case IC.UNAVAILABLE:return Pw.UNAVAILABLE;case IC.UNAUTHENTICATED:return Pw.UNAUTHENTICATED;case IC.INVALID_ARGUMENT:return Pw.INVALID_ARGUMENT;case IC.NOT_FOUND:return Pw.NOT_FOUND;case IC.ALREADY_EXISTS:return Pw.ALREADY_EXISTS;case IC.PERMISSION_DENIED:return Pw.PERMISSION_DENIED;case IC.FAILED_PRECONDITION:return Pw.FAILED_PRECONDITION;case IC.ABORTED:return Pw.ABORTED;case IC.OUT_OF_RANGE:return Pw.OUT_OF_RANGE;case IC.UNIMPLEMENTED:return Pw.UNIMPLEMENTED;case IC.DATA_LOSS:return Pw.DATA_LOSS;default:return gw()}}(xC=IC||(IC={}))[xC.OK=0]="OK",xC[xC.CANCELLED=1]="CANCELLED",xC[xC.UNKNOWN=2]="UNKNOWN",xC[xC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xC[xC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xC[xC.NOT_FOUND=5]="NOT_FOUND",xC[xC.ALREADY_EXISTS=6]="ALREADY_EXISTS",xC[xC.PERMISSION_DENIED=7]="PERMISSION_DENIED",xC[xC.UNAUTHENTICATED=16]="UNAUTHENTICATED",xC[xC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xC[xC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xC[xC.ABORTED=10]="ABORTED",xC[xC.OUT_OF_RANGE=11]="OUT_OF_RANGE",xC[xC.UNIMPLEMENTED=12]="UNIMPLEMENTED",xC[xC.INTERNAL=13]="INTERNAL",xC[xC.UNAVAILABLE=14]="UNAVAILABLE",xC[xC.DATA_LOSS=15]="DATA_LOSS";var jC=function(){function e(e,t){this.comparator=e,this.root=t||MC.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,MC.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,MC.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new FC(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new FC(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new FC(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new FC(this.root,e,this.comparator,!0)},e}(),FC=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),MC=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw gw();if(this.right.isRed())throw gw();var e=this.left.check();if(e!==this.right.check())throw gw();return e+(this.isRed()?0:1)},e}();MC.EMPTY=null,MC.RED=!0,MC.BLACK=!1,MC.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw gw()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw gw()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw gw()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw gw()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw gw()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new MC(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var LC=function(){function e(e){this.comparator=e,this.data=new jC(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new VC(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new VC(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),VC=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),UC=new jC(Lw.comparator);function qC(){return UC}function BC(){return qC()}var zC=new jC(Lw.comparator);function HC(){return zC}var GC=new jC(Lw.comparator);function WC(){return GC}var KC=new LC(Lw.comparator);function QC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=KC,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var YC=new LC(Cw);function XC(){return YC}var ZC=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,JC.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Wk.min(),r,XC(),qC(),QC())},e}(),JC=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Vw.EMPTY_BYTE_STRING,n,QC(),QC(),QC())},e}(),$C=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},eS=function(e,t){this.targetId=e,this.$=t},tS=function(e,t,n,r){void 0===n&&(n=Vw.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},nS=function(){function e(){this.F=0,this.O=oS(),this.k=Vw.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),e.prototype.U=function(e){e.approximateByteSize()>0&&(this.L=!0,this.k=e)},e.prototype.K=function(){var e=QC(),t=QC(),n=QC();return this.O.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gw()}})),new JC(this.k,this.M,e,t,n)},e.prototype.W=function(){this.L=!1,this.O=oS()},e.prototype.j=function(e,t){this.L=!0,this.O=this.O.insert(e,t)},e.prototype.G=function(e){this.L=!0,this.O=this.O.remove(e)},e.prototype.H=function(){this.F+=1},e.prototype.J=function(){this.F-=1},e.prototype.Y=function(){this.L=!0,this.M=!0},e}(),rS=function(){function e(e){this.X=e,this.Z=new Map,this.tt=qC(),this.et=iS(),this.nt=new LC(Cw)}return e.prototype.st=function(e){for(var t=0,n=e.C;t<n.length;t++){var r=n[t];e.N instanceof ak?this.it(r,e.N):e.N instanceof sk&&this.rt(r,e.key,e.N)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.rt(r=o[i],e.key,e.N)},e.prototype.ot=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ct(n);switch(e.state){case 0:t.at(n)&&r.U(e.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(e.resumeToken);break;case 2:r.J(),r.B||t.removeTarget(n);break;case 3:t.at(n)&&(r.Y(),r.U(e.resumeToken));break;case 4:t.at(n)&&(t.ut(n),r.U(e.resumeToken));break;default:gw()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Z.forEach((function(e,r){n.at(r)&&t(r)}))},e.prototype.ht=function(e){var t=e.targetId,n=e.$.count,r=this.lt(t);if(r){var i=r.target;if(dk(i))if(0===n){var o=new Lw(i.path);this.rt(t,o,new sk(o,Wk.min()))}else _w(1===n);else this.ft(t)!==n&&(this.ut(t),this.nt=this.nt.add(t))}},e.prototype.dt=function(e){var t=this,n=new Map;this.Z.forEach((function(r,i){var o=t.lt(i);if(o){if(r.current&&dk(o.target)){var a=new Lw(o.target.path);null!==t.tt.get(a)||t.wt(i,a)||t.rt(i,a,new sk(a,e))}r.q&&(n.set(i,r.K()),r.W())}}));var r=QC();this.et.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.lt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ZC(e,n,this.nt,this.tt,r);return this.tt=qC(),this.et=iS(),this.nt=new LC(Cw),i},e.prototype.it=function(e,t){if(this.at(e)){var n=this.wt(e,t.key)?2:0;this.ct(e).j(t.key,n),this.tt=this.tt.insert(t.key,t),this.et=this.et.insert(t.key,this._t(t.key).add(e))}},e.prototype.rt=function(e,t,n){if(this.at(e)){var r=this.ct(e);this.wt(e,t)?r.j(t,1):r.G(t),this.et=this.et.insert(t,this._t(t).delete(e)),n&&(this.tt=this.tt.insert(t,n))}},e.prototype.removeTarget=function(e){this.Z.delete(e)},e.prototype.ft=function(e){var t=this.ct(e).K();return this.X.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.H=function(e){this.ct(e).H()},e.prototype.ct=function(e){var t=this.Z.get(e);return t||(t=new nS,this.Z.set(e,t)),t},e.prototype._t=function(e){var t=this.et.get(e);return t||(t=new LC(Cw),this.et=this.et.insert(e,t)),t},e.prototype.at=function(e){var t=null!==this.lt(e);return t||pw("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.lt=function(e){var t=this.Z.get(e);return t&&t.B?null:this.X.yt(e)},e.prototype.ut=function(e){var t=this;this.Z.set(e,new nS),this.X.getRemoteKeysForTarget(e).forEach((function(n){t.rt(e,n,null)}))},e.prototype.wt=function(e,t){return this.X.getRemoteKeysForTarget(e).has(t)},e}();function iS(){return new jC(Lw.comparator)}function oS(){return new jC(Lw.comparator)}var aS={asc:"ASCENDING",desc:"DESCENDING"},sS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uS=function(e,t){this.databaseId=e,this.V=t};function cS(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function lS(e,t){return e.V?t.toBase64():t.toUint8Array()}function hS(e,t){return cS(e,t.toTimestamp())}function fS(e){return _w(!!e),Wk.fromTimestamp(function(e){var t=qw(e);return new Hw(t.seconds,t.nanos)}(e))}function dS(e,t){return function(e){return new jw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function pS(e){var t=jw.fromString(e);return _w(MS(t)),t}function vS(e,t){return dS(e.databaseId,t.path)}function yS(e,t){var n=pS(t);if(n.get(1)!==e.databaseId.projectId)throw new Nw(Pw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nw(Pw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lw(bS(n))}function mS(e,t){return dS(e.databaseId,t)}function gS(e){var t=pS(e);return 4===t.length?jw.emptyPath():bS(t)}function _S(e){return new jw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bS(e){return _w(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wS(e,t,n){return{name:vS(e,t),fields:n.proto.mapValue.fields}}function kS(e,t,n){var r=yS(e,t.name),i=fS(t.updateTime),o=new Qk({mapValue:{fields:t.fields}});return new ak(r,i,o,{hasCommittedMutations:!!n})}function CS(e,t){var n;if(t instanceof kC)n={update:wS(e,t.key,t.value)};else if(t instanceof AC)n={delete:vS(e,t.key)};else if(t instanceof CC)n={update:wS(e,t.key,t.data),updateMask:FS(t.fieldMask)};else{if(!(t instanceof DC))return gw();n={verify:vS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof iC)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cC)return{fieldPath:t.field.canonicalString(),increment:n.S};throw gw()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gw()}(e,t.precondition)),n}function SS(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?pC.updateTime(fS(e.updateTime)):void 0!==e.exists?pC.exists(e.exists):pC.none()}(t.currentDocument):pC.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(_w("REQUEST_TIME"===t.setToServerValue),n=new iC):"appendMissingElements"in t?n=new oC(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new sC(t.removeAllFromArray.values||[]):"increment"in t?n=new cC(e,t.increment):gw();var r=Mw.fromServerFormat(t.fieldPath);return new fC(r,n)}(e,t)})):[];if(t.update){var i=yS(e,t.update.name),o=new Qk({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){return new Kk((e.fieldPaths||[]).map((function(e){return Mw.fromServerFormat(e)})))}(t.updateMask);return new CC(i,o,a,n,r)}return new kC(i,o,n,r)}if(t.delete){var s=yS(e,t.delete);return new AC(s,n)}if(t.verify){var u=yS(e,t.verify);return new DC(u,n)}return gw()}function ES(e,t){return{documents:[mS(e,t.path)]}}function TS(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=mS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(rk(e.value))return{unaryFilter:{field:PS(e.field),op:"IS_NAN"}};if(nk(e.value))return{unaryFilter:{field:PS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rk(e.value))return{unaryFilter:{field:PS(e.field),op:"IS_NOT_NAN"}};if(nk(e.value))return{unaryFilter:{field:PS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:PS(e.field),op:DS(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:PS(e.field),direction:AS(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.V||xw(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=IS(t.startAt)),t.endAt&&(n.structuredQuery.endAt=IS(t.endAt)),n}function OS(e){var t=gS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_w(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[jS(t)]:void 0!==t.fieldFilter?[RS(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):gw():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ek(NS(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return xw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=xS(n.startAt));var l=null;return n.endAt&&(l=xS(n.endAt)),Ak(t,i,s,a,u,"F",c,l)}function IS(e){return{before:e.before,values:e.position}}function xS(e){return new Ck(e.values||[],!!e.before)}function AS(e){return aS[e]}function DS(e){return sS[e]}function PS(e){return{fieldPath:e.canonicalString()}}function NS(e){return Mw.fromServerFormat(e.fieldPath)}function RS(e){return pk.create(NS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return gw()}}(e.fieldFilter.op),e.fieldFilter.value)}function jS(e){switch(e.unaryFilter.op){case"IS_NAN":var t=NS(e.unaryFilter.field);return pk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=NS(e.unaryFilter.field);return pk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=NS(e.unaryFilter.field);return pk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=NS(e.unaryFilter.field);return pk.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return gw()}}function FS(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function MS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function LS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=US(t)),t=VS(e.get(n),t);return US(t)}function VS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function US(e){return e+"\x01\x01"}function qS(e){var t=e.length;if(_w(t>=2),2===t)return _w("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jw.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&gw(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:gw()}o=a+2}return new jw(r)}var BS=function(e,t){this.seconds=e,this.nanoseconds=t},zS=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};zS.store="owner",zS.key="owner";var HS=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};HS.store="mutationQueues",HS.keyPath="userId";var GS=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};GS.store="mutations",GS.keyPath="batchId",GS.userMutationsIndex="userMutationsIndex",GS.userMutationsKeyPath=["userId","batchId"];var WS=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,LS(t)]},e.key=function(e,t,n){return[e,LS(t),n]},e}();WS.store="documentMutations",WS.PLACEHOLDER=new WS;var KS=function(e,t){this.path=e,this.readTime=t},QS=function(e,t){this.path=e,this.version=t},YS=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};YS.store="remoteDocuments",YS.readTimeIndex="readTimeIndex",YS.readTimeIndexPath="readTime",YS.collectionReadTimeIndex="collectionReadTimeIndex",YS.collectionReadTimeIndexPath=["parentPath","readTime"];var XS=function(e){this.byteSize=e};XS.store="remoteDocumentGlobal",XS.key="remoteDocumentGlobalKey";var ZS=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ZS.store="targets",ZS.keyPath="targetId",ZS.queryTargetsIndexName="queryTargetsIndex",ZS.queryTargetsKeyPath=["canonicalId","targetId"];var JS=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};JS.store="targetDocuments",JS.keyPath=["targetId","path"],JS.documentTargetsIndex="documentTargetsIndex",JS.documentTargetsKeyPath=["path","targetId"];var $S=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$S.key="targetGlobalKey",$S.store="targetGlobal";var eE=function(e,t){this.collectionId=e,this.parent=t};eE.store="collectionParents",eE.keyPath=["collectionId","parent"];var tE=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};tE.store="clientMetadata",tE.keyPath="clientId";var nE=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};nE.store="bundles",nE.keyPath="bundleId";var rE=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};rE.store="namedQueries",rE.keyPath="name";var iE=lw(lw([],lw(lw([],lw(lw([],lw(lw([],[HS.store,GS.store,WS.store,YS.store,ZS.store,zS.store,$S.store,JS.store]),[tE.store])),[XS.store])),[eE.store])),[nE.store,rE.store]),oE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aE=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),sE=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},uE=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&gw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),cE=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.gt=new sE,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){t.error?n.gt.reject(new fE(e,t.error)):n.gt.resolve()},this.transaction.onerror=function(t){var r=mE(t.target.error);n.gt.reject(new fE(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new fE(n,t)}},Object.defineProperty(e.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.gt.reject(e),this.aborted||(pw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new pE(t)},e}(),lE=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,12.2===e.It(Object(am.m)())&&vw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return pw("SimpleDb","Removing database:",e),vE(window.indexedDB.deleteDatabase(e)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=Object(am.m)(),n=e.It(t),r=0<n&&n<10,i=e.bt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Rt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.vt)},e.Pt=function(e,t){return e.store(t)},e.It=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(e){return uw(this,void 0,void 0,(function(){var t,n=this;return cw(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(pw("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new fE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new Nw(Pw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new fE(e,n))},i.onupgradeneeded=function(e){pw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.Tt.St(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){pw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(e){return n.Dt(e)}),this.db)]}}))}))},e.prototype.Ct=function(e){this.Dt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return uw(this,void 0,void 0,(function(){var i,o,a,s,u;return cw(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return cw(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Vt(e)];case 2:return s.db=h.sent(),t=cE.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),uE.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.Et];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return pw("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),hE=function(){function e(e){this.xt=e,this.Nt=!1,this.$t=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.xt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Nt=!0},e.prototype.Ot=function(e){this.$t=e},e.prototype.delete=function(){return vE(this.xt.delete())},e}(),fE=function(e){function t(t,n){var r=this;return(r=e.call(this,Pw.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return sw(t,e),t}(Nw);function dE(e){return"IndexedDbTransactionError"===e.name}var pE=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(pw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vE(n)},e.prototype.add=function(e){return pw("SimpleDb","ADD",this.store.name,e,e),vE(this.store.add(e))},e.prototype.get=function(e){var t=this;return vE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pw("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return pw("SimpleDb","DELETE",this.store.name,e),vE(this.store.delete(e))},e.prototype.count=function(){return pw("SimpleDb","COUNT",this.store.name),vE(this.store.count())},e.prototype.kt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lt=function(e,t){pw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(e,t,n){return n.delete()}))},e.prototype.qt=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mt(r,t)},e.prototype.Ut=function(e){var t=this.cursor({});return new uE((function(n,r){t.onerror=function(e){var t=mE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mt=function(e,t){var n=[];return new uE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new hE(i),a=t(i.primaryKey,i.value,o);if(a instanceof uE){var s=a.catch((function(e){return o.done(),uE.reject(e)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return uE.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Bt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function vE(e){return new uE((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=mE(e.target.error);n(t)}}))}var yE=!1;function mE(e){var t=lE.It(Object(am.m)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Nw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yE||(yE=!0,setTimeout((function(){throw r}),0)),r}}return e}var gE=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qt=t,r.currentSequenceNumber=n,r}return sw(t,e),t}(aE);function _E(e,t){var n=bw(e);return lE.Pt(n.Qt,t)}var bE=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=mC(o,t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=gC(a,t,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e)&&(t=gC(a,t,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),QC())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Sw(this.mutations,e.mutations,(function(e,t){return bC(e,t)}))&&Sw(this.baseMutations,e.baseMutations,(function(e,t){return bC(e,t)}))},e}(),wE=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){_w(t.mutations.length===r.length);for(var i=WC(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),kE=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Wk.min()),void 0===o&&(o=Wk.min()),void 0===a&&(a=Vw.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),CE=function(e){this.Kt=e};function SE(e,t){if(t.document)return kS(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Lw.fromSegments(t.noDocument.path),r=xE(t.noDocument.readTime);return new sk(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=Lw.fromSegments(t.unknownDocument.path);return r=xE(t.unknownDocument.version),new uk(i,r)}return gw()}function EE(e,t,n){var r=TE(n),i=t.key.path.popLast().toArray();if(t instanceof ak){var o=function(e,t){return{name:vS(e,t.key),fields:t.toProto().mapValue.fields,updateTime:cS(e,t.version.toTimestamp())}}(e.Kt,t),a=t.hasCommittedMutations;return new YS(null,null,o,a,r,i)}if(t instanceof sk){var s=t.key.path.toArray(),u=IE(t.version);return a=t.hasCommittedMutations,new YS(null,new KS(s,u),null,a,r,i)}if(t instanceof uk){var c=t.key.path.toArray(),l=IE(t.version);return new YS(new QS(c,l),null,null,!0,r,i)}return gw()}function TE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function OE(e){var t=new Hw(e[0],e[1]);return Wk.fromTimestamp(t)}function IE(e){var t=e.toTimestamp();return new BS(t.seconds,t.nanoseconds)}function xE(e){var t=new Hw(e.seconds,e.nanoseconds);return Wk.fromTimestamp(t)}function AE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return SS(e.Kt,t)})),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map((function(t){return SS(e.Kt,t)})),o=Hw.fromMillis(t.localWriteTimeMs);return new bE(t.batchId,o,n,i)}function DE(e){var t,n,r=xE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?xE(e.lastLimboFreeSnapshotVersion):Wk.min();return void 0!==e.query.documents?(_w(1===(n=e.query).documents.length),t=Lk(Dk(gS(n.documents[0])))):t=function(e){return Lk(OS(e))}(e.query),new kE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Vw.fromBase64String(e.resumeToken))}function PE(e,t){var n,r=IE(t.snapshotVersion),i=IE(t.lastLimboFreeSnapshotVersion);n=dk(t.target)?ES(e.Kt,t.target):TS(e.Kt,t.target);var o=t.resumeToken.toBase64();return new ZS(t.targetId,hk(t.target),r,o,t.sequenceNumber,i,n)}function NE(e){var t=OS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vk(t,t.limit,"L"):t}var RE=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return jE(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:xE(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return jE(e).put({bundleId:(n=t).id,createTime:IE(fS(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return FE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:NE(t.bundledQuery),readTime:xE(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return FE(e).put(function(e){return{name:e.name,readTime:IE(fS(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function jE(e){return _E(e,nE.store)}function FE(e){return _E(e,rE.store)}var ME=function(){function e(){this.Wt=new LE}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Wt.add(t),uE.resolve()},e.prototype.getCollectionParents=function(e,t){return uE.resolve(this.Wt.getEntries(t))},e}(),LE=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new LC(jw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new LC(jw.comparator)).toArray()},e}(),VE=function(){function e(){this.jt=new LE}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.jt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.jt.add(t)}));var o={collectionId:r,parent:LS(i)};return UE(e).put(o)}return uE.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ew(t),""],!1,!0);return UE(e).kt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(qS(o.parent))}return n}))},e}();function UE(e){return _E(e,eE.store)}var qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function zE(e,t,n){var r=e.store(GS.store),i=e.store(WS.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){_w(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=WS.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return uE.waitFor(o).next((function(){return c}))}function HE(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gw();t=e.noDocument}return JSON.stringify(t).length}BE.DEFAULT_COLLECTION_PERCENTILE=10,BE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,BE.DEFAULT=new BE(41943040,BE.DEFAULT_COLLECTION_PERCENTILE,BE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),BE.DISABLED=new BE(-1,0,0);var GE=function(){function e(e,t,n,r){this.userId=e,this.D=t,this.Gt=n,this.referenceDelegate=r,this.zt={}}return e.Ht=function(t,n,r,i){return _w(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return KE(e).qt({index:GS.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=QE(e),a=KE(e);return a.add({}).next((function(s){_w("number"==typeof s);for(var u=new bE(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return CS(e.Kt,t)})),i=n.mutations.map((function(t){return CS(e.Kt,t)}));return new GS(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new LC((function(e,t){return Cw(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=WS.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,WS.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Gt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.zt[s]=u.keys()})),uE.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return KE(e).get(t).next((function(e){return e?(_w(e.userId===n.userId),AE(n.D,e)):null}))},e.prototype.Jt=function(e,t){var n=this;return this.zt[t]?uE.resolve(this.zt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.zt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return KE(e).qt({index:GS.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_w(t.batchId>=r),o=AE(n.D,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return KE(e).qt({index:GS.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return KE(e).kt(GS.userMutationsIndex,n).next((function(e){return e.map((function(e){return AE(t.D,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=WS.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return QE(e).qt({range:i},(function(r,i,a){var s=r[0],u=r[2],c=qS(r[1]);if(s===n.userId&&t.path.isEqual(c))return KE(e).get(u).next((function(e){if(!e)throw gw();_w(e.userId===n.userId),o.push(AE(n.D,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new LC(Cw),i=[];return t.forEach((function(t){var o=WS.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=QE(e).qt({range:a},(function(e,i,o){var a=e[0],s=e[2],u=qS(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),uE.waitFor(i).next((function(){return n.Yt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=WS.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new LC(Cw);return QE(e).qt({range:a},(function(e,t,o){var a=e[0],u=e[2],c=qS(e[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Yt(e,s)}))},e.prototype.Yt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(KE(e).get(t).next((function(e){if(null===e)throw gw();_w(e.userId===n.userId),r.push(AE(n.D,e))})))})),uE.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return zE(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Xt(t.batchId)})),uE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Xt=function(e){delete this.zt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return uE.resolve();var r=IDBKeyRange.lowerBound(WS.prefixForUser(t.userId)),i=[];return QE(e).qt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=qS(e[1]);i.push(o)}else r.done()})).next((function(){_w(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return WE(e,this.userId,t)},e.prototype.Zt=function(e){var t=this;return YE(e).get(this.userId).next((function(e){return e||new HS(t.userId,-1,"")}))},e}();function WE(e,t,n){var r=WS.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return QE(e).qt({range:o,Bt:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function KE(e){return _E(e,GS.store)}function QE(e){return _E(e,WS.store)}function YE(e){return _E(e,HS.store)}var XE=function(){function e(e){this.te=e}return e.prototype.next=function(){return this.te+=2,this.te},e.ee=function(){return new e(0)},e.ne=function(){return new e(-1)},e}(),ZE=function(){function e(e,t){this.referenceDelegate=e,this.D=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.se(e).next((function(n){var r=new XE(n.highestTargetId);return n.highestTargetId=r.next(),t.ie(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.se(e).next((function(e){return Wk.fromTimestamp(new Hw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.se(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.se(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ie(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.re(e,t).next((function(){return n.se(e).next((function(r){return r.targetCount+=1,n.oe(t,r),n.ie(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.re(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return JE(e).delete(t.targetId)})).next((function(){return n.se(e)})).next((function(t){return _w(t.targetCount>0),t.targetCount-=1,n.ie(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return JE(e).qt((function(a,s){var u=DE(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return uE.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return JE(e).qt((function(e,n){var r=DE(n);t(r)}))},e.prototype.se=function(e){return $E(e).get($S.key).next((function(e){return _w(null!==e),e}))},e.prototype.ie=function(e,t){return $E(e).put($S.key,t)},e.prototype.re=function(e,t){return JE(e).put(PE(this.D,t))},e.prototype.oe=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.se(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=hk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return JE(e).qt({range:r,index:ZS.queryTargetsIndexName},(function(e,n,r){var o=DE(n);fk(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=eT(e);return t.forEach((function(t){var a=LS(t.path);i.push(o.put(new JS(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),uE.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=eT(e);return uE.forEach(t,(function(t){var o=LS(t.path);return uE.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=eT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=eT(e),i=QC();return r.qt({range:n,Bt:!0},(function(e,t,n){var r=qS(e[1]),o=new Lw(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=LS(t.path),r=IDBKeyRange.bound([n],[Ew(n)],!1,!0),i=0;return eT(e).qt({index:JS.documentTargetsIndex,Bt:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.yt=function(e,t){return JE(e).get(t).next((function(e){return e?DE(e):null}))},e}();function JE(e){return _E(e,ZS.store)}function $E(e){return _E(e,$S.store)}function eT(e){return _E(e,JS.store)}function tT(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){if(e.code!==Pw.FAILED_PRECONDITION||e.message!==oE)throw e;return pw("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function nT(e,t){var n=e[1],r=t[1],i=Cw(e[0],t[0]);return 0===i?Cw(n,r):i}var rT=function(){function e(e){this.ce=e,this.buffer=new LC(nT),this.ae=0}return e.prototype.ue=function(){return++this.ae},e.prototype.he=function(e){var t=[e,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),iT=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.le=!1,this.fe=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(e)},e.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),e.prototype.de=function(e){var t=this,n=this.le?3e5:6e4;pw("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return uw(t,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return dE(t=n.sent())?(pw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,tT(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),oT=function(){function e(e,t){this.we=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.we._e(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return uE.resolve(hw.o);var r=new rT(t);return this.we.forEachTarget(e,(function(e){return r.he(e.sequenceNumber)})).next((function(){return n.we.me(e,(function(e){return r.he(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.we.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.we.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pw("LruGarbageCollector","Garbage collection skipped; disabled"),uE.resolve(qE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pw("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),qE):n.ye(e,t)}))},e.prototype.getCacheSize=function(e){return this.we.getCacheSize(e)},e.prototype.ye=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(pw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),dw()<=om.a.DEBUG&&pw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),uE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),aT=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new oT(e,t)}(this,t)}return e.prototype._e=function(e){var t=this.ge(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.ge=function(e){var t=0;return this.me(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.me=function(e,t){return this.pe(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return sT(e,n)},e.prototype.removeReference=function(e,t,n){return sT(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return sT(e,t)},e.prototype.Ee=function(e,t){return function(e,t){var n=!1;return YE(e).Ut((function(r){return WE(e,r,t).next((function(e){return e&&(n=!0),uE.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(e,(function(a,s){if(s<=t){var u=n.Ee(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),eT(e).delete([0,LS(a.path)])}))}));i.push(u)}})).next((function(){return uE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return sT(e,t)},e.prototype.pe=function(e,t){var n,r=eT(e),i=hw.o;return r.qt({index:JS.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==hw.o&&t(new Lw(qS(n)),i),i=a,n=o):i=hw.o})).next((function(){i!==hw.o&&t(new Lw(qS(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function sT(e,t){return eT(e).put(function(e,t){return new JS(0,LS(e.path),t)}(t,e.currentSequenceNumber))}var uT=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Ow(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return Iw(this.inner)},e}(),cT=function(){function e(){this.changes=new uT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Wk.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{maybeDocument:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{maybeDocument:null,readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?uE.resolve(n.maybeDocument):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),lT=function(){function e(e,t){this.D=e,this.Gt=t}return e.prototype.addEntry=function(e,t,n){return dT(e).put(pT(t),n)},e.prototype.removeEntry=function(e,t){var n=dT(e),r=pT(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Te(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return dT(e).get(pT(t)).next((function(e){return n.Ie(e)}))},e.prototype.Ae=function(e,t){var n=this;return dT(e).get(pT(t)).next((function(e){var t=n.Ie(e);return t?{maybeDocument:t,size:HE(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=BC();return this.Re(e,t,(function(e,t){var i=n.Ie(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.be=function(e,t){var n=this,r=BC(),i=new jC(Lw.comparator);return this.Re(e,t,(function(e,t){var o=n.Ie(t);o?(r=r.insert(e,o),i=i.insert(e,HE(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{ve:r,Pe:i}}))},e.prototype.Re=function(e,t,n){if(t.isEmpty())return uE.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return dT(e).qt({range:r},(function(e,t,r){for(var a=Lw.fromSegments(e);o&&Lw.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=HC(),o=t.path.length+1,a={};if(n.isEqual(Wk.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=TE(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=YS.collectionReadTimeIndex}return dT(e).qt(a,(function(e,n,a){if(e.length===o){var s=SE(r.D,n);t.path.isPrefixOf(s.key.path)?s instanceof ak&&zk(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new hT(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return fT(e).get(XS.key).next((function(e){return _w(!!e),e}))},e.prototype.Te=function(e,t){return fT(e).put(XS.key,t)},e.prototype.Ie=function(e){if(e){var t=SE(this.D,e);return t instanceof sk&&t.version.isEqual(Wk.min())?null:t}return null},e}(),hT=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ve=t,r.trackRemovals=n,r.Se=new uT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return sw(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new LC((function(e,t){return Cw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Se.get(o);if(a.maybeDocument){var u=EE(t.Ve.D,a.maybeDocument,t.getReadTime(o));i=i.add(o.path.popLast());var c=HE(u);r+=c-s,n.push(t.Ve.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=EE(t.Ve.D,new sk(o,Wk.min()),t.getReadTime(o));n.push(t.Ve.addEntry(e,o,l))}else n.push(t.Ve.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ve.Gt.addToCollectionParentIndex(e,r))})),n.push(this.Ve.updateMetadata(e,r)),uE.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ve.Ae(e,t).next((function(e){return null===e?(n.Se.set(t,0),null):(n.Se.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ve.be(e,t).next((function(e){var t=e.ve;return e.Pe.forEach((function(e,t){n.Se.set(e,t)})),t}))},t}(cT);function fT(e){return _E(e,XS.store)}function dT(e){return _E(e,YS.store)}function pT(e){return e.path.toArray()}var vT=function(){function e(e){this.D=e}return e.prototype.St=function(e,t,n,r){var i=this;_w(n<r&&n>=0&&r<=11);var o=new cE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(zS.store)}(e),function(e){e.createObjectStore(HS.store,{keyPath:HS.keyPath}),e.createObjectStore(GS.store,{keyPath:GS.keyPath,autoIncrement:!0}).createIndex(GS.userMutationsIndex,GS.userMutationsKeyPath,{unique:!0}),e.createObjectStore(WS.store)}(e),yT(e),function(e){e.createObjectStore(YS.store)}(e));var a=uE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(JS.store),e.deleteObjectStore(ZS.store),e.deleteObjectStore($S.store)}(e),yT(e)),a=a.next((function(){return function(e){var t=e.store($S.store),n=new $S(0,0,Wk.min().toTimestamp(),0);return t.put($S.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(GS.store).kt().next((function(n){e.deleteObjectStore(GS.store),e.createObjectStore(GS.store,{keyPath:GS.keyPath,autoIncrement:!0}).createIndex(GS.userMutationsIndex,GS.userMutationsKeyPath,{unique:!0});var r=t.store(GS.store),i=n.map((function(e){return r.put(e)}));return uE.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(tE.store,{keyPath:tE.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.De(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(XS.store)}(e),i.Ce(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Ne(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(YS.store);t.createIndex(YS.readTimeIndex,YS.readTimeIndexPath,{unique:!1}),t.createIndex(YS.collectionReadTimeIndex,YS.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(nE.store,{keyPath:nE.keyPath})}(e),function(e){e.createObjectStore(rE.store,{keyPath:rE.keyPath})}(e)}))),a},e.prototype.Ce=function(e){var t=0;return e.store(YS.store).qt((function(e,n){t+=HE(n)})).next((function(){var n=new XS(t);return e.store(XS.store).put(XS.key,n)}))},e.prototype.De=function(e){var t=this,n=e.store(HS.store),r=e.store(GS.store);return n.kt().next((function(n){return uE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(GS.userMutationsIndex,i).next((function(r){return uE.forEach(r,(function(r){_w(r.userId===n.userId);var i=AE(t.D,r);return zE(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.xe=function(e){var t=e.store(JS.store),n=e.store(YS.store);return e.store($S.store).get($S.key).next((function(e){var r=[];return n.qt((function(n,i){var o=new jw(n),a=function(e){return[0,LS(e)]}(o);r.push(t.get(a).next((function(n){return n?uE.resolve():function(n){return t.put(new JS(0,LS(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return uE.waitFor(r)}))}))},e.prototype.Ne=function(e,t){e.createObjectStore(eE.store,{keyPath:eE.keyPath});var n=t.store(eE.store),r=new LE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:LS(i)})}};return t.store(YS.store).qt({Bt:!0},(function(e,t){var n=new jw(e);return i(n.popLast())})).next((function(){return t.store(WS.store).qt({Bt:!0},(function(e,t){var n=qS(e[1]);return i(n.popLast())}))}))},e.prototype.$e=function(e){var t=this,n=e.store(ZS.store);return n.qt((function(e,r){var i=DE(r),o=PE(t.D,i);return n.put(o)}))},e}();function yT(e){e.createObjectStore(JS.store,{keyPath:JS.keyPath}).createIndex(JS.documentTargetsIndex,JS.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ZS.store,{keyPath:ZS.keyPath}).createIndex(ZS.queryTargetsIndexName,ZS.queryTargetsKeyPath,{unique:!0}),e.createObjectStore($S.store)}var mT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gT=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(e){return Promise.resolve()},!e.At())throw new Nw(Pw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aT(this,i),this.We=n+"main",this.D=new CE(u),this.je=new lE(this.We,11,new vT(this.D)),this.Ge=new ZE(this.referenceDelegate,this.D),this.Gt=new VE,this.ze=function(e,t){return new lT(e,t)}(this.D,this.Gt),this.He=new RE,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&vw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.Ye().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Nw(Pw.FAILED_PRECONDITION,mT);return e.Xe(),e.Ze(),e.tn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ge.getHighestSequenceNumber(t)}))})).then((function(t){e.Me=new hw(t,e.Oe)})).then((function(){e.Le=!0})).catch((function(t){return e.je&&e.je.close(),Promise.reject(t)}))},e.prototype.en=function(e){var t=this;return this.Ke=function(n){return uw(t,void 0,void 0,(function(){return cw(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.je.Ct((function(n){return uw(t,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((function(){return uw(t,void 0,void 0,(function(){return cw(this,(function(e){switch(e.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ye=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return bT(t).put(new tE(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.Ke(!1)})))}))})).next((function(){return e.sn(t)})).next((function(n){return e.isPrimary&&!n?e.rn(t).next((function(){return!1})):!!n&&e.on(t).next((function(){return!0}))}))})).catch((function(t){if(dE(t))return pw("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.Ke(t)})),e.isPrimary=t}))},e.prototype.nn=function(e){var t=this;return _T(e).get(zS.key).next((function(e){return uE.resolve(t.cn(e))}))},e.prototype.an=function(e){return bT(e).delete(this.clientId)},e.prototype.un=function(){return uw(this,void 0,void 0,(function(){var e,t,n,r=this;return cw(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=_E(e,tE.store);return t.kt().next((function(e){var n=r.ln(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return uE.forEach(i,(function(e){return t.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Je)for(t=0,n=e;t<n.length;t++)this.Je.removeItem(this.fn(n[t].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.tn=function(){var e=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ye().then((function(){return e.un()})).then((function(){return e.tn()}))}))},e.prototype.cn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.sn=function(e){var t=this;return this.ke?uE.resolve(!0):_T(e).get(zS.key).next((function(n){if(null!==n&&t.hn(n.leaseTimestampMs,5e3)&&!t.dn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new Nw(Pw.FAILED_PRECONDITION,mT);return!1}}return!(!t.networkEnabled||!t.inForeground)||bT(e).kt().next((function(e){return void 0===t.ln(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&pw("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return uw(this,void 0,void 0,(function(){var e=this;return cw(this,(function(t){switch(t.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[zS.store,tE.store],(function(t){var n=new gE(t,hw.o);return e.rn(n).next((function(){return e.an(n)}))}))];case 1:return t.sent(),this.je.close(),this.yn(),[2]}}))}))},e.prototype.ln=function(e,t){var n=this;return e.filter((function(e){return n.hn(e.updateTimeMs,t)&&!n.dn(e.clientId)}))},e.prototype.gn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return bT(t).kt().next((function(t){return e.ln(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return GE.Ht(e,this.D,this.Gt,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r,i=this;return pw("IndexedDbPersistence","Starting transaction:",e),this.je.runTransaction(e,"readonly"===t?"readonly":"readwrite",iE,(function(o){return r=new gE(o,i.Me?i.Me.next():hw.o),"readwrite-primary"===t?i.nn(r).next((function(e){return!!e||i.sn(r)})).next((function(t){if(!t)throw vw("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable((function(){return i.Ke(!1)})),new Nw(Pw.FAILED_PRECONDITION,oE);return n(r)})).next((function(e){return i.on(r).next((function(){return e}))})):i.pn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.pn=function(e){var t=this;return _T(e).get(zS.key).next((function(e){if(null!==e&&t.hn(e.leaseTimestampMs,5e3)&&!t.dn(e.ownerId)&&!t.cn(e)&&!(t.ke||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Nw(Pw.FAILED_PRECONDITION,mT)}))},e.prototype.on=function(e){var t=new zS(this.clientId,this.allowTabSynchronization,Date.now());return _T(e).put(zS.key,t)},e.At=function(){return lE.At()},e.prototype.rn=function(e){var t=this,n=_T(e);return n.get(zS.key).next((function(e){return t.cn(e)?(pw("IndexedDbPersistence","Releasing primary lease."),n.delete(zS.key)):uE.resolve()}))},e.prototype.hn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(vw("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xe=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},e.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},e.prototype.Ze=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Be=function(){t.wn(),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Be))},e.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},e.prototype.dn=function(e){var t;try{var n=null!==(null===(t=this.Je)||void 0===t?void 0:t.getItem(this.fn(e)));return pw("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return vw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(e){vw("Failed to set zombie client id.",e)}},e.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(e){}},e.prototype.fn=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function _T(e){return _E(e,zS.store)}function bT(e){return _E(e,tE.store)}function wT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var kT=function(e,t){this.progress=e,this.En=t},CT=function(){function e(e,t,n){this.ze=e,this.Tn=t,this.Gt=n}return e.prototype.In=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.An(e,t,r)}))},e.prototype.An=function(e,t,n){return this.ze.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.Rn=function(e,t,n){var r=BC();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.bn=function(e,t){var n=this;return this.ze.getEntries(e,t).next((function(t){return n.vn(e,t)}))},e.prototype.vn=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.Rn(e,t,r),o=qC();return i.forEach((function(e,t){t||(t=new sk(e,Wk.min())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Lw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Pn(e,t.path):Fk(t)?this.Vn(e,t,n):this.Sn(e,t,n)},e.prototype.Pn=function(e,t){return this.In(e,new Lw(t)).next((function(e){var t=HC();return e instanceof ak&&(t=t.insert(e.key,e)),t}))},e.prototype.Vn=function(e,t,n){var r=this,i=t.collectionGroup,o=HC();return this.Gt.getCollectionParents(e,i).next((function(a){return uE.forEach(a,(function(a){var s=function(e,t){return new xk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.Sn(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Sn=function(e,t,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.Dn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=gC(u,r.get(c),o.localWriteTime);r=l instanceof ak?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){zk(t,n)||(r=r.remove(e))})),r}))},e.prototype.Dn=function(e,t,n){for(var r=QC(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof CC&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof ak&&(c=c.insert(e,t))})),c}))},e}(),ST=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Cn=n,this.xn=r}return e.Nn=function(t,n){for(var r=QC(),i=QC(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),ET=function(){function e(){}return e.prototype.$n=function(e){this.Fn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Wk.min())?this.On(e,t):this.Fn.bn(e,r).next((function(o){var a=i.kn(t,o);return(Pk(t)||Nk(t))&&i.Mn(t.limitType,a,r,n)?i.On(e,t):(dw()<=om.a.DEBUG&&pw("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bk(t)),i.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.kn=function(e,t){var n=new LC(Hk(e));return t.forEach((function(t,r){r instanceof ak&&zk(e,r)&&(n=n.add(r))})),n},e.prototype.Mn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.On=function(e,t){return dw()<=om.a.DEBUG&&pw("QueryEngine","Using full collection scan to execute query:",Bk(t)),this.Fn.getDocumentsMatchingQuery(e,t,Wk.min())},e}(),TT=function(){function e(e,t,n,r){this.persistence=e,this.Ln=t,this.D=r,this.Bn=new jC(Cw),this.qn=new uT((function(e){return hk(e)}),fk),this.Un=Wk.min(),this.Tn=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.Ge=e.getTargetCache(),this.Kn=new CT(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=e.getBundleCache(),this.Ln.$n(this.Kn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Bn)}))},e}();function OT(e,t,n,r){return new TT(e,t,n,r)}function IT(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o;return cw(this,(function(a){switch(a.label){case 0:return n=bw(e),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Tn.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new CT(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=QC(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.bn(e,a).next((function(e){return{Wn:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function xT(e,t){var n=bw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=uE.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=t,a=n.docVersions.get(e);_w(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(e,o,n))&&r.addEntry(o,n.commitVersion)}))})),a.next((function(){return e.Tn.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}function AT(e){var t=bw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ge.getLastRemoteSnapshotVersion(e)}))}function DT(e,t){var n=bw(e),r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return _w(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.Ge.updateTargetData(e,c))}}}));var s=qC();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(PT(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Wk.min())){var u=n.Ge.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ge.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return uE.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Kn.vn(e,s)}))})).then((function(e){return n.Bn=i,e}))}function PT(e,t,n,r,i){var o=QC();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=qC();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof sk&&a.version.isEqual(Wk.min())?(t.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):pw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function NT(e,t){var n=bw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Tn.getNextMutationBatchAfterBatchId(e,t)}))}function RT(e,t){var n=bw(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ge.getTargetData(e,t).next((function(i){return i?uE.resolve(r=i):n.Ge.allocateTargetId(e).next((function(i){return r=new kE(t,i,0,e.currentSequenceNumber),n.Ge.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Bn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function jT(e,t,n){return uw(this,void 0,void 0,(function(){var r,i,o,a;return cw(this,(function(s){switch(s.label){case 0:r=bw(e),i=r.Bn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!dE(a=s.sent()))throw a;return pw("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}}))}))}function FT(e,t,n){var r=bw(e),i=Wk.min(),o=QC();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=bw(e),i=r.qn.get(n);return void 0!==i?uE.resolve(r.Bn.get(i)):r.Ge.getTargetData(t,n)}(r,e,Lk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(e,t,n?i:Wk.min(),n?o:QC())})).next((function(e){return{documents:e,jn:o}}))}))}function MT(e,t){var n=bw(e),r=bw(n.Ge),i=n.Bn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.yt(e,t).next((function(e){return e?e.target:null}))}))}function LT(e){var t=bw(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=bw(e),i=qC(),o=TE(n),a=dT(t),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:YS.readTimeIndex,range:s},(function(e,t){var n=SE(r.D,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{En:i,readTime:OE(o)}}))}(t.Qn,e,t.Un)})).then((function(e){var n=e.En;return t.Un=e.readTime,n}))}function VT(e){return uw(this,void 0,void 0,(function(){var t;return cw(this,(function(n){return[2,(t=bw(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=dT(e),n=Wk.min();return t.qt({index:YS.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=OE(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Un=e}))]}))}))}function UT(e,t,n,r){return uw(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return cw(this,(function(p){switch(p.label){case 0:for(i=bw(e),o=QC(),a=qC(),s=WC(),u=0,c=n;u<c.length;u++)h=t.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.zn(l)),s=s.insert(h,t.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,RT(i,function(e){return Lk(Dk(jw.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return PT(e,f,a,Wk.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.Ge.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.Ge.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Kn.vn(e,t)}))}))}))]}}))}))}function qT(e,t,n){return void 0===n&&(n=QC()),uw(this,void 0,void 0,(function(){var r,i;return cw(this,(function(o){switch(o.label){case 0:return[4,RT(e,Lk(NE(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=bw(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=fS(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(e,t);var a=r.withResumeToken(Vw.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(e,a).next((function(){return i.Ge.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(e,t)}))}))]}}))}))}var BT=function(){function e(e){this.D=e,this.Jn=new Map,this.Yn=new Map}return e.prototype.getBundleMetadata=function(e,t){return uE.resolve(this.Jn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:fS(n.createTime)}),uE.resolve()},e.prototype.getNamedQuery=function(e,t){return uE.resolve(this.Yn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:NE(e.bundledQuery),readTime:fS(e.readTime)}}(t)),uE.resolve()},e}(),zT=function(){function e(){this.Xn=new LC(HT.Zn),this.ts=new LC(HT.es)}return e.prototype.isEmpty=function(){return this.Xn.isEmpty()},e.prototype.addReference=function(e,t){var n=new HT(e,t);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},e.prototype.ns=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.ss(new HT(e,t))},e.prototype.rs=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.os=function(e){var t=this,n=new Lw(new jw([])),r=new HT(n,e),i=new HT(n,e+1),o=[];return this.ts.forEachInRange([r,i],(function(e){t.ss(e),o.push(e.key)})),o},e.prototype.cs=function(){var e=this;this.Xn.forEach((function(t){return e.ss(t)}))},e.prototype.ss=function(e){this.Xn=this.Xn.delete(e),this.ts=this.ts.delete(e)},e.prototype.us=function(e){var t=new Lw(new jw([])),n=new HT(t,e),r=new HT(t,e+1),i=QC();return this.ts.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new HT(e,0),n=this.Xn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),HT=function(){function e(e,t){this.key=e,this.hs=t}return e.Zn=function(e,t){return Lw.comparator(e.key,t.key)||Cw(e.hs,t.hs)},e.es=function(e,t){return Cw(e.hs,t.hs)||Lw.comparator(e.key,t.key)},e}(),GT=function(){function e(e,t){this.Gt=e,this.referenceDelegate=t,this.Tn=[],this.ls=1,this.fs=new LC(HT.Zn)}return e.prototype.checkEmpty=function(e){return uE.resolve(0===this.Tn.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ls;this.ls++;var o=new bE(i,t,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new HT(u.key,i)),this.Gt.addToCollectionParentIndex(e,u.key.path.popLast())}return uE.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return uE.resolve(this.ds(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.ws(t+1),r=n<0?0:n;return uE.resolve(this.Tn.length>r?this.Tn[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return uE.resolve(0===this.Tn.length?-1:this.ls-1)},e.prototype.getAllMutationBatches=function(e){return uE.resolve(this.Tn.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new HT(t,0),i=new HT(t,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(e){var t=n.ds(e.hs);o.push(t)})),uE.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new LC(Cw);return t.forEach((function(e){var t=new HT(e,0),i=new HT(e,Number.POSITIVE_INFINITY);n.fs.forEachInRange([t,i],(function(e){r=r.add(e.hs)}))})),uE.resolve(this._s(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Lw.isDocumentKey(i)||(i=i.child(""));var o=new HT(new Lw(i),0),a=new LC(Cw);return this.fs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.hs)),!0)}),o),uE.resolve(this._s(a))},e.prototype._s=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ds(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;_w(0===this.ys(t.batchId,"removed")),this.Tn.shift();var r=this.fs;return uE.forEach(t.mutations,(function(i){var o=new HT(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.fs=r}))},e.prototype.Xt=function(e){},e.prototype.containsKey=function(e,t){var n=new HT(t,0),r=this.fs.firstAfterOrEqual(n);return uE.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return uE.resolve()},e.prototype.ys=function(e,t){return this.ws(e)},e.prototype.ws=function(e){return 0===this.Tn.length?0:e-this.Tn[0].batchId},e.prototype.ds=function(e){var t=this.ws(e);return t<0||t>=this.Tn.length?null:this.Tn[t]},e}(),WT=function(){function e(e,t){this.Gt=e,this.gs=t,this.docs=new jC(Lw.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return uE.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=BC();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),uE.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=HC(),i=new Lw(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.maybeDocument,c=s.readTime;if(!t.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||u instanceof ak&&zk(t,u)&&(r=r.insert(u.key,u))}return uE.resolve(r)},e.prototype.ps=function(e,t){return uE.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new KT(this)},e.prototype.getSize=function(e){return uE.resolve(this.size)},e}(),KT=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ve=t,n}return sw(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(t.Ve.addEntry(e,i.maybeDocument,t.getReadTime(r))):t.Ve.removeEntry(r)})),uE.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ve.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ve.getEntries(e,t)},t}(cT),QT=function(){function e(e){this.persistence=e,this.Es=new uT((function(e){return hk(e)}),fk),this.lastRemoteSnapshotVersion=Wk.min(),this.highestTargetId=0,this.Ts=0,this.Is=new zT,this.targetCount=0,this.As=XE.ee()}return e.prototype.forEachTarget=function(e,t){return this.Es.forEach((function(e,n){return t(n)})),uE.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return uE.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return uE.resolve(this.Ts)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.As.next(),uE.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ts&&(this.Ts=t),uE.resolve()},e.prototype.re=function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.As=new XE(t),this.highestTargetId=t),e.sequenceNumber>this.Ts&&(this.Ts=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.re(t),this.targetCount+=1,uE.resolve()},e.prototype.updateTargetData=function(e,t){return this.re(t),uE.resolve()},e.prototype.removeTargetData=function(e,t){return this.Es.delete(t.target),this.Is.os(t.targetId),this.targetCount-=1,uE.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),uE.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return uE.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.Es.get(t)||null;return uE.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.Is.ns(t,n),uE.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this.Is.rs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),uE.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.Is.os(t),uE.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.Is.us(t);return uE.resolve(n)},e.prototype.containsKey=function(e,t){return uE.resolve(this.Is.containsKey(t))},e}(),YT=function(){function e(e,t){var n=this;this.Rs={},this.Me=new hw(0),this.Le=!1,this.Le=!0,this.referenceDelegate=e(this),this.Ge=new QT(this),this.Gt=new ME,this.ze=function(e,t){return new WT(e,(function(e){return n.referenceDelegate.bs(e)}))}(this.Gt),this.D=new CE(t),this.He=new BT(this.D)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getMutationQueue=function(e){var t=this.Rs[e.toKey()];return t||(t=new GT(this.Gt,this.referenceDelegate),this.Rs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;pw("MemoryPersistence","Starting transaction:",e);var i=new XT(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Ps(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Vs=function(e,t){return uE.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),XT=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return sw(t,e),t}(aE),ZT=function(){function e(e){this.persistence=e,this.Ss=new zT,this.Ds=null}return e.Cs=function(t){return new e(t)},Object.defineProperty(e.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw gw()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.Ss.addReference(n,t),this.xs.delete(n.toString()),uE.resolve()},e.prototype.removeReference=function(e,t,n){return this.Ss.removeReference(n,t),this.xs.add(n.toString()),uE.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.xs.add(t.toString()),uE.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Ss.os(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.vs=function(){this.Ds=new Set},e.prototype.Ps=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uE.forEach(this.xs,(function(r){var i=Lw.fromPath(r);return t.Ns(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ds=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ns(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))},e.prototype.bs=function(e){return 0},e.prototype.Ns=function(e,t){var n=this;return uE.or([function(){return uE.resolve(n.Ss.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Vs(e,t)}])},e}(),JT=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function $T(e,t){return"firestore_clients_"+e+"_"+t}function eO(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function tO(e,t){return"firestore_targets_"+e+"_"+t}JT.UNAUTHENTICATED=new JT(null),JT.GOOGLE_CREDENTIALS=new JT("google-credentials-uid"),JT.FIRST_PARTY=new JT("first-party-uid");var nO=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.$s=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Nw(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(vw("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),rO=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.$s=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nw(i.error.code,i.error.message)),o?new e(t,i.state,r):(vw("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),iO=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.$s=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=XC(),a=0;i&&a<r.activeTargetIds.length;++a)i=Dw(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(vw("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),oO=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.$s=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vw("SharedClientState","Failed to parse online state: "+t),null)},e}(),aO=function(){function e(){this.activeTargetIds=XC()}return e.prototype.Os=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ks=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Fs=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),sO=function(){function e(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new jC(Cw),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=$T(this.persistenceKey,this.Ms),this.Ks=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new aO),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Hs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return e.At=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return uw(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return cw(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ms&&(i=this.getItem($T(this.persistenceKey,r)))&&(o=iO.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ks,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.ti(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.ti(e,t,n),this.ei(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tO(this.persistenceKey,e));if(n){var r=rO.$s(e,n);r&&(t=r.state)}}return this.ni.Os(e),this.Js(),t},e.prototype.removeLocalQueryTarget=function(e){this.ni.ks(e),this.Js()},e.prototype.isLocalQueryTarget=function(e){return this.ni.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(tO(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.si(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.ei(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.ii(e)},e.prototype.notifyBundleLoaded=function(){this.ri()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return pw("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){pw("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){pw("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Bs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(pw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void vw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return uw(t,void 0,void 0,(function(){var e,t,r,i,o,a;return cw(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return e=this.oi(n.key),[2,this.ci(e,null)];if(t=this.ai(n.key,n.newValue))return[2,this.ci(t.clientId,t)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(e){var t=hw.o;if(null!=e)try{var n=JSON.parse(e);_w("number"==typeof n),t=n}catch(e){vw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==hw.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),e.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},e.prototype.ti=function(e,t,n){var r=new nO(this.currentUser,e,t,n),i=eO(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())},e.prototype.ei=function(e){var t=eO(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.ii=function(e){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:e}))},e.prototype.si=function(e,t,n){var r=tO(this.persistenceKey,e),i=new rO(e,t,n);this.setItem(r,i.Fs())},e.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},e.prototype.oi=function(e){var t=this.Ws.exec(e);return t?t[1]:null},e.prototype.ai=function(e,t){var n=this.oi(e);return iO.$s(n,t)},e.prototype.ui=function(e,t){var n=this.js.exec(e),r=Number(n[1]);return nO.$s(new JT(void 0!==n[2]?n[2]:null),r,t)},e.prototype.li=function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return rO.$s(r,t)},e.prototype.Ys=function(e){return oO.$s(e)},e.prototype.hi=function(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(e.batchId,e.state,e.error)]:(pw("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.fi=function(e){return this.syncEngine._i(e.targetId,e.state,e.error)},e.prototype.ci=function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},e.prototype.Xs=function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Zs=function(e){var t=XC();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),uO=function(){function e(){this.yi=new aO,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.yi.Os(e),this.gi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.gi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.yi.ks(e)},e.prototype.isLocalQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.gi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.start=function(){return this.yi=new aO,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),cO=function(){function e(){}return e.prototype.pi=function(e){},e.prototype.shutdown=function(){},e}(),lO=function(){function e(){var e=this;this.Ei=function(){return e.Ti()},this.Ii=function(){return e.Ai()},this.Ri=[],this.bi()}return e.prototype.pi=function(e){this.Ri.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},e.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},e.prototype.Ti=function(){pw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(0)},e.prototype.Ai=function(){pw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(1)},e.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),hO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fO=function(){function e(e){this.vi=e.vi,this.Pi=e.Pi}return e.prototype.Vi=function(e){this.Si=e},e.prototype.Di=function(e){this.Ci=e},e.prototype.onMessage=function(e){this.xi=e},e.prototype.close=function(){this.Pi()},e.prototype.send=function(e){this.vi(e)},e.prototype.Ni=function(){this.Si()},e.prototype.$i=function(e){this.Ci(e)},e.prototype.Fi=function(e){this.xi(e)},e}(),dO=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return sw(t,e),t.prototype.qi=function(e,t,n,r){return new Promise((function(i,o){var a=new ow;a.listenOnce(nw.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case tw.NO_ERROR:var t=a.getResponseJson();pw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case tw.TIMEOUT:pw("Connection",'RPC "'+e+'" timed out'),o(new Nw(Pw.DEADLINE_EXCEEDED,"Request time out"));break;case tw.HTTP_ERROR:var n=a.getStatus();if(pw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pw).indexOf(t)>=0?t:Pw.UNKNOWN}(r.status);o(new Nw(s,r.message))}else o(new Nw(Pw.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Nw(Pw.UNAVAILABLE,"Connection failed."));break;default:gw()}}finally{pw("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Qi=function(e,t){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Xb,i=$g(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,t),Object(am.t)()||Object(am.w)()||Object(am.q)()||Object(am.s)()||Object(am.x)()||Object(am.p)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");pw("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new fO({vi:function(e){c?pw("Connection","Not sending because WebChannel is closed:",e):(u||(pw("Connection","Opening WebChannel transport."),s.open(),u=!0),pw("Connection","WebChannel sending:",e),s.send(e))},Pi:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,iw.EventType.OPEN,(function(){c||pw("Connection","WebChannel transport opened.")})),h(s,iw.EventType.CLOSE,(function(){c||(c=!0,pw("Connection","WebChannel transport closed"),l.$i())})),h(s,iw.EventType.ERROR,(function(e){c||(c=!0,yw("Connection","WebChannel transport errored:",e),l.$i(new Nw(Pw.UNAVAILABLE,"The operation could not be completed")))})),h(s,iw.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];_w(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){pw("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=IC[e];if(void 0!==t)return RC(t)}(i),a=r.message;void 0===o&&(o=Pw.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new Nw(o,a)),s.close()}else pw("Connection","WebChannel received:",n),l.Fi(n)}})),h(i,rw.STAT_EVENT,(function(e){10===e.stat?pw("Connection","Detected buffering proxy"):11===e.stat&&pw("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ni()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Oi=(e.ssl?"https":"http")+"://"+e.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Mi=function(e,t,n,r){var i=this.Li(e,t);pw("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(e,i,o,n).then((function(e){return pw("RestConnection","Received: ",e),e}),(function(t){throw yw("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Ui=function(e,t,n,r){return this.Mi(e,t,n,r)},e.prototype.Bi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.Li=function(e,t){return this.Oi+"/v1/"+t+":"+hO[e]},e}());function pO(){return"undefined"!=typeof window?window:null}function vO(){return"undefined"!=typeof document?document:null}function yO(e){return new uS(e,!0)}var mO=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=e,this.timerId=t,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return e.prototype.reset=function(){this.Gi=0},e.prototype.Ji=function(){this.Gi=this.ji},e.prototype.Yi=function(e){var t=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&pw("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Hi=Date.now(),e()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},e.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},e.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},e.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},e}(),gO=function(){function e(e,t,n,r,i,o){this.Fe=e,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new mO(e,t)}return e.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.ar=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.ur()},e.prototype.stop=function(){return uw(this,void 0,void 0,(function(){return cw(this,(function(e){switch(e.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.hr=function(){this.state=0,this.rr.reset()},e.prototype.lr=function(){var e=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return e.dr()})))},e.prototype.wr=function(e){this._r(),this.stream.send(e)},e.prototype.dr=function(){return uw(this,void 0,void 0,(function(){return cw(this,(function(e){return this.ar()?[2,this.close(0)]:[2]}))}))},e.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},e.prototype.close=function(e,t){return uw(this,void 0,void 0,(function(){return cw(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===Pw.RESOURCE_EXHAUSTED?(vw(t.toString()),vw("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):t&&t.code===Pw.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Di(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mr=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(t){e.sr===n&&e.gr(t)}),(function(n){t((function(){var t=new Nw(Pw.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))},e.prototype.gr=function(e){var t=this,n=this.yr(this.sr);this.stream=this.Er(e),this.stream.Vi((function(){n((function(){return t.state=2,t.listener.Vi()}))})),this.stream.Di((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.ur=function(){var e=this;this.state=4,this.rr.Yi((function(){return uw(e,void 0,void 0,(function(){return cw(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.pr=function(e){return pw("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.yr=function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.sr===e?n():(pw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),_O=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return sw(t,e),t.prototype.Er=function(e){return this.er.Qi("Listen",e)},t.prototype.onMessage=function(e){this.rr.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gw()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.V?(_w(void 0===t||"string"==typeof t),Vw.fromBase64String(t||"")):(_w(void 0===t||t instanceof Uint8Array),Vw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Pw.UNKNOWN:RC(e.code);return new Nw(t,e.message||"")}(s);n=new tS(r,i,o,a||null)}else if("documentChange"in t){i=yS(e,(r=t.documentChange).document.name),o=fS(r.document.updateTime);var s=new Qk({mapValue:{fields:r.document.fields}}),u=(a=new ak(i,o,s,{}),r.targetIds||[]);n=new $C(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t)i=yS(e,(r=t.documentDelete).document),o=r.readTime?fS(r.readTime):Wk.min(),s=new sk(i,o),n=new $C([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in t)i=yS(e,(r=t.documentRemove).document),n=new $C([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return gw();var c=t.filter;i=new PC(r=c.count||0),n=new eS(o=c.targetId,i)}return n}(this.D,e),n=function(e){if(!("targetChange"in e))return Wk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Wk.min():t.readTime?fS(t.readTime):Wk.min()}(e);return this.listener.Tr(t,n)},t.prototype.Ir=function(e){var t={};t.database=_S(this.D),t.addTarget=function(e,t){var n,r=t.target;return(n=dk(r)?{documents:ES(e,r)}:{query:TS(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=lS(e,t.resumeToken):t.snapshotVersion.compareTo(Wk.min())>0&&(n.readTime=cS(e,t.snapshotVersion.toTimestamp())),n}(this.D,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gw()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)},t.prototype.Ar=function(e){var t={};t.database=_S(this.D),t.removeTarget=e,this.wr(t)},t}(gO),bO=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return sw(t,e),Object.defineProperty(t.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mr=function(){this.Rr&&this.vr([])},t.prototype.Er=function(e){return this.er.Qi("Write",e)},t.prototype.onMessage=function(e){if(_w(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=function(e,t){return e&&e.length>0?(_w(void 0!==t),e.map((function(e){return function(e,t){var n=fS(e.updateTime?e.updateTime:t);return n.isEqual(Wk.min())&&(n=fS(t)),new dC(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fS(e.commitTime);return this.listener.Pr(n,t)}return _w(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()},t.prototype.Sr=function(){var e={};e.database=_S(this.D),this.wr(e)},t.prototype.vr=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return CS(t.D,e)}))};this.wr(n)},t}(gO),wO=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.er=n,i.D=r,i.Dr=!1,i}return sw(t,e),t.prototype.Cr=function(){if(this.Dr)throw new Nw(Pw.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mi=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(e,t,n,i)})).catch((function(e){throw e.code===Pw.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Ui=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(e,t,n,i)})).catch((function(e){throw e.code===Pw.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Dr=!1},t}((function(){})),kO=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return e.prototype.Or=function(){var e=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.$r=null,e.Mr("Backend didn't respond within 10 seconds."),e.kr("Offline"),Promise.resolve()})))},e.prototype.Lr=function(e){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+e.toString()),this.kr("Offline")))},e.prototype.set=function(e){this.Br(),this.Nr=0,"Online"===e&&(this.Fr=!1),this.kr(e)},e.prototype.kr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Mr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(vw(t),this.Fr=!1):pw("OnlineStateTracker",t)},e.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},e}(),CO=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(e){n.enqueueAndForget((function(){return uw(o,void 0,void 0,(function(){return cw(this,(function(e){switch(e.label){case 0:return PO(this)?(pw("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return uw(this,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return(t=bw(e)).Qr.add(4),[4,EO(t)];case 1:return n.sent(),t.jr.set("Unknown"),t.Qr.delete(4),[4,SO(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.jr=new kO(n,r)};function SO(e){return uw(this,void 0,void 0,(function(){var t,n;return cw(this,(function(r){switch(r.label){case 0:if(!PO(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function EO(e){return uw(this,void 0,void 0,(function(){var t,n;return cw(this,(function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function TO(e,t){var n=bw(e);n.Ur.has(t.targetId)||(n.Ur.set(t.targetId,t),DO(n)?AO(n):KO(n).ar()&&IO(n,t))}function OO(e,t){var n=bw(e),r=KO(n);n.Ur.delete(t),r.ar()&&xO(n,t),0===n.Ur.size&&(r.ar()?r.lr():PO(n)&&n.jr.set("Unknown"))}function IO(e,t){e.Gr.H(t.targetId),KO(e).Ir(t)}function xO(e,t){e.Gr.H(t),KO(e).Ar(t)}function AO(e){e.Gr=new rS({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),KO(e).start(),e.jr.Or()}function DO(e){return PO(e)&&!KO(e).cr()&&e.Ur.size>0}function PO(e){return 0===bw(e).Qr.size}function NO(e){e.Gr=void 0}function RO(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){return e.Ur.forEach((function(t,n){IO(e,t)})),[2]}))}))}function jO(e,t){return uw(this,void 0,void 0,(function(){return cw(this,(function(n){return NO(e),DO(e)?(e.jr.Lr(t),AO(e)):e.jr.set("Unknown"),[2]}))}))}function FO(e,t,n){return uw(this,void 0,void 0,(function(){var r,i,o;return cw(this,(function(a){switch(a.label){case 0:if(e.jr.set("Online"),!(t instanceof tS&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o;return cw(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.Ur.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.Ur.delete(o),e.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),pw("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,MO(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof $C?e.Gr.st(t):t instanceof eS?e.Gr.ht(t):e.Gr.ot(t),n.isEqual(Wk.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,AT(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.Gr.dt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Ur.get(r);i&&e.Ur.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Ur.get(t);if(n){e.Ur.set(t,n.withResumeToken(Vw.EMPTY_BYTE_STRING,n.snapshotVersion)),xO(e,t);var r=new kE(n.target,t,1,n.sequenceNumber);IO(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return pw("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,MO(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function MO(e,t,n){return uw(this,void 0,void 0,(function(){var r=this;return cw(this,(function(i){switch(i.label){case 0:if(!dE(t))throw t;return e.Qr.add(1),[4,EO(e)];case 1:return i.sent(),e.jr.set("Offline"),n||(n=function(){return AT(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return uw(r,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return pw("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Qr.delete(1),[4,SO(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function LO(e,t){return t().catch((function(n){return MO(e,n,t)}))}function VO(e){return uw(this,void 0,void 0,(function(){var t,n,r,i,o;return cw(this,(function(a){switch(a.label){case 0:t=bw(e),n=QO(t),r=t.qr.length>0?t.qr[t.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return PO(e)&&e.qr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,NT(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(e,t){e.qr.push(t);var n=QO(e);n.ar()&&n.br&&n.vr(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,MO(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return UO(t)&&qO(t),[2]}}))}))}function UO(e){return PO(e)&&!QO(e).cr()&&e.qr.length>0}function qO(e){QO(e).start()}function BO(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){return QO(e).Sr(),[2]}))}))}function zO(e){return uw(this,void 0,void 0,(function(){var t,n,r;return cw(this,(function(i){for(t=QO(e),n=0,r=e.qr;n<r.length;n++)t.vr(r[n].mutations);return[2]}))}))}function HO(e,t,n){return uw(this,void 0,void 0,(function(){var r,i;return cw(this,(function(o){switch(o.label){case 0:return r=e.qr.shift(),i=wE.from(r,t,n),[4,LO(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,VO(e)];case 2:return o.sent(),[2]}}))}))}function GO(e,t){return uw(this,void 0,void 0,(function(){return cw(this,(function(n){switch(n.label){case 0:return t&&QO(e).br?[4,function(e,t){return uw(this,void 0,void 0,(function(){var n,r;return cw(this,(function(i){switch(i.label){case 0:return NC(r=t.code)&&r!==Pw.ABORTED?(n=e.qr.shift(),QO(e).hr(),[4,LO(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,VO(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return UO(e)&&qO(e),[2]}}))}))}function WO(e,t){return uw(this,void 0,void 0,(function(){var n;return cw(this,(function(r){switch(r.label){case 0:return n=bw(e),t?(n.Qr.delete(2),[4,SO(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,EO(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function KO(e){var t=this;return e.zr||(e.zr=function(e,t,n){var r=bw(e);return r.Cr(),new _O(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:RO.bind(null,e),Di:jO.bind(null,e),Tr:FO.bind(null,e)}),e.Kr.push((function(n){return uw(t,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return n?(e.zr.hr(),DO(e)?AO(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:t.sent(),NO(e),t.label=3;case 3:return[2]}}))}))}))),e.zr}function QO(e){var t=this;return e.Hr||(e.Hr=function(e,t,n){var r=bw(e);return r.Cr(),new bO(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:BO.bind(null,e),Di:GO.bind(null,e),Vr:zO.bind(null,e),Pr:HO.bind(null,e)}),e.Kr.push((function(n){return uw(t,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return n?(e.Hr.hr(),[4,VO(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:t.sent(),e.qr.length>0&&(pw("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Hr}var YO=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nw(Pw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function XO(e,t){if(vw("AsyncQueue",t+": "+e),dE(e))return new Nw(Pw.UNAVAILABLE,t+": "+e);throw e}var ZO=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Lw.comparator(t.key,n.key)}:function(e,t){return Lw.comparator(e.key,t.key)},this.keyedMap=HC(),this.sortedSet=new jC(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),JO=function(){function e(){this.Jr=new jC(Lw.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):gw():this.Jr=this.Jr.insert(t,e)},e.prototype.Yr=function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),$O=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ZO.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),eI=function(){this.Xr=void 0,this.listeners=[]},tI=function(){this.queries=new uT((function(e){return qk(e)}),Uk),this.onlineState="Unknown",this.Zr=new Set};function nI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return cw(this,(function(c){switch(c.label){case 0:if(n=bw(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new eI),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=XO(s,"Initialization of query '"+Bk(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&aI(n),[2]}}))}))}function rI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o,a;return cw(this,(function(s){return n=bw(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function iI(e,t){for(var n=bw(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].no(a)&&(r=!0);s.Xr=a}}r&&aI(n)}function oI(e,t,n){var r=bw(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function aI(e){e.Zr.forEach((function(e){e.next()}))}var sI=function(){function e(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.no=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new $O(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.co(e,this.onlineState)&&(this.ao(e),o=!0),this.ro=e,o},e.prototype.onError=function(e){this.so.error(e)},e.prototype.eo=function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.co(this.ro,e)&&(this.ao(this.ro),t=!0),t},e.prototype.co=function(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.oo=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.ao=function(e){e=$O.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)},e}(),uI=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.ho=function(){return"metadata"in this.payload},e}(),cI=function(){function e(e){this.D=e}return e.prototype.Gn=function(e){return yS(this.D,e)},e.prototype.zn=function(e){return e.metadata.exists?kS(this.D,e.document,!1):new sk(this.Gn(e.metadata.name),this.Hn(e.metadata.readTime))},e.prototype.Hn=function(e){return fS(e)},e}();!function(){function e(e,t,n){this.lo=e,this.localStore=t,this.D=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.fo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.wo=function(e){for(var t=new Map,n=new cI(this.D),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||QC()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return uw(this,void 0,void 0,(function(){var e,t,n,r,i;return cw(this,(function(o){switch(o.label){case 0:return[4,UT(this.localStore,new cI(this.D),this.documents,this.lo.id)];case 1:e=o.sent(),t=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,qT(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new kT(Object.assign({},this.progress),e))]}}))}))}}();var lI=function(e){this.key=e},hI=function(e){this.key=e},fI=function(){function e(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=QC(),this.mutatedKeys=QC(),this.po=Hk(e),this.Eo=new ZO(this.po)}return Object.defineProperty(e.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),e.prototype.Io=function(e,t){var n=this,r=t?t.Ao:new JO,i=t?t.Eo:this.Eo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Pk(this.query)&&i.size===this.query.limit?i.last():null,c=Nk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=t instanceof ak?t:null;h&&(h=zk(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Pk(this.query)||Nk(this.query))for(;a.size>this.query.limit;){var l=Pk(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},e.prototype.Ro=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gw()}};return n(e)-n(t)}(e.type,t.type)||r.po(e.doc,t.doc)})),this.bo(n);var a=t?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new $O(this.query,e.Eo,i,o,e.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},e.prototype.eo=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new JO,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},e.prototype.Vo=function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations},e.prototype.bo=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)},e.prototype.vo=function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=QC(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new hI(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new lI(e))})),n},e.prototype.So=function(e){this._o=e.jn,this.yo=QC();var t=this.Io(e.documents);return this.applyChanges(t,!0)},e.prototype.Do=function(){return $O.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},e}(),dI=function(e,t,n){this.query=e,this.targetId=t,this.view=n},pI=function(e){this.key=e,this.Co=!1},vI=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new uT((function(e){return qk(e)}),Uk),this.$o=new Map,this.Fo=new Set,this.Oo=new jC(Lw.comparator),this.ko=new Map,this.Mo=new zT,this.Lo={},this.Bo=new Map,this.qo=XE.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),e}();function yI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o,a;return cw(this,(function(s){switch(s.label){case 0:return n=GI(e),(i=n.No.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,RT(n.localStore,Lk(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,mI(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&TO(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function mI(e,t,n,r){return uw(this,void 0,void 0,(function(){var i,o,a,s,u,c;return cw(this,(function(l){switch(l.label){case 0:return e.Qo=function(t,n,r){return function(e,t,n,r){return uw(this,void 0,void 0,(function(){var i,o,a;return cw(this,(function(s){switch(s.label){case 0:return(i=t.view.Io(n)).Mn?[4,FT(e.localStore,t.query,!1).then((function(e){return t.view.Io(e.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(AI(e,t.targetId,a.Po),a.snapshot)]}}))}))}(e,t,n,r)},[4,FT(e.localStore,t,!0)];case 1:return i=l.sent(),o=new fI(t,i.jn),a=o.Io(i.documents),s=JC.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),AI(e,n,u.Po),c=new dI(t,n,o),[2,(e.No.set(t,c),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),u.snapshot)]}}))}))}function gI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i;return cw(this,(function(o){switch(o.label){case 0:return n=bw(e),r=n.No.get(t),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(e){return!Uk(e,t)}))),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,jT(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),OO(n.remoteStore,r.targetId),II(n,r.targetId)})).catch(tT)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return II(n,r.targetId),[4,jT(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function _I(e,t,n){return uw(this,void 0,void 0,(function(){var r,i,o,a;return cw(this,(function(s){switch(s.label){case 0:r=WI(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=bw(e),i=Hw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),QC());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Kn.bn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=_C(c,n.get(c.key));null!=l&&a.push(new CC(c.key,l,Xk(l.proto.mapValue),pC.exists(!0)))}return r.Tn.addMutationBatch(e,i,a,t)}))})).then((function(e){var t=e.applyToLocalDocumentSet(n);return{batchId:e.batchId,changes:t}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new jC(Cw)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,NI(r,i.changes)];case 3:return s.sent(),[4,VO(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=XO(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function bI(e,t){return uw(this,void 0,void 0,(function(){var n,r;return cw(this,(function(i){switch(i.label){case 0:n=bw(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,DT(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.ko.get(t);r&&(_w(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?_w(r.Co):e.removedDocuments.size>0&&(_w(r.Co),r.Co=!1))})),[4,NI(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,tT(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function wI(e,t,n){var r=bw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=bw(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(t)&&(r=!0)})),r&&aI(n)}(r.eventManager,t),i.length&&r.xo.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kI(e,t,n){return uw(this,void 0,void 0,(function(){var r,i,o,a,s,u;return cw(this,(function(c){switch(c.label){case 0:return(r=bw(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.ko.get(t),(o=i&&i.key)?(a=(a=new jC(Lw.comparator)).insert(o,new sk(o,Wk.min())),s=QC().add(o),u=new ZC(Wk.min(),new Map,new LC(Cw),a,s),[4,bI(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(t),PI(r),[3,4];case 2:return[4,jT(r.localStore,t,!1).then((function(){return II(r,t,n)})).catch(tT)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function CI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i;return cw(this,(function(o){switch(o.label){case 0:n=bw(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,xT(n.localStore,t)];case 2:return i=o.sent(),OI(n,r,null),TI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,NI(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,tT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function SI(e,t,n){return uw(this,void 0,void 0,(function(){var r,i;return cw(this,(function(o){switch(o.label){case 0:r=bw(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=bw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Tn.lookupMutationBatch(e,t).next((function(t){return _w(null!==t),r=t.keys(),n.Tn.removeMutationBatch(e,t)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),OI(r,t,n),TI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,NI(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,tT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function EI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o,a;return cw(this,(function(s){switch(s.label){case 0:PO((n=bw(e)).remoteStore)||pw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=bw(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Tn.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=XO(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function TI(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function OI(e,t,n){var r=bw(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function II(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var o=i[r];e.No.delete(o),n&&e.xo.Ko(o,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach((function(t){e.Mo.containsKey(t)||xI(e,t)}))}function xI(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(OO(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),PI(e))}function AI(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof lI?(e.Mo.addReference(o.key,t),DI(e,o)):o instanceof hI?(pw("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||xI(e,o.key)):gw()}}function DI(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.Fo.has(r)||(pw("SyncEngine","New document in limbo: "+n),e.Fo.add(r),PI(e))}function PI(e){for(;e.Fo.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new Lw(jw.fromString(t)),r=e.qo.next();e.ko.set(r,new pI(n)),e.Oo=e.Oo.insert(n,r),TO(e.remoteStore,new kE(Lk(Dk(n.path)),r,2,hw.o))}}function NI(e,t,n){return uw(this,void 0,void 0,(function(){var r,i,o,a;return cw(this,(function(s){switch(s.label){case 0:return r=bw(e),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(e,s){a.push(r.Qo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=ST.Nn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return cw(this,(function(l){switch(l.label){case 0:n=bw(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return uE.forEach(t,(function(t){return uE.forEach(t.Cn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return uE.forEach(t.xn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!dE(r=l.sent()))throw r;return pw("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Bn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function RI(e,t){return uw(this,void 0,void 0,(function(){var n,r;return cw(this,(function(i){switch(i.label){case 0:return(n=bw(e)).currentUser.isEqual(t)?[3,3]:(pw("SyncEngine","User change. New user:",t.toKey()),[4,IT(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Bo.forEach((function(e){e.forEach((function(e){e.reject(new Nw(Pw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,NI(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function jI(e,t){var n=bw(e),r=n.ko.get(t);if(r&&r.Co)return QC().add(r.key);var i=QC(),o=n.$o.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.No.get(s[a]);i=i.unionWith(u.view.To)}return i}function FI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i;return cw(this,(function(o){switch(o.label){case 0:return[4,FT((n=bw(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.So(r),[2,(n.isPrimaryClient&&AI(n,t.targetId,i.Po),i)]}}))}))}function MI(e){return uw(this,void 0,void 0,(function(){var t;return cw(this,(function(n){return[2,LT((t=bw(e)).localStore).then((function(e){return NI(t,e)}))]}))}))}function LI(e,t,n,r){return uw(this,void 0,void 0,(function(){var i,o;return cw(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=bw(e),r=bw(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Jt(e,t).next((function(t){return t?n.Kn.bn(e,t):uE.resolve(null)}))}))}((i=bw(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,VO(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(OI(i,t,r||null),TI(i,t),function(e,t){bw(bw(e).Tn).Xt(t)}(i.localStore,t)):gw(),a.label=4;case 4:return[4,NI(i,o)];case 5:return a.sent(),[3,7];case 6:pw("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function VI(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return cw(this,(function(c){switch(c.label){case 0:return GI(n=bw(e)),WI(n),!0!==t||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,UI(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,WO(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)TO(n.remoteStore,a[o]);return[3,7];case 3:return!1!==t||!1===n.Uo?[3,7]:(s=[],u=Promise.resolve(),n.$o.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then((function(){return II(n,t),jT(n.localStore,t,!0)})),OO(n.remoteStore,t)})),[4,u]);case 4:return c.sent(),[4,UI(n,s)];case 5:return c.sent(),function(e){var t=bw(e);t.ko.forEach((function(e,n){OO(t.remoteStore,n)})),t.Mo.cs(),t.ko=new Map,t.Oo=new jC(Lw.comparator)}(n),n.Uo=!1,[4,WO(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function UI(e,t,n){return uw(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return cw(this,(function(v){switch(v.label){case 0:n=bw(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.$o.get(s=a[o]))&&0!==c.length?[4,RT(n.localStore,Lk(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.No.get(h[l]),[4,FI(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,MT(n.localStore,s)];case 8:return p=v.sent(),[4,RT(n.localStore,p)];case 9:return u=v.sent(),[4,mI(n,qI(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function qI(e){return Ak(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function BI(e){var t=bw(e);return bw(bw(t.localStore).persistence).gn()}function zI(e,t,n,r){return uw(this,void 0,void 0,(function(){var i,o,a;return cw(this,(function(s){switch(s.label){case 0:return(i=bw(e)).Uo?(pw("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,LT(i.localStore)];case 3:return o=s.sent(),a=ZC.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,NI(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,jT(i.localStore,t,!0)];case 6:return s.sent(),II(i,t,r),[3,8];case 7:gw(),s.label=8;case 8:return[2]}}))}))}function HI(e,t,n){return uw(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return cw(this,(function(f){switch(f.label){case 0:if(!(r=GI(e)).Uo)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?r.$o.has(a=o[i])?(pw("SyncEngine","Adding an already active target "+a),[3,5]):[4,MT(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,RT(r.localStore,s)];case 3:return u=f.sent(),[4,mI(r,qI(s),u.targetId,!1)];case 4:f.sent(),TO(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(e){return cw(this,(function(t){switch(t.label){case 0:return r.$o.has(e)?[4,jT(r.localStore,e,!1).then((function(){OO(r.remoteStore,e),II(r,e)})).catch(tT)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function GI(e){var t=bw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kI.bind(null,t),t.xo.Tr=iI.bind(null,t.eventManager),t.xo.Ko=oI.bind(null,t.eventManager),t}function WI(e){var t=bw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SI.bind(null,t),t}var KI=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return this.D=yO(e.databaseInfo.databaseId),this.sharedClientState=this.jo(e),this.persistence=this.Go(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e),[2]}}))}))},e.prototype.zo=function(e){return null},e.prototype.Ho=function(e){return OT(this.persistence,new ET,e.initialUser,this.D)},e.prototype.Go=function(e){return new YT(ZT.Cs,this.D)},e.prototype.jo=function(e){return new uO},e.prototype.terminate=function(){return uw(this,void 0,void 0,(function(){return cw(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),QI=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Jo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return sw(t,e),t.prototype.initialize=function(t){return uw(this,void 0,void 0,(function(){return cw(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,VT(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,t)];case 3:return n.sent(),[4,WI(this.Jo.syncEngine)];case 4:return n.sent(),[4,VO(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ho=function(e){return OT(this.persistence,new ET,e.initialUser,this.D)},t.prototype.zo=function(e){return new iT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.Go=function(e){var t=wT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?BE.withCacheSize(this.cacheSizeBytes):BE.DEFAULT;return new gT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pO(),vO(),this.D,this.sharedClientState,!!this.forceOwnership)},t.prototype.jo=function(e){return new uO},t}(KI),YI=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Jo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return sw(t,e),t.prototype.initialize=function(t){return uw(this,void 0,void 0,(function(){var n,r=this;return cw(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof sO?(this.sharedClientState.syncEngine={wi:LI.bind(null,n),_i:zI.bind(null,n),mi:HI.bind(null,n),gn:BI.bind(null,n),di:MI.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(e){return uw(r,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return[4,VI(this.Jo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jo=function(e){var t=pO();if(!sO.At(t))throw new Nw(Pw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sO(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(QI),XI=function(){function e(){}return e.prototype.initialize=function(e,t){return uw(this,void 0,void 0,(function(){var n=this;return cw(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return wI(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=RI.bind(null,this.syncEngine),[4,WO(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new tI},e.prototype.createDatastore=function(e){var t=yO(e.databaseInfo.databaseId),n=new dO(e.databaseInfo);return function(e,t,n){return new wO(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return wI(a.syncEngine,e,0)},o=lO.At()?new lO:new cO,new CO(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new vI(e,t,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return uw(this,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return t=bw(e),pw("RemoteStore","RemoteStore shutting down."),t.Qr.add(5),[4,EO(t)];case 1:return n.sent(),t.Wr.shutdown(),t.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),ZI=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Yo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Xo=function(){this.muted=!0},e.prototype.Yo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),JI=(function(){function e(e,t){var n=this;this.Zo=e,this.D=t,this.metadata=new sE,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(e){e&&e.ho()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Zo.cancel()},e.prototype.getMetadata=function(){return uw(this,void 0,void 0,(function(){return cw(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Wo=function(){return uw(this,void 0,void 0,(function(){return cw(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.ec())]}}))}))},e.prototype.ec=function(){return uw(this,void 0,void 0,(function(){var e,t,n,r;return cw(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(e=i.sent())?[2,null]:(t=this.tc.decode(e),n=Number(t),isNaN(n)&&this.sc("length string ("+t+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new uI(JSON.parse(r),e.length+n)]}}))}))},e.prototype.rc=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.nc=function(){return uw(this,void 0,void 0,(function(){var e,t;return cw(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.ic=function(e){return uw(this,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.tc.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.sc=function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.oc=function(){return uw(this,void 0,void 0,(function(){var e,t;return cw(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return uw(this,void 0,void 0,(function(){var t,n=this;return cw(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Nw(Pw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return uw(this,void 0,void 0,(function(){var n,r,i,o,a,s;return cw(this,(function(u){switch(u.label){case 0:return n=bw(e),r=_S(n.D)+"/documents",i={documents:t.map((function(e){return vS(n.D,e)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_w(!!t.found);var n=yS(e,t.found.name),r=fS(t.found.updateTime),i=new Qk({mapValue:{fields:t.found.fields}});return new ak(n,r,i,{})}(e,t):"missing"in t?function(e,t){_w(!!t.missing),_w(!!t.readTime);var n=yS(e,t.missing),r=fS(t.readTime);return new sk(n,r)}(e,t):gw()}(n.D,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());_w(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof sk||e instanceof ak?n.recordVersion(e):gw()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new AC(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return uw(this,void 0,void 0,(function(){var e,t=this;return cw(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Lw.fromPath(n);t.mutations.push(new DC(r,t.precondition(r)))})),[4,function(e,t){return uw(this,void 0,void 0,(function(){var n,r,i;return cw(this,(function(o){switch(o.label){case 0:return n=bw(e),r=_S(n.D)+"/documents",i={writes:t.map((function(e){return CS(n.D,e)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof ak)t=e.version;else{if(!(e instanceof sk))throw gw();t=Wk.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nw(Pw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?pC.updateTime(t):pC.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wk.min()))throw new Nw(Pw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pC.updateTime(t)}return pC.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),$I=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new mO(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ac()},e.prototype.ac=function(){var e=this;this.rr.Yi((function(){return uw(e,void 0,void 0,(function(){var e,t,n=this;return cw(this,(function(r){return e=new JI(this.datastore),(t=this.uc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.hc(e)}))}))})).catch((function(e){n.hc(e)})),[2]}))}))}))},e.prototype.uc=function(e){try{var t=this.updateFunction(e);return!xw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.hc=function(e){var t=this;this.cc>0&&this.lc(e)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return t.ac(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.lc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!NC(t)}return!1},e}(),ex=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=JT.UNAUTHENTICATED,this.clientId=kw.u(),this.credentialListener=function(){},this.receivedInitialUser=new sE,this.credentials.setChangeListener((function(e){pw("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return uw(this,void 0,void 0,(function(){return cw(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Nw(Pw.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new sE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return uw(e,void 0,void 0,(function(){var e,n;return cw(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=XO(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function tx(e,t){return uw(this,void 0,void 0,(function(){var n,r,i=this;return cw(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),pw("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return uw(i,void 0,void 0,(function(){return cw(this,(function(e){switch(e.label){case 0:return[4,IT(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function nx(e,t){return uw(this,void 0,void 0,(function(){var n,r;return cw(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,rx(e)];case 1:return n=i.sent(),pw("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return uw(this,void 0,void 0,(function(){var n,r;return cw(this,(function(i){switch(i.label){case 0:return(n=bw(e)).asyncQueue.verifyOperationInProgress(),pw("RemoteStore","RemoteStore received new credentials"),r=PO(n),n.Qr.add(3),[4,EO(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Qr.delete(3),[4,SO(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function rx(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(pw("FirestoreClient","Using default OfflineComponentProvider"),[4,tx(e,new KI)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ix(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(pw("FirestoreClient","Using default OnlineComponentProvider"),[4,nx(e,new XI)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function ox(e){return rx(e).then((function(e){return e.persistence}))}function ax(e){return rx(e).then((function(e){return e.localStore}))}function sx(e){return ix(e).then((function(e){return e.remoteStore}))}function ux(e){return ix(e).then((function(e){return e.syncEngine}))}function cx(e){return uw(this,void 0,void 0,(function(){var t,n;return cw(this,(function(r){switch(r.label){case 0:return[4,ix(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=yI.bind(null,t.syncEngine),n.onUnlisten=gI.bind(null,t.syncEngine),n)]}}))}))}function lx(e,t,n){var r=this;void 0===n&&(n={});var i=new sE;return e.asyncQueue.enqueueAndForget((function(){return uw(r,void 0,void 0,(function(){var r;return cw(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ZI({next:function(o){t.enqueueAndForget((function(){return rI(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Nw(Pw.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Nw(Pw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new sI(Dk(n.path),o,{includeMetadataChanges:!0,uo:!0});return nI(e,a)},[4,cx(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function hx(e,t,n){var r=this;void 0===n&&(n={});var i=new sE;return e.asyncQueue.enqueueAndForget((function(){return uw(r,void 0,void 0,(function(){var r;return cw(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ZI({next:function(n){t.enqueueAndForget((function(){return rI(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Nw(Pw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new sI(n,o,{includeMetadataChanges:!0,uo:!0});return nI(e,a)},[4,cx(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var fx=function(e,t,n,r,i,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},dx=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),px=new Map,vx=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},yx=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(JT.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),mx=function(){function e(e){var t=this;this.fc=null,this.currentUser=JT.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){t.dc++,t.currentUser=t.wc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.dc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),e.get().then((function(e){t.auth=e,t.fc&&t.auth.addAuthTokenListener(t.fc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.dc!==t?(pw("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_w("string"==typeof n.accessToken),new vx(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},e.prototype.wc=function(){var e=this.auth&&this.auth.getUid();return _w(null===e||"string"==typeof e),new JT(e)},e}(),gx=function(){function e(e,t){this._c=e,this.mc=t,this.type="FirstParty",this.user=JT.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.mc},t=this._c.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),_x=function(){function e(e,t){this._c=e,this.mc=t}return e.prototype.getToken=function(){return Promise.resolve(new gx(this._c,this.mc))},e.prototype.setChangeListener=function(e){e(JT.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function bx(e,t,n){if(!n)throw new Nw(Pw.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function wx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function kx(e,t,n,r){if(!0===t&&!0===r)throw new Nw(Pw.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Cx(e){if(!Lw.isDocumentKey(e))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Sx(e){if(Lw.isDocumentKey(e))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ex(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":gw()}function Tx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nw(Pw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ex(e);throw new Nw(Pw.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Ox(e,t){if(t<=0)throw new Nw(Pw.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ix=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nw(Pw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nw(Pw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),xx=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new Ix({}),this._settingsFrozen=!1,e instanceof dx?(this._databaseId=e,this._credentials=new yx):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nw(Pw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dx(e.options.projectId)}(e),this._credentials=new mx(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Nw(Pw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Nw(Pw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ix(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new yx;switch(e.type){case"gapi":var t=e.client;return _w(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new _x(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Nw(Pw.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=px.get(this))&&(pw("ComponentProvider","Removing Datastore"),px.delete(this),e.terminate()),Promise.resolve();var e},e}(),Ax=function(e){this._delegate=e},Dx=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Nx(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Px=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Nx=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Dk(r))||this).firestore=t,i._path=r,i.type="collection",i}return sw(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dx(this.firestore,null,new Lw(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Px);function Rx(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Ax&&(e=e._delegate),bx("collection","path",t),e instanceof xx)return Sx(n=jw.fromString.apply(jw,lw([t],r))),new Nx(e,null,n);if(!(e instanceof Dx||e instanceof Nx))throw new Nw(Pw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sx(n=jw.fromString.apply(jw,lw([e.path],r)).child(jw.fromString(t))),new Nx(e.firestore,null,n)}function jx(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Ax&&(e=e._delegate),1===arguments.length&&(t=kw.u()),bx("doc","path",t),e instanceof xx)return Cx(n=jw.fromString.apply(jw,lw([t],r))),new Dx(e,null,new Lw(n));if(!(e instanceof Dx||e instanceof Nx))throw new Nw(Pw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cx(n=e._path.child(jw.fromString.apply(jw,lw([t],r)))),new Dx(e.firestore,e instanceof Nx?e._converter:null,new Lw(n))}function Fx(e,t){return e instanceof Ax&&(e=e._delegate),t instanceof Ax&&(t=t._delegate),(e instanceof Dx||e instanceof Nx)&&(t instanceof Dx||t instanceof Nx)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Mx(e,t){return e instanceof Ax&&(e=e._delegate),t instanceof Ax&&(t=t._delegate),e instanceof Px&&t instanceof Px&&e.firestore===t.firestore&&Uk(e._query,t._query)&&e._converter===t._converter}var Lx=function(){function e(){var e=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new mO(this,"async_queue_retry"),this.bc=function(){var t=vO();t&&pw("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.Zi()};var t=vO();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.vc(),this.Pc(e)},e.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var e=vO();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}},e.prototype.enqueue=function(e){return this.vc(),this.Ec?new Promise((function(e){})):this.Pc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))},e.prototype.Vc=function(){return uw(this,void 0,void 0,(function(){var e,t=this;return cw(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!dE(e=n.sent()))throw e;return pw("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return t.Vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Pc=function(e){var t=this,n=this.yc.then((function(){return t.Ac=!0,e().catch((function(e){throw t.Ic=e,t.Ac=!1,vw("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Ac=!1,e}))}));return this.yc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.vc(),this.Rc.indexOf(e)>-1&&(t=0);var i=YO.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i},e.prototype.vc=function(){this.Ic&&gw()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Dc=function(){return uw(this,void 0,void 0,(function(){var e;return cw(this,(function(t){switch(t.label){case 0:return[4,e=this.yc];case 1:t.sent(),t.label=2;case 2:if(e!==this.yc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Cc=function(e){for(var t=0,n=this.Tc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.xc=function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Dc()}))},e.prototype.Nc=function(e){this.Rc.push(e)},e.prototype.Sc=function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)},e}();function Vx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new sE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Ux=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new Lx,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return sw(t,e),t.prototype._terminate=function(){return this._firestoreClient||Bx(this),this._firestoreClient.terminate()},t}(xx);function qx(e){return e._firestoreClient||Bx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bx(e){var t=e._freezeSettings(),n=function(e,t,n){return new fx(e,t,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(e._databaseId,e._persistenceKey,t);e._firestoreClient=new ex(e._credentials,e._queue,n)}function zx(e,t,n){var r=this,i=new sE;return e.asyncQueue.enqueue((function(){return uw(r,void 0,void 0,(function(){var r;return cw(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,tx(e,n)];case 1:return o.sent(),[4,nx(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Pw.FAILED_PRECONDITION||e.code===Pw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Hx(e){if(e._initialized||e._terminated)throw new Nw(Pw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Gx=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mw(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Wx=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Vw.fromBase64String(t))}catch(t){throw new Nw(Pw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Vw.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Kx=function(e){this._methodName=e},Qx=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nw(Pw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nw(Pw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Cw(this._lat,e._lat)||Cw(this._long,e._long)},e}(),Yx=/^__.*__$/,Xx=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new CC(e,this.data,this.fieldMask,t,this.fieldTransforms):new kC(e,this.data,t,this.fieldTransforms)},e}(),Zx=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new CC(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Jx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gw()}}var $x=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),e.prototype.Oc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.Lc(e),r},e.prototype.Bc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.$c(),r},e.prototype.qc=function(e){return this.Oc({path:void 0,Mc:!0})},e.prototype.Uc=function(e){return _A(e,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.$c=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))},e.prototype.Lc=function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(Jx(this.Fc)&&Yx.test(e))throw this.Uc('Document fields cannot begin and end with "__"')},e}(),eA=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.D=n||yO(e)}return e.prototype.Wc=function(e,t,n,r){return void 0===r&&(r=!1),new $x({Fc:e,methodName:t,Kc:n,path:Mw.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},e}();function tA(e){var t=e._freezeSettings(),n=yO(e._databaseId);return new eA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nA(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Wc(o.merge||o.mergeFields?2:0,t,n,i);vA("Data must be an object, but it was:",a,r);var s,u,c=dA(r,a);if(o.merge)s=new Kk(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=yA(t,f[h],n);if(!a.contains(d))throw new Nw(Pw.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");bA(l,d)||l.push(d)}s=new Kk(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Xx(new Qk(c),s,u)}var rA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Fc)throw e.Uc(1===e.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Kx);function iA(e,t,n){return new $x({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var oA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype._toFieldTransform=function(e){return new fC(e.path,new iC)},t.prototype.isEqual=function(e){return e instanceof t},t}(Kx),aA=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return sw(t,e),t.prototype._toFieldTransform=function(e){var t=iA(this,e,!0),n=this.jc.map((function(e){return fA(e,t)})),r=new oC(n);return new fC(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Kx),sA=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return sw(t,e),t.prototype._toFieldTransform=function(e){var t=iA(this,e,!0),n=this.jc.map((function(e){return fA(e,t)})),r=new sC(n);return new fC(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Kx),uA=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Gc=n,r}return sw(t,e),t.prototype._toFieldTransform=function(e){var t=new cC(e.D,$k(e.D,this.Gc));return new fC(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Kx);function cA(e,t,n,r){var i=e.Wc(1,t,n);vA("Data must be an object, but it was:",i,r);var o=[],a=new Yk;Ow(r,(function(e,r){var s=gA(t,e,n);r instanceof Ax&&(r=r._delegate);var u=i.Bc(s);if(r instanceof rA)o.push(s);else{var c=fA(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Kk(o);return new Zx(a.v(),s,i.fieldTransforms)}function lA(e,t,n,r,i,o){var a=e.Wc(1,t,n),s=[yA(t,r,n)],u=[i];if(o.length%2!=0)throw new Nw(Pw.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(yA(t,o[c])),u.push(o[c+1]);for(var l=[],h=new Yk,f=s.length-1;f>=0;--f)if(!bA(l,s[f])){var d=s[f],p=u[f];p instanceof Ax&&(p=p._delegate);var v=a.Bc(d);if(p instanceof rA)l.push(d);else{var y=fA(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new Kk(l);return new Zx(h.v(),m,a.fieldTransforms)}function hA(e,t,n,r){return void 0===r&&(r=!1),fA(n,e.Wc(r?4:3,t))}function fA(e,t){if(e instanceof Ax&&(e=e._delegate),pA(e))return vA("Unsupported field value:",t,e),dA(e,t);if(e instanceof Kx)return function(e,t){if(!Jx(t.Fc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&4!==t.Fc)throw t.Uc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=fA(o[i],t.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof Ax&&(e=e._delegate),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $k(t.D,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hw.fromDate(e);return{timestampValue:cS(t.D,n)}}if(e instanceof Hw)return n=new Hw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:cS(t.D,n)};if(e instanceof Qx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wx)return{bytesValue:lS(t.D,e._byteString)};if(e instanceof Dx){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:dS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+Ex(e))}(e,t)}function dA(e,t){var n={};return Iw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ow(e,(function(e,r){var i=fA(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hw||e instanceof Qx||e instanceof Wx||e instanceof Dx||e instanceof Kx)}function vA(e,t,n){if(!pA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ex(n);throw t.Uc("an object"===r?e+" a custom object":e+" "+r)}}function yA(e,t,n){if(t instanceof Ax&&(t=t._delegate),t instanceof Gx)return t._internalPath;if("string"==typeof t)return gA(e,t);throw _A("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var mA=new RegExp("[~\\*/\\[\\]]");function gA(e,t,n){if(t.search(mA)>=0)throw _A("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Gx.bind.apply(Gx,lw([void 0],t.split(".")))))._internalPath}catch(r){throw _A("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function _A(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Nw(Pw.INVALID_ARGUMENT,(s+=". ")+e+u)}function bA(e,t){return e.some((function(e){return e.isEqual(t)}))}var wA=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dx(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new kA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data().field(CA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),kA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(wA);function CA(e,t){return"string"==typeof t?gA(e,t):t instanceof Ax?t._delegate._internalPath:t._internalPath}var SA=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),EA=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return sw(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new TA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data().field(CA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(wA),TA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(EA),OA=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new SA(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new TA(n._firestore,n._userDataWriter,r.key,r,new SA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nw(Pw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new TA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new TA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:IA(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function IA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gw()}}function xA(e,t){return e instanceof EA&&t instanceof EA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof OA&&t instanceof OA&&e._firestore===t._firestore&&Mx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function AA(e){if(Nk(e)&&0===e.explicitOrderBy.length)throw new Nw(Pw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DA=function(){};function PA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var NA=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).zc=t,i.Hc=n,i.Jc=r,i.type="where",i}return sw(t,e),t.prototype._apply=function(e){var t=tA(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){UA(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(VA(r,e,l[c]));s={arrayValue:{values:u}}}else s=VA(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||UA(a,o),s=hA(n,"where",a,"in"===o||"not-in"===o);var h=pk.create(i,o,s);return function(e,t){if(t.g()){var n=jk(e);if(null!==n&&!n.isEqual(t.field))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Rk(e);null!==r&&qA(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Nw(Pw.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Px(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new xk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(DA),RA=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).zc=t,r.Yc=n,r.type="orderBy",r}return sw(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ek(t,n);return function(e,t){if(null===Rk(e)){var n=jk(e);null!==n&&qA(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Px(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(DA),jA=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return sw(t,e),t.prototype._apply=function(e){return new Px(e.firestore,e._converter,Vk(e._query,this.Xc,this.Zc))},t}(DA),FA=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return sw(t,e),t.prototype._apply=function(e){var t=LA(e,this.type,this.ta,this.ea);return new Px(e.firestore,e._converter,function(e,t){return new xk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(DA),MA=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return sw(t,e),t.prototype._apply=function(e){var t=LA(e,this.type,this.ta,this.ea);return new Px(e.firestore,e._converter,function(e,t){return new xk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(DA);function LA(e,t,n,r){if(n[0]instanceof Ax&&(n[0]=n[0]._delegate),n[0]instanceof wA)return function(e,t,n,r,i){if(!r)throw new Nw(Pw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Mk(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push($w(t,r.key));else{var c=r.field(u.field);if(Gw(c))throw new Nw(Pw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ck(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=tA(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Nw(Pw.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Fk(e)&&-1!==c.indexOf("/"))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(jw.fromString(c));if(!Lw.isDocumentKey(l))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Lw(l);s.push($w(t,h))}else{var f=hA(n,r,c);s.push(f)}}return new Ck(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function VA(e,t,n){if(n instanceof Ax&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fk(t)&&-1!==n.indexOf("/"))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(jw.fromString(n));if(!Lw.isDocumentKey(r))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $w(e,new Lw(r))}if(n instanceof Dx)return $w(e,n._key);throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ex(n)+".")}function UA(e,t){if(!Array.isArray(e)||0===e.length)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function qA(e,t,n){if(!n.isEqual(t))throw new Nw(Pw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var BA=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Kw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gw()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Ow(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Qx(Bw(e.latitude),Bw(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Gw(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ww(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=qw(e);return new Hw(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=jw.fromString(e);_w(MS(n));var r=new dx(n.get(1),n.get(3)),i=new Lw(n.popFirst(5));return r.isEqual(t)||vw("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function zA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var HA=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return sw(t,e),t.prototype.convertBytes=function(e){return new Wx(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dx(this.firestore,null,t)},t}(BA),GA=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tA(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=WA(e,this._firestore),i=zA(r._converter,t,n),o=nA(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,pC.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=WA(e,this._firestore);return t instanceof Ax&&(t=t._delegate),o="string"==typeof t||t instanceof Gx?lA(this._dataReader,"WriteBatch.update",a._key,t,n,r):cA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,pC.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=WA(e,this._firestore);return this._mutations=this._mutations.concat(new AC(t._key,pC.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Nw(Pw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function WA(e,t){if(e instanceof Ax&&(e=e._delegate),e.firestore!==t)throw new Nw(Pw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var KA=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return sw(t,e),t.prototype.convertBytes=function(e){return new Wx(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dx(this.firestore,null,t)},t}(BA);function QA(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Tx(e,Dx);var o=Tx(e.firestore,Ux),a=tA(o);return t instanceof Ax&&(t=t._delegate),XA(o,[("string"==typeof t||t instanceof Gx?lA(a,"updateDoc",e._key,t,n,r):cA(a,"updateDoc",e._key,t)).toMutation(e._key,pC.exists(!0))])}function YA(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e instanceof Ax&&(e=e._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Vx(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Vx(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Dx)c=Tx(e.firestore,Ux),l=Dk(e._key.path),u={next:function(t){i[s]&&i[s](ZA(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Tx(e,Px);c=Tx(d.firestore,Ux),l=d._query;var p=new KA(c);u={next:function(e){i[s]&&i[s](new OA(c,p,d,e))},error:i[s+1],complete:i[s+2]},AA(e._query)}return function(e,t,n,r){var i=this,o=new ZI(r),a=new sI(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return uw(i,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return t=nI,[4,cx(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),e.asyncQueue.enqueueAndForget((function(){return uw(i,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return t=rI,[4,cx(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(qx(c),l,h,u)}function XA(e,t){return function(e,t){var n=this,r=new sE;return e.asyncQueue.enqueueAndForget((function(){return uw(n,void 0,void 0,(function(){var n;return cw(this,(function(i){switch(i.label){case 0:return n=_I,[4,ux(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(qx(e),t)}function ZA(e,t,n){var r=n.docs.get(t._key),i=new KA(e);return new EA(e,i,t._key,r,new SA(n.hasPendingWrites,n.fromCache),t._converter)}var JA=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return sw(t,e),t.prototype.get=function(t){var n=this,r=WA(t,this._firestore),i=new KA(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new EA(n._firestore,i,r._key,e._document,new SA(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=tA(e)}return e.prototype.get=function(e){var t=this,n=WA(e,this._firestore),r=new HA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return gw();var i=e[0];if(i instanceof sk)return new wA(t._firestore,r,n._key,null,n._converter);if(i instanceof ak)return new wA(t._firestore,r,i.key,i,n._converter);throw gw()}))},e.prototype.set=function(e,t,n){var r=WA(e,this._firestore),i=zA(r._converter,t,n),o=nA(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=WA(e,this._firestore);return t instanceof Ax&&(t=t._delegate),o="string"==typeof t||t instanceof Gx?lA(this._dataReader,"Transaction.update",a._key,t,n,r):cA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=WA(e,this._firestore);return this._transaction.delete(t._key),this},e}());function $A(){if("undefined"==typeof Uint8Array)throw new Nw(Pw.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function eD(){if("undefined"==typeof atob)throw new Nw(Pw.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.fromBase64String=function(e){return eD(),new t(Wx.fromBase64String(e))},t.fromUint8Array=function(e){return $A(),new t(Wx.fromUint8Array(e))},t.prototype.toBase64=function(){return eD(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return $A(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Ax),nD=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Hx(e=Tx(e,Ux));var n=qx(e),r=e._freezeSettings(),i=new XI;return zx(n,i,new QI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Hx(e=Tx(e,Ux));var t=qx(e),n=e._freezeSettings(),r=new XI;return zx(t,r,new YI(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Nw(Pw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sE;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return uw(t,void 0,void 0,(function(){var t;return cw(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return uw(this,void 0,void 0,(function(){return cw(this,(function(t){switch(t.label){case 0:return lE.At()?[4,lE.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(wT(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),rD=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof dx||(i.sa=t),i}return sw(t,e),Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=Tx(e,xx))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&yw("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return uw(t,void 0,void 0,(function(){var t,n;return cw(this,(function(r){switch(r.label){case 0:return[4,ox(e)];case 1:return t=r.sent(),[4,sx(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=bw(e);return t.Qr.delete(0),SO(t)}(n))]}}))}))}))}(qx(Tx(this._delegate,Ux)))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return uw(t,void 0,void 0,(function(){var t,n;return cw(this,(function(r){switch(r.label){case 0:return[4,ox(e)];case 1:return t=r.sent(),[4,sx(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return uw(this,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return(t=bw(e)).Qr.add(0),[4,EO(t)];case 1:return n.sent(),t.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(qx(Tx(this._delegate,Ux)))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&kx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new sE;return e.asyncQueue.enqueueAndForget((function(){return uw(t,void 0,void 0,(function(){var t;return cw(this,(function(r){switch(r.label){case 0:return t=EI,[4,ux(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(qx(Tx(this._delegate,Ux)))},t.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new ZI(t);return e.asyncQueue.enqueueAndForget((function(){return uw(n,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return t=function(e,t){bw(e).Zr.add(t),t.next()},[4,cx(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),e.asyncQueue.enqueueAndForget((function(){return uw(n,void 0,void 0,(function(){var t;return cw(this,(function(n){switch(n.label){case 0:return t=function(e,t){bw(e).Zr.delete(t)},[4,cx(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(qx(e=Tx(e,Ux)),Vx(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.sa)throw new Nw(Pw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new mD(this,Rx(this._delegate,e))}catch(e){throw cD(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new uD(this,jx(this._delegate,e))}catch(e){throw cD(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new pD(this,function(e,t){if(e=Tx(e,xx),bx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Px(e,null,function(e){return new xk(jw.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw cD(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new sE;return e.asyncQueue.enqueueAndForget((function(){return uw(n,void 0,void 0,(function(){var n;return cw(this,(function(i){switch(i.label){case 0:return[4,function(e){return ix(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new $I(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(qx(e),(function(n){return t(new JA(e,n))}))}(this._delegate,(function(n){return e(new oD(t,n))}))},t.prototype.batch=function(){var e=this;return qx(this._delegate),new aD(new GA(this._delegate,(function(t){return XA(e._delegate,t)})))},t.prototype.loadBundle=function(e){throw new Nw(Pw.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Nw(Pw.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(Ax),iD=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return sw(t,e),t.prototype.convertBytes=function(e){return new tD(new Wx(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return uD.ia(t,this.firestore,null)},t}(BA),oD=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r._userDataWriter=new iD(t),r}return sw(t,e),t.prototype.get=function(e){var t=this,n=gD(e);return this._delegate.get(n).then((function(e){return new fD(t._firestore,new EA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},t.prototype.set=function(e,t,n){var r=gD(e);return n?(wx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=gD(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,lw([a,t,n],i)),this},t.prototype.delete=function(e){var t=gD(e);return this._delegate.delete(t),this},t}(Ax),aD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype.set=function(e,t,n){var r=gD(e);return n?(wx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=gD(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,lw([a,t,n],i)),this},t.prototype.delete=function(e){var t=gD(e);return this._delegate.delete(t),this},t.prototype.commit=function(){return this._delegate.commit()},t}(Ax),sD=function(e){function t(t,n,r){var i=this;return(i=e.call(this,r)||this)._firestore=t,i._userDataWriter=n,i}return sw(t,e),t.prototype.fromFirestore=function(e,t){var n=new TA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dD(this._firestore,n),null!=t?t:{})},t.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},t.ra=function(e,n){var r=t.oa,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new iD(e),n),i.set(n,o)),o},t}(Ax);sD.oa=new WeakMap;var uD=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new iD(t),r}return sw(t,e),t.ca=function(e,n,r){if(e.length%2!=0)throw new Nw(Pw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Dx(n._delegate,r,new Lw(e)))},t.ia=function(e,n,r){return new t(n,new Dx(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mD(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new mD(this.firestore,Rx(this._delegate,e))}catch(e){throw cD(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return e instanceof Ax&&(e=e._delegate),e instanceof Dx&&Fx(this._delegate,e)},t.prototype.set=function(e,t){t=wx("DocumentReference.set",t);try{return function(e,t,n){e=Tx(e,Dx);var r=Tx(e.firestore,Ux),i=zA(e._converter,t,n);return XA(r,[nA(tA(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,pC.none())])}(this._delegate,e,t)}catch(e){throw cD(e,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?QA(this._delegate,e):QA.apply(void 0,lw([this._delegate,e,t],n))}catch(e){throw cD(e,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return XA(Tx((e=this._delegate).firestore,Ux),[new AC(e._key,pC.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=lD(t),i=hD(t,(function(t){return new fD(e.firestore,new EA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return YA(this._delegate,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Tx(e,Dx);var t=Tx(e.firestore,Ux),n=qx(t),r=new KA(t);return function(e,t){var n=this,r=new sE;return e.asyncQueue.enqueueAndForget((function(){return uw(n,void 0,void 0,(function(){var n;return cw(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return uw(this,void 0,void 0,(function(){var r,i;return cw(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=bw(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Kn.In(e,t)}))}(e,t)];case 1:return(i=o.sent())instanceof ak?n.resolve(i):i instanceof sk?n.resolve(null):n.reject(new Nw(Pw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=XO(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ax(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new EA(t,r,e._key,n,new SA(n instanceof ak&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Tx(e,Dx);var t=Tx(e.firestore,Ux);return lx(qx(t),e._key,{source:"server"}).then((function(n){return ZA(t,e,n)}))}(this._delegate):function(e){e=Tx(e,Dx);var t=Tx(e.firestore,Ux);return lx(qx(t),e._key).then((function(n){return ZA(t,e,n)}))}(this._delegate)).then((function(e){return new fD(t.firestore,new EA(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?sD.ra(this.firestore,e):null))},t}(Ax);function cD(e,t,n){return e.message=e.message.replace(t,n),e}function lD(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Vx(r))return r}return{}}function hD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Vx(e[0])?e[0]:Vx(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fD=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return sw(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new uD(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,t){return this._delegate.get(e,t)},t.prototype.isEqual=function(e){return xA(this._delegate,e._delegate)},t}(Ax),dD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(fD),pD=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new iD(t),r}return sw(t,e),t.prototype.where=function(e,n,r){try{return new t(this.firestore,PA(this._delegate,function(e,t,n){var r=t,i=CA("where",e);return new NA(i,r,n)}(e,n,r)))}catch(e){throw cD(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,PA(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=CA("orderBy",e);return new RA(r,n)}(e,n)))}catch(e){throw cD(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,PA(this._delegate,function(e){return Ox("limit",e),new jA("limit",e,"F")}(e)))}catch(e){throw cD(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,PA(this._delegate,function(e){return Ox("limitToLast",e),new jA("limitToLast",e,"L")}(e)))}catch(e){throw cD(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PA(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new FA("startAt",e,!0)}).apply(void 0,e)))}catch(e){throw cD(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PA(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new FA("startAfter",e,!1)}).apply(void 0,e)))}catch(e){throw cD(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PA(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new MA("endBefore",e,!0)}).apply(void 0,e)))}catch(e){throw cD(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PA(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new MA("endAt",e,!1)}).apply(void 0,e)))}catch(e){throw cD(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Mx(this._delegate,e._delegate)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Tx(e,Px);var t=Tx(e.firestore,Ux),n=qx(t),r=new KA(t);return function(e,t){var n=this,r=new sE;return e.asyncQueue.enqueueAndForget((function(){return uw(n,void 0,void 0,(function(){var n;return cw(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return uw(this,void 0,void 0,(function(){var r,i,o,a,s;return cw(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,FT(e,t,!0)];case 1:return s=u.sent(),r=new fI(t,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=XO(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,ax(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new OA(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Tx(e,Px);var t=Tx(e.firestore,Ux),n=qx(t),r=new KA(t);return hx(n,e._query,{source:"server"}).then((function(n){return new OA(t,r,e,n)}))}(this._delegate):function(e){e=Tx(e,Px);var t=Tx(e.firestore,Ux),n=qx(t),r=new KA(t);return AA(e._query),hx(n,e._query).then((function(n){return new OA(t,r,e,n)}))}(this._delegate)).then((function(e){return new yD(t.firestore,new OA(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=lD(t),i=hD(t,(function(t){return new yD(e.firestore,new OA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return YA(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?sD.ra(this.firestore,e):null))},t}(Ax),vD=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return sw(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new dD(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(Ax),yD=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return sw(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new pD(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new dD(e._firestore,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new vD(t._firestore,e)}))},t.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new dD(n._firestore,r))}))},t.prototype.isEqual=function(e){return xA(this._delegate,e._delegate)},t}(Ax),mD=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return sw(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new uD(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new uD(this.firestore,void 0===e?jx(this._delegate):jx(this._delegate,e))}catch(e){throw cD(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Tx(e.firestore,Ux),r=jx(e),i=zA(e._converter,t);return XA(n,[nA(tA(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,pC.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new uD(t.firestore,e)}))},t.prototype.isEqual=function(e){return Fx(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?sD.ra(this.firestore,e):null))},t}(pD);function gD(e){return e instanceof Ax&&(e=e._delegate),Tx(e,Dx)}var _D,bD=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(Gx.bind.apply(Gx,lw([void 0],t))))||this}return sw(t,e),t.documentId=function(){return new t(Mw.keyField().canonicalString())},t.prototype.isEqual=function(e){return e instanceof Ax&&(e=e._delegate),e instanceof Gx&&this._delegate._internalPath.isEqual(e._internalPath)},t}(Ax),wD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sw(t,e),t.serverTimestamp=function(){var e=new oA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new rA("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new aA("arrayUnion",e)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sA("arrayRemove",e)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(e){return new uA("increment",e)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(Ax),kD=n("/6Yf"),CD={Firestore:rD,GeoPoint:Qx,Timestamp:Hw,Blob:tD,Transaction:oD,WriteBatch:aD,DocumentReference:uD,DocumentSnapshot:fD,Query:pD,QueryDocumentSnapshot:dD,QuerySnapshot:yD,CollectionReference:mD,FieldPath:bD,FieldValue:wD,setLogLevel:function(e){fw.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function SD(e,t){return t?hn((function(){return e}),t):hn((function(){return e}))}(function(e,t){e.INTERNAL.registerComponent(new kD.a("firestore",(function(e){return function(e,t){return new rD(e,new Ux(e,t),new nD)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},CD)))})(_D=im.a),_D.registerVersion("@firebase/firestore","2.2.1");var ED,TD=n("tf+s"),OD=new r.q("angularfire2.auth.use-emulator"),ID=new r.q("angularfire2.auth.settings"),xD=new r.q("angularfire2.auth.tenant-id"),AD=new r.q("angularfire2.auth.langugage-code"),DD=new r.q("angularfire2.auth.use-device-language"),PD=new r.q("angularfire.auth.persistence"),ND=((ED=function e(t,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e);var f=new rm.d(o),d=Object(rm.h)(f),p=new Ot.a,v=Object(It.a)(void 0).pipe(Object(yn.b)(f.outsideAngular),hn((function(){return o.runOutsideAngular((function(){return n.e(5).then(n.bind(null,"6nsN"))}))})),Object(Pt.a)((function(){return Object(rm.g)(t,o,r)})),Object(Pt.a)((function(e){return o.runOutsideAngular((function(){var t=a,n=s;return Object(rm.f)(e.name+".auth","AngularFireAuth",e,(function(){var r=o.runOutsideAngular((function(){return e.auth()}));return t&&r.useEmulator("http://"+t.join(":")),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r}),[t,u,c,l,n,h])}))})),wn({bufferSize:1,refCount:!1}));if(Ne(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(It.a)(null);else{v.pipe(fi()).subscribe();var y=v.pipe(hn((function(e){return e.getRedirectResult().then((function(e){return e}),(function(){return null}))})),d,wn({bufferSize:1,refCount:!1})),m=function(e){return new xt.a((function(t){return{unsubscribe:o.runOutsideAngular((function(){return e(t)}))}}))},g=v.pipe(hn((function(e){return m(e.onAuthStateChanged.bind(e))}))),_=v.pipe(hn((function(e){return m(e.onIdTokenChanged.bind(e))})));this.authState=y.pipe(SD(g),Object(TD.a)(f.outsideAngular),Object(yn.b)(f.insideAngular)),this.user=y.pipe(SD(_),Object(TD.a)(f.outsideAngular),Object(yn.b)(f.insideAngular)),this.idToken=this.user.pipe(hn((function(e){return e?Object(ln.a)(e.getIdToken()):Object(It.a)(null)}))),this.idTokenResult=this.user.pipe(hn((function(e){return e?Object(ln.a)(e.getIdTokenResult()):Object(It.a)(null)}))),this.credential=Object(Rt.a)(y,p,this.authState.pipe(Yt((function(e){return!e})))).pipe(Object(Pt.a)((function(e){return(null==e?void 0:e.user)?e:null})),Object(TD.a)(f.outsideAngular),Object(yn.b)(f.insideAngular))}return Object(rm.i)(this,v,o,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then((function(e){return p.next(e)}))}}})}).\u0275fac=function(e){return new(e||ED)(r.Xb(rm.c),r.Xb(rm.b,8),r.Xb(r.B),r.Xb(r.z),r.Xb(OD,8),r.Xb(ID,8),r.Xb(xD,8),r.Xb(AD,8),r.Xb(DD,8),r.Xb(PD,8))},ED.\u0275prov=Object(r.Kb)({factory:function(){return new ED(Object(r.Xb)(rm.c),Object(r.Xb)(rm.b,8),Object(r.Xb)(r.B),Object(r.Xb)(r.z),Object(r.Xb)(OD,8),Object(r.Xb)(ID,8),Object(r.Xb)(xD,8),Object(r.Xb)(AD,8),Object(r.Xb)(DD,8),Object(r.Xb)(PD,8))},token:ED,providedIn:"any"}),ED);function RD(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut.a;return new xt.a((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot({includeMetadataChanges:!0},n)})):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(e,t)}function jD(e,t){return RD(e,t).pipe(Object(Pt.a)((function(e){return{payload:e,type:"query"}})))}function FD(e,t){return jD(e,t).pipe(on(void 0),an(),Object(Pt.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=r.payload.docChanges(),o=i.map((function(e){return{type:e.type,payload:e}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(e,t){var r=i.find((function(t){return t.doc.ref.isEqual(e.ref)})),a=null==n?void 0:n.payload.docs.find((function(t){return t.ref.isEqual(e.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(e.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(e.metadata)||o.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})})),o})))}function MD(e,t,n){return FD(e,n).pipe(yi((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return LD(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return LD(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return LD(e,t.oldIndex,1)}return e}(e,t))})),e}(e,n.map((function(e){return e.payload})),t)}),[]),Mt(),Object(Pt.a)((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function LD(e,t,n){for(var r=e.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[t,n].concat(o)),r}function VD(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var UD=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){var t=FD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Object(Pt.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})))),t.pipe(on(void 0),an(),Yt((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1].length>0||!n})),Object(Pt.a)((function(e){var t=_slicedToArray(e,2);t[0];return t[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(yi((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=VD(e);return MD(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jD(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(ln.a)(this.query.get(e)).pipe(Object(yn.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new qD(this.ref.doc(e),this.afs)}}]),e}(),qD=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=KD(this.ref.collection(e),t),r=n.ref,i=n.query;return new UD(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return RD(this.ref,this.afs.schedulers.outsideAngular).pipe(on(void 0),an(),Object(Pt.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Pt.a)((function(t){var n=t.payload;return e.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},e.idField,n.id)):n.data()})))}},{key:"get",value:function(e){return Object(ln.a)(this.ref.get(e)).pipe(Object(yn.b)(this.afs.schedulers.insideAngular))}}]),e}(),BD=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?FD(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Yt((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):FD(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(yi((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=VD(e);return MD(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jD(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(_defineProperty({},e.idField,t.id),t.data()):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(ln.a)(this.query.get(e)).pipe(Object(yn.b)(this.afs.schedulers.insideAngular))}}]),e}(),zD=new r.q("angularfire2.enableFirestorePersistence"),HD=new r.q("angularfire2.firestore.persistenceSettings"),GD=new r.q("angularfire2.firestore.settings"),WD=new r.q("angularfire2.firestore.use-emulator");function KD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var QD,YD,XD,ZD,JD,$D,eP,tP=((ZD=function(){function e(t,n,r,i,o,a,s,u,c){_classCallCheck(this,e),this.schedulers=new rm.d(a),this.keepUnstableUntilFirst=Object(rm.h)(this.schedulers);var l=Object(rm.g)(t,a,n);!nm.a.auth&&c&&Object(rm.j)();var h=u,f=_slicedToArray(Object(rm.f)(l.name+".firestore","AngularFirestore",l,(function(){var e=a.runOutsideAngular((function(){return l.firestore()}));return i&&e.settings(i),h&&e.useEmulator.apply(e,_toConsumableArray(h)),r&&!Ne(o)?[e,a.runOutsideAngular((function(){try{return Object(ln.a)(e.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(_D){return"undefined"!=typeof console&&console.warn(_D),Object(It.a)(!1)}}))]:[e,Object(It.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(e,[{key:"collection",value:function(e,t){var n=KD("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new UD(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new BD(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new qD(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275fac=function(e){return new(e||ZD)(r.Xb(rm.c),r.Xb(rm.b,8),r.Xb(zD,8),r.Xb(GD,8),r.Xb(r.B),r.Xb(r.z),r.Xb(HD,8),r.Xb(WD,8),r.Xb(OD,8))},ZD.\u0275prov=Object(r.Kb)({factory:function(){return new ZD(Object(r.Xb)(rm.c),Object(r.Xb)(rm.b,8),Object(r.Xb)(zD,8),Object(r.Xb)(GD,8),Object(r.Xb)(r.B),Object(r.Xb)(r.z),Object(r.Xb)(HD,8),Object(r.Xb)(WD,8),Object(r.Xb)(OD,8))},token:ZD,providedIn:"any"}),ZD),nP=((XD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:zD,useValue:!0},{provide:HD,useValue:t}]}}}]),e}()).\u0275mod=r.Mb({type:XD}),XD.\u0275inj=r.Lb({factory:function(e){return new(e||XD)},providers:[tP]}),XD),rP=((YD=function(){function e(t){_classCallCheck(this,e),this.fireService=t,this.collectionName="users"}return _createClass(e,[{key:"createUser",value:function(e,t){t.uid=e,this.fireService.collection(this.collectionName).doc(e).set(Object.assign({},t))}}]),e}()).\u0275fac=function(e){return new(e||YD)(r.Xb(tP))},YD.\u0275prov=r.Kb({token:YD,factory:YD.\u0275fac,providedIn:"root"}),YD),iP=((QD=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.firebaseAuth=t,this.fireService=n,this.userService=r,this.router=i,this.user$=this.firebaseAuth.authState.pipe(hn((function(e){return e?(o.userId=e.uid,o.fireService.doc("users/"+e.uid).valueChanges()):(o.userId=null,Object(It.a)(null))})))}return _createClass(e,[{key:"signIn",value:function(e,t){var n=this;return new Promise((function(r,i){n.firebaseAuth.signInWithEmailAndPassword(e,t).then((function(e){return r(e)}),(function(e){return i(e)}))}))}},{key:"singUp",value:function(e,t){var n=this;return new Promise((function(r,i){n.firebaseAuth.createUserWithEmailAndPassword(e.email,t).then((function(t){Object.assign(e,{dateCreated:new Date}),n.userService.createUser(t.user.uid,e),r(t)}),(function(e){return i(e)}))}))}},{key:"signOut",value:function(){var e=this;return new Promise((function(t,n){e.firebaseAuth.signOut().then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}}]),e}()).\u0275fac=function(e){return new(e||QD)(r.Xb(ND),r.Xb(tP),r.Xb(rP),r.Xb(za))},QD.\u0275prov=r.Kb({token:QD,factory:QD.\u0275fac,providedIn:"root"}),QD),oP=nm.a.firestore.Timestamp,aP=((JD=function(){function e(t,n){_classCallCheck(this,e),this.fireService=t,this.authService=n,this.collectionName="tasks"}return _createClass(e,[{key:"createTask",value:function(e){return e.uid=this.authService.userId,Object.assign(e,{dateCreated:new Date}),this.fireService.collection(this.collectionName).add(Object.assign({},e))}},{key:"getTask",value:function(e){var t=this;return this.fireService.collection(this.collectionName).doc(e).snapshotChanges().pipe(Object(Pt.a)((function(e){return t.processFirestoreObject(e.payload)})))}},{key:"getTasks",value:function(e){var t=this;return this.fireService.collection(this.collectionName).snapshotChanges().pipe(Object(Pt.a)((function(n){return(n=n.filter((function(n){var r=n.payload.doc.data();return!(r.isDeleted||r.uid!==t.authService.userId||e&&r.taskListId!==e)}))).map((function(e){return t.processFirestoreObject(e.payload.doc)}))})))}},{key:"updateTask",value:function(e,t){var n=t.title,r=t.date,i=t.description,o=new Date;return this.fireService.collection(this.collectionName).doc(e).update({title:n,date:r,description:i,dateUpdated:o})}},{key:"updateTaskStatus",value:function(e,t){var n=t.status,r=new Date;return this.fireService.collection(this.collectionName).doc(e).update({status:n,dateUpdated:r})}},{key:"removeTask",value:function(e){return this.fireService.collection(this.collectionName).doc(e).update({isDeleted:!0})}},{key:"processFirestoreObject",value:function(e){var t=e.data();return Object.keys(t).filter((function(e){return t[e]instanceof oP})).forEach((function(e){return t[e]=t[e].toDate()})),t.identifier=e.id,t}}]),e}()).\u0275fac=function(e){return new(e||JD)(r.Xb(tP),r.Xb(iP))},JD.\u0275prov=r.Kb({token:JD,factory:JD.\u0275fac,providedIn:"root"}),JD),sP=nm.a.firestore.Timestamp,uP=((eP=function(){function e(t,n,r){_classCallCheck(this,e),this.fireService=t,this.authService=n,this.router=r,this.taskListName="taskList",this.taskListIdentifier=new zr("")}return _createClass(e,[{key:"createTaskList",value:function(e){return this.authService.userId||this.router.navigate(["/login"]),e.uid=this.authService.userId,Object.assign(e,{dateCreated:new Date}),this.fireService.collection(this.taskListName).add(Object.assign({},e))}},{key:"getTaskLists",value:function(){var e=this;return this.fireService.collection(this.taskListName).snapshotChanges().pipe(Object(Pt.a)((function(t){return(t=(t=t.filter((function(t){var n=t.payload.doc.data();return!n.isDeleted&&n.uid===e.authService.userId}))).map((function(t){return e.processFirestoreObject(t.payload.doc)}))).sort((function(e,t){return e.dateCreated-t.dateCreated}))})))}},{key:"removeTaskList",value:function(e){return this.fireService.collection(this.taskListName).doc(e).update({isDeleted:!0})}},{key:"processFirestoreObject",value:function(e){var t=e.data();return Object.keys(t).filter((function(e){return t[e]instanceof sP})).forEach((function(e){return t[e]=t[e].toDate()})),t.identifier=e.id,t}}]),e}()).\u0275fac=function(e){return new(e||eP)(r.Xb(tP),r.Xb(iP),r.Xb(za))},eP.\u0275prov=r.Kb({token:eP,factory:eP.\u0275fac,providedIn:"root"}),eP),cP=(($D=function(){function e(t,n){_classCallCheck(this,e),this._overlayService=t,this.parentInjector=n,this.toastsList=[]}return _createClass(e,[{key:"show",value:function(e){var t=this.getPositionStrategy(),n=this._overlayService.create({positionStrategy:t,disposeOnNavigation:!0}),r=new Qy(n),i=this.getInjector(e,r,this.parentInjector),o=new Yn(em,null,i);return n.attach(o),this.toastsList.push(r),r}},{key:"getInjector",value:function(e,t,n){var r=new WeakMap;return r.set(Wy,e),r.set(Qy,t),new nr(n,r)}},{key:"getPositionStrategy",value:function(e){return this._overlayService.position().global().top(e||this.getPosition()).right("20px")}},{key:"getPosition",value:function(){var e,t,n=null===(t=null===(e=this.toastsList)||void 0===e?void 0:e.filter((function(e){return e.isVisible()})))||void 0===t?void 0:t.pop();return(n?null==n?void 0:n.getPosition().bottom:20)+"px"}}]),e}()).\u0275fac=function(e){return new(e||$D)(r.Xb(Ur),r.Xb(r.r))},$D.\u0275prov=r.Kb({token:$D,factory:$D.\u0275fac,providedIn:"root"}),$D);function lP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"div",21),r.Tb(1,"a",22),r.zc(2),r.Sb(),r.Tb(3,"mat-icon",23),r.bc("click",(function(){r.rc(n);var e=t.$implicit;return r.ec(4).removeTaskList(e.identifier)})),r.zc(4,"delete"),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit,o=r.ec(4);r.Fb("active",i.identifier===o.activeListIdentifier),r.Cb(1),r.lc("routerLink","/lists/",i.identifier,""),r.kc("matTooltip",i.title),r.Cb(1),r.Ac(i.title)}}function hP(e,t){if(1&e&&(r.Tb(0,"div",13),r.Tb(1,"div",14),r.Tb(2,"a",15),r.zc(3,"All"),r.Sb(),r.Sb(),r.yc(4,lP,5,5,"div",16),r.Tb(5,"div",17),r.Tb(6,"a",18),r.Tb(7,"span",19),r.zc(8,"add"),r.Sb(),r.Tb(9,"p",20),r.zc(10,"Create New List"),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&e){var n=t.ngIf,i=r.ec(3);r.Cb(1),r.Fb("active",""==i.activeListIdentifier),r.Cb(3),r.kc("ngForOf",n),r.Cb(1),r.Fb("active",null==i.activeListIdentifier)}}function fP(e,t){if(1&e){var n=r.Ub();r.Rb(0),r.yc(1,hP,11,5,"div",6),r.fc(2,"async"),r.Tb(3,"div",7),r.Tb(4,"div",8),r.Tb(5,"a",9),r.bc("click",(function(){return r.rc(n),r.ec(2).singOut()})),r.zc(6,"Logout"),r.Sb(),r.Sb(),r.Tb(7,"div",10),r.Tb(8,"span",11),r.zc(9,"copyright"),r.Sb(),r.Tb(10,"p",12),r.zc(11,"2021 Anand Galla. All rights reserved."),r.Sb(),r.Sb(),r.Sb(),r.Qb()}if(2&e){var i=r.ec(2);r.Cb(1),r.kc("ngIf",r.gc(2,1,i.taskLists$))}}function dP(e,t){1&e&&(r.Rb(0),r.Tb(1,"div",24),r.Tb(2,"div",25),r.Tb(3,"a",26),r.zc(4,"Log In"),r.Sb(),r.Tb(5,"a",27),r.zc(6,"Sign Up"),r.Sb(),r.Sb(),r.Sb(),r.Qb())}function pP(e,t){if(1&e&&(r.Tb(0,"div",1),r.Tb(1,"div",2),r.Tb(2,"a",3),r.Tb(3,"h1",4),r.zc(4,"GalliList"),r.Sb(),r.Sb(),r.Sb(),r.yc(5,fP,12,3,"ng-container",5),r.yc(6,dP,7,0,"ng-container",5),r.Sb()),2&e){var n=r.ec();r.Cb(5),r.kc("ngIf",n.isUserLoggedIn),r.Cb(1),r.kc("ngIf",!n.isUserLoggedIn)}}var vP,yP,mP=((yP=function(){function e(t,n,r,i){_classCallCheck(this,e),this.authService=t,this.taskListService=n,this.notificationService=r,this.router=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.user$.subscribe((function(t){e.isUserLoggedIn=!!t})),this.taskLists$=this.taskListService.getTaskLists(),this.taskListService.taskListIdentifier.subscribe((function(t){return e.activeListIdentifier=t}))}},{key:"removeTaskList",value:function(e){var t=this;confirm("Are you sure you want to delete the selected list?")&&this.taskListService.removeTaskList(e).then((function(){t.activeListIdentifier===e&&t.router.navigate(["/tasks"]),t.notificationService.show({type:"success",message:"Removed task list successfully."})})).catch((function(e){return t.notificationService.show({type:"error",message:e.message})}))}},{key:"singOut",value:function(){var e=this;this.authService.signOut().then((function(){return e.router.navigate(["/login"])})).catch((function(t){return e.notificationService.show({type:"error",message:t.message})}))}}]),e}()).\u0275fac=function(e){return new(e||yP)(r.Ob(iP),r.Ob(uP),r.Ob(cP),r.Ob(za))},yP.\u0275cmp=r.Ib({type:yP,selectors:[["app-nav-bar"]],decls:1,vars:1,consts:[["class","nav-container",4,"ngIf"],[1,"nav-container"],[1,"top-section"],["routerLink","../",1,"cursor-pointer","decorations-none"],[1,"logo"],[4,"ngIf"],["class","middle-section",4,"ngIf"],[1,"bottom-section","d-flex","flex-column"],[1,"mb-20","d-flex","flex-column"],[1,"cursor-pointer",3,"click"],[1,"d-flex","align-items-center"],[1,"material-icons","font-size-16","mr-5"],[1,"font-size-12",2,"margin-bottom","0"],[1,"middle-section"],[1,"mv-15"],["routerLink","/tasks",1,""],["class","d-flex align-items-center justify-content-between mv-15",3,"active",4,"ngFor","ngForOf"],[1,"mt-30"],["routerLink","/new-list",1,"d-flex","align-items-center"],[1,"material-icons","m"],[1,"ml-10","mb-0"],[1,"d-flex","align-items-center","justify-content-between","mv-15"],[1,"text-truncate-1",3,"matTooltip","routerLink"],[1,"delete-icon",3,"click"],[1,"action-section"],[1,"d-flex","flex-column"],["routerLink","/login",1,"cursor-pointer"],["routerLink","/signup",1,"cursor-pointer"]],template:function(e,t){1&e&&r.yc(0,pP,7,2,"div",0),2&e&&r.kc("ngIf",void 0!==t.isUserLoggedIn)},directives:[ve,Ha,de,zy,Py],pipes:[Ae],styles:['.nav-container[_ngcontent-%COMP%]{width:100%;flex-shrink:0;box-shadow:0 1px 2px rgba(0,0,0,.08),0 2px 8px rgba(0,0,0,.05);background:#fff;width:350px!important;border-right:1px solid #ddd;height:100%}.middle-section[_ngcontent-%COMP%], .top-section[_ngcontent-%COMP%]{padding:40px;border-bottom:1px solid #ddd}.middle-section[_ngcontent-%COMP%]{font-size:16px}.middle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color .35s ease;font-weight:700;text-decoration:none;color:#999;cursor:pointer;max-width:240px}.middle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#555}.middle-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]{font-size:16px!important;color:#999}.middle-section[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{position:relative}.middle-section[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#555}.middle-section[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:before{width:4px;height:100%;position:absolute;top:0;left:0;transform:translateX(-10px);content:"";border-radius:8px;background:#4bc18b}.top-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4bc18b;margin-bottom:0;font-size:40px;font-weight:500}.action-section[_ngcontent-%COMP%], .bottom-section[_ngcontent-%COMP%]{padding:40px}.action-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .bottom-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px 0;text-decoration:none;color:inherit;font-size:16px;color:#999;font-weight:700}.decorations-none[_ngcontent-%COMP%]{text-decoration:none}.material-icons[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}']}),yP),gP=((vP=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:vP}),vP.\u0275inj=r.Lb({factory:function(e){return new(e||vP)},imports:[[Pe,us,Ny,Gy]]}),vP),_P=function(e){return e[e.Todo=0]="Todo",e[e.Complete=1]="Complete",e[e.InComplete=2]="InComplete",e}({}),bP=function e(t){_classCallCheck(this,e),Object.assign(this,t),this.status=this.status?this.status:_P.Todo},wP=function e(t){_classCallCheck(this,e),Object.assign(this,t)};function kP(e,t){1&e&&(r.Tb(0,"h2",19),r.zc(1,"CREATE NEW TASK"),r.Sb())}function CP(e,t){1&e&&(r.Tb(0,"h2",19),r.zc(1,"EDIT TASK"),r.Sb())}function SP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",20),r.bc("click",(function(){return r.rc(n),r.ec(2).createTask()})),r.zc(1,"CREATE TASK"),r.Sb()}}function EP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",20),r.bc("click",(function(){return r.rc(n),r.ec(2).updateTask()})),r.zc(1,"SAVE CHANGES"),r.Sb()}}var TP=function(e){return{"main-container p-40":e}};function OP(e,t){if(1&e&&(r.Tb(0,"div",1),r.Tb(1,"div",2),r.yc(2,kP,2,0,"h2",3),r.yc(3,CP,2,0,"h2",3),r.Tb(4,"mat-card",4),r.Tb(5,"div",5),r.Tb(6,"div",6),r.Tb(7,"div",7),r.Tb(8,"mat-label",8),r.zc(9,"Title"),r.Sb(),r.Tb(10,"mat-form-field",9),r.Pb(11,"input",10),r.Sb(),r.Sb(),r.Tb(12,"div",7),r.Tb(13,"mat-label",8),r.zc(14,"Date"),r.Sb(),r.Tb(15,"mat-form-field",9),r.Pb(16,"input",11),r.Pb(17,"mat-datepicker-toggle",12),r.Pb(18,"mat-datepicker",null,13),r.Sb(),r.Sb(),r.Sb(),r.Tb(20,"div",14),r.Tb(21,"div",15),r.Tb(22,"mat-label",8),r.zc(23,"Description"),r.Sb(),r.Tb(24,"mat-form-field",9),r.Pb(25,"input",16),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(26,"div",17),r.yc(27,SP,2,0,"button",18),r.yc(28,EP,2,0,"button",18),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&e){var n=r.pc(19),i=r.ec();r.kc("ngClass",r.mc(10,TP,i.task)),r.Cb(1),r.Fb("mv-40",i.task),r.Cb(1),r.kc("ngIf",!i.task),r.Cb(1),r.kc("ngIf",i.task),r.Cb(2),r.kc("formGroup",i.taskForm),r.Cb(11),r.kc("matDatepicker",n),r.Cb(1),r.kc("for",n),r.Cb(10),r.kc("ngIf",!i.task),r.Cb(1),r.kc("ngIf",i.task)}}var IP,xP=((IP=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.taskService=t,this.notificationService=n,this.activatedRoute=r,this.activatedRoute.params.subscribe((function(e){e.taskId?i.getTask(e.taskId):i.buildTaskForm()}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"buildTaskForm",value:function(e){this.taskForm=new ip({title:new rp((null==e?void 0:e.title)||"",hd.required),date:new rp((null==e?void 0:e.date)||new Date,hd.required),description:new rp((null==e?void 0:e.description)||"")})}},{key:"getTask",value:function(e){var t=this;this.taskService.getTask(e).subscribe((function(e){t.task=e,t.buildTaskForm(e)}))}},{key:"createTask",value:function(){var e=this;if(this.taskForm.valid){var t=new bP(this.taskForm.value);t.taskListId=this.taskListIdentifier,this.taskService.createTask(t).then((function(){e.buildTaskForm(),e.notificationService.show({type:"success",message:"Task created successfully."})})).catch((function(t){return e.notificationService.show({type:"error",message:t.message})}))}else this.taskForm.markAllAsTouched(),this.notificationService.show({type:"warning",message:"Please fill all the required fields."})}},{key:"updateTask",value:function(){var e=this;if(this.taskForm.valid){var t=this.taskForm.value;this.task.title=t.title,this.task.description=t.description,this.task.date=t.date,this.taskService.updateTask(this.task.identifier,t).then((function(t){e.notificationService.show({type:"success",message:"Task updated successfully."})})).catch((function(t){return e.notificationService.show({type:"error",message:t.message})}))}else this.taskForm.markAllAsTouched(),this.notificationService.show({type:"warning",message:"Please fill all the required fields."})}}]),e}()).\u0275fac=function(e){return new(e||IP)(r.Ob(aP),r.Ob(cP),r.Ob(Ro))},IP.\u0275cmp=r.Ib({type:IP,selectors:[["app-create-task"]],inputs:{taskListIdentifier:"taskListIdentifier"},decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"create-task-container"],["class","title",4,"ngIf"],[1,"p-40"],[3,"formGroup"],[1,"row","d-flex","align-items-center"],[1,"col-md-6"],[1,"label"],["appearance","outline",1,"w-100"],["matInput","","placeholder","e.g. Take the bins out","formControlName","title","autocomplete","off"],["matInput","","formControlName","date","placeholder","Select date","autocomplete","off",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"row","d-flex"],[1,"col-md-12"],["matInput","","placeholder","e.g. Give food before going out","formControlName","description","autocomplete","off"],[1,"form-row"],["type","button","class","btn",3,"click",4,"ngIf"],[1,"title"],["type","button",1,"btn",3,"click"]],template:function(e,t){1&e&&r.yc(0,OP,29,12,"div",0),2&e&&r.kc("ngIf",t.taskForm)},directives:[ve,he,qh,ad,dp,Ef,Nf,Fp,Xf,od,Op,Xv,Jv,If,Wv],styles:[".title[_ngcontent-%COMP%]{color:#999;font-size:24px;text-transform:uppercase;letter-spacing:.05em}.label[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#555;margin-bottom:10px}.btn[_ngcontent-%COMP%]{background-color:#4bc18b;font-size:15px;font-weight:700;line-height:normal;color:#fff;padding:13px 26px}"]}),IP);function AP(e,t){if(1&e&&(r.Tb(0,"span",16),r.zc(1),r.Sb()),2&e){var n=r.ec().$implicit;r.Cb(1),r.Bc("Description: ",n.description,"")}}function DP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-card"),r.Tb(1,"div",4),r.Tb(2,"div",5),r.Tb(3,"span",6),r.bc("click",(function(){r.rc(n);var e=t.$implicit,i=r.ec(2);return i.updateTaskStatus(e,i.taskStatus.Complete)})),r.zc(4,"check"),r.Sb(),r.Tb(5,"span",7),r.bc("click",(function(){r.rc(n);var e=t.$implicit,i=r.ec(2);return i.updateTaskStatus(e,i.taskStatus.InComplete)})),r.zc(6,"clear"),r.Sb(),r.Tb(7,"a",8),r.Tb(8,"span",9),r.zc(9,"edit"),r.Sb(),r.Sb(),r.Tb(10,"span",10),r.bc("click",(function(){r.rc(n);var e=t.$implicit;return r.ec(2).removeTask(e)})),r.zc(11,"delete_outline"),r.Sb(),r.Sb(),r.Tb(12,"div",11),r.Tb(13,"p",12),r.zc(14),r.Sb(),r.yc(15,AP,2,1,"span",13),r.Sb(),r.Tb(16,"div",14),r.Tb(17,"p",15),r.zc(18),r.fc(19,"date"),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit;r.Cb(7),r.lc("routerLink","/tasks/edit/",i.identifier,""),r.Cb(6),r.Fb("mb-5",null==i.description?null:i.description.length),r.Cb(1),r.Ac(i.title),r.Cb(1),r.kc("ngIf",null==i.description?null:i.description.length),r.Cb(3),r.Ac(r.hc(19,6,i.date,"EEEE, MMMM d"))}}function PP(e,t){if(1&e&&(r.Tb(0,"div",2),r.Tb(1,"h2"),r.zc(2,"TO DO"),r.Sb(),r.Tb(3,"div"),r.yc(4,DP,20,9,"mat-card",3),r.Sb(),r.Sb()),2&e){var n=r.ec();r.Cb(4),r.kc("ngForOf",n.toDoTasks)}}function NP(e,t){if(1&e&&(r.Tb(0,"span",16),r.zc(1),r.Sb()),2&e){var n=r.ec().$implicit;r.Cb(1),r.Bc("Description: ",n.description,"")}}function RP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-card",19),r.Tb(1,"div",4),r.Tb(2,"div",5),r.Tb(3,"span",20),r.bc("click",(function(){r.rc(n);var e=t.$implicit,i=r.ec(2);return i.updateTaskStatus(e,i.taskStatus.Complete)})),r.zc(4,"check"),r.Sb(),r.Tb(5,"span",7),r.bc("click",(function(){r.rc(n);var e=t.$implicit,i=r.ec(2);return i.updateTaskStatus(e,i.taskStatus.InComplete)})),r.zc(6,"clear"),r.Sb(),r.Tb(7,"a",8),r.Tb(8,"span",9),r.zc(9,"edit"),r.Sb(),r.Sb(),r.Tb(10,"span",10),r.bc("click",(function(){r.rc(n);var e=t.$implicit;return r.ec(2).removeTask(e)})),r.zc(11,"delete_outline"),r.Sb(),r.Sb(),r.Tb(12,"div",11),r.Tb(13,"p",12),r.zc(14),r.Sb(),r.yc(15,NP,2,1,"span",13),r.Sb(),r.Tb(16,"div",14),r.Tb(17,"p",15),r.zc(18),r.fc(19,"date"),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit;r.Cb(7),r.lc("routerLink","/tasks/edit/",i.identifier,""),r.Cb(6),r.Fb("mb-5",null==i.description?null:i.description.length),r.Cb(1),r.Ac(i.title),r.Cb(1),r.kc("ngIf",null==i.description?null:i.description.length),r.Cb(3),r.Ac(r.hc(19,6,i.date,"EEEE, MMMM d"))}}function jP(e,t){if(1&e&&(r.Tb(0,"div",2),r.Tb(1,"h2"),r.zc(2,"COMPLETE"),r.Sb(),r.Tb(3,"div",17),r.yc(4,RP,20,9,"mat-card",18),r.Sb(),r.Sb()),2&e){var n=r.ec();r.Cb(4),r.kc("ngForOf",n.completedTasks)}}function FP(e,t){if(1&e&&(r.Tb(0,"span",16),r.zc(1),r.Sb()),2&e){var n=r.ec().$implicit;r.Cb(1),r.Bc("Description: ",n.description,"")}}function MP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-card"),r.Tb(1,"div",4),r.Tb(2,"div",22),r.Tb(3,"span",6),r.bc("click",(function(){r.rc(n);var e=t.$implicit,i=r.ec(2);return i.updateTaskStatus(e,i.taskStatus.Complete)})),r.zc(4,"check"),r.Sb(),r.Tb(5,"span",23),r.bc("click",(function(){r.rc(n);var e=t.$implicit,i=r.ec(2);return i.updateTaskStatus(e,i.taskStatus.InComplete)})),r.zc(6,"clear"),r.Sb(),r.Tb(7,"a",8),r.Tb(8,"span",9),r.zc(9,"edit"),r.Sb(),r.Sb(),r.Tb(10,"span",10),r.bc("click",(function(){r.rc(n);var e=t.$implicit;return r.ec(2).removeTask(e)})),r.zc(11,"delete_outline"),r.Sb(),r.Sb(),r.Tb(12,"div",11),r.Tb(13,"p",24),r.zc(14),r.Sb(),r.yc(15,FP,2,1,"span",13),r.Sb(),r.Tb(16,"div",14),r.Tb(17,"p",15),r.zc(18),r.fc(19,"date"),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit;r.Cb(7),r.lc("routerLink","/edit/task/",i.identifier,""),r.Cb(6),r.Fb("mb-5",null==i.description?null:i.description.length),r.kc("title",i.title),r.Cb(1),r.Ac(i.title),r.Cb(1),r.kc("ngIf",null==i.description?null:i.description.length),r.Cb(3),r.Ac(r.hc(19,7,i.date,"EEEE, MMMM d"))}}function LP(e,t){if(1&e&&(r.Tb(0,"div",2),r.Tb(1,"h2"),r.zc(2,"INCOMPLETE"),r.Sb(),r.Tb(3,"div",21),r.yc(4,MP,20,10,"mat-card",3),r.Sb(),r.Sb()),2&e){var n=r.ec();r.Cb(4),r.kc("ngForOf",n.inCompleteTasks)}}var VP,UP,qP,BP=((qP=function(){function e(t,n){_classCallCheck(this,e),this.taskService=t,this.notificationService=n,this.taskStatus=_P}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){e.taskListIdentifier&&this.getTasks()}},{key:"getTasks",value:function(){var e=this;this.taskSubscription=this.taskService.getTasks(this.taskListIdentifier).subscribe((function(t){e.tasks=null==t?void 0:t.map((function(e){return new bP(e)})),e.filterTasks(t)}))}},{key:"filterTasks",value:function(e){this.toDoTasks=e.filter((function(e){return e.status===_P.Todo})),this.completedTasks=e.filter((function(e){return e.status===_P.Complete})),this.inCompleteTasks=e.filter((function(e){return e.status===_P.InComplete}))}},{key:"updateTaskStatus",value:function(e,t){var n=this;e.status!==t&&(e.status=t,this.taskService.updateTaskStatus(e.identifier,e).then((function(){return n.notificationService.show({type:"success",message:"Status updated successfully."})})).catch((function(e){return n.notificationService.show({type:"error",message:e.message})})))}},{key:"removeTask",value:function(e){var t=this;confirm("Are you sure you want to delete the task?")&&this.taskService.removeTask(e.identifier).then((function(){return t.notificationService.show({type:"success",message:"Task removed successfully."})})).catch((function(e){return t.notificationService.show({type:"error",message:e.message})}))}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.taskSubscription)||void 0===e||e.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||qP)(r.Ob(aP),r.Ob(cP))},qP.\u0275cmp=r.Ib({type:qP,selectors:[["app-task-list"]],inputs:{taskListIdentifier:"taskListIdentifier"},features:[r.Ab],decls:4,vars:3,consts:[[1,"",2,"margin","20px 0"],["class","section",4,"ngIf"],[1,"section"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"actions","d-flex"],["matTooltip","Complete","id","check",1,"material-icons",3,"click"],["matTooltip","In Complete","id","clear",1,"material-icons",3,"click"],["matTooltip","Edit",1,"cursor-pointer","edit-icon",3,"routerLink"],["id","edit",1,"material-icons"],["matTooltip","Delete","id","delete",1,"material-icons",3,"click"],[1,"content"],[1,"text-truncate-2"],["style","color: lightgray;",4,"ngIf"],[1,"date-section"],[2,"margin-bottom","0"],[2,"color","lightgray"],[1,"complete"],["class","border-green",4,"ngFor","ngForOf"],[1,"border-green"],["matTooltip","Complete","id","check",1,"material-icons","border-green","color-green",3,"click"],[1,"incomplete"],[1,"actions","d-flex","incomplete"],["matTooltip","In Complete","id","clear",1,"material-icons","border-red","color-red",3,"click"],[1,"text-truncate-2",3,"title"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.yc(1,PP,5,1,"div",1),r.yc(2,jP,5,1,"div",1),r.yc(3,LP,5,1,"div",1),r.Sb()),2&e&&(r.Cb(1),r.kc("ngIf",null==t.toDoTasks?null:t.toDoTasks.length),r.Cb(1),r.kc("ngIf",t.completedTasks&&t.completedTasks.length),r.Cb(1),r.kc("ngIf",null==t.inCompleteTasks?null:t.inCompleteTasks.length))},directives:[ve,de,qh,zy,Ha],pipes:[De],styles:["h2[_ngcontent-%COMP%]{color:#999;font-size:20px;text-transform:uppercase;letter-spacing:.05em}.section[_ngcontent-%COMP%]{margin:40px 0}.mat-card[_ngcontent-%COMP%]{margin:10px 0;box-shadow:none;border:1px solid #d3d3d3}.material-icons[_ngcontent-%COMP%]{margin:0 5px;border:1px solid #d3d3d3;border-radius:50%;padding:5px;font-size:15px;cursor:pointer}.material-icons#clear[_ngcontent-%COMP%]:hover, .material-icons#delete[_ngcontent-%COMP%]:hover{color:red;border-color:red;border-width:2px;font-weight:700}.material-icons#check[_ngcontent-%COMP%]:hover{color:green;border-color:green;border-width:2px;font-weight:700}.material-icons#edit[_ngcontent-%COMP%]:hover{color:#000;border-color:#000;border-width:2px;font-weight:700}.complete[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-color:green}.complete[_ngcontent-%COMP%]   .material-icons#check[_ngcontent-%COMP%]{color:green;border-color:green;border-width:2px;font-weight:700}.incomplete[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-color:red}.incomplete[_ngcontent-%COMP%]   .material-icons#clear[_ngcontent-%COMP%]{color:red;border-color:red;border-width:2px;font-weight:700}.actions[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{margin-right:20px}p[_ngcontent-%COMP%]{margin-bottom:0;line-height:20px}.mat-card[_ngcontent-%COMP%]{padding:12px!important;border-radius:5px}.date-section[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.edit-icon[_ngcontent-%COMP%]{color:#000}"]}),qP),zP=((UP=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.activatedRoute=t,this.taskListService=n,this.activatedRoute.params.subscribe((function(e){r.taskListIdentifier=e.taskListId?e.taskListId:"",r.taskListService.taskListIdentifier.next(r.taskListIdentifier)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||UP)(r.Ob(Ro),r.Ob(uP))},UP.\u0275cmp=r.Ib({type:UP,selectors:[["app-home"]],decls:4,vars:2,consts:[[1,"main-container","p-40"],[1,"mv-40"],[3,"taskListIdentifier"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Pb(2,"app-create-task",2),r.Sb(),r.Pb(3,"app-task-list",2),r.Sb()),2&e&&(r.Cb(2),r.kc("taskListIdentifier",t.taskListIdentifier),r.Cb(1),r.kc("taskListIdentifier",t.taskListIdentifier))},directives:[xP,BP],styles:[""]}),UP),HP=((VP=function(){function e(t,n){_classCallCheck(this,e),this.taskListService=t,this.notificationService=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.buildForm(),this.taskListService.taskListIdentifier.next(void 0)}},{key:"buildForm",value:function(){this.taskListForm=new ip({title:new rp("",hd.required)})}},{key:"createTaskList",value:function(){var e=this;this.taskListForm.valid?this.taskListService.createTaskList(this.taskListForm.value).then((function(t){e.buildForm(),e.notificationService.show({type:"success",message:"Task updated successfully."})})).catch((function(t){return e.notificationService.show({type:"error",message:t.message})})):(this.taskListForm.markAllAsTouched(),this.notificationService.show({type:"warning",message:"Please fill all the required fields."}))}}]),e}()).\u0275fac=function(e){return new(e||VP)(r.Ob(uP),r.Ob(cP))},VP.\u0275cmp=r.Ib({type:VP,selectors:[["app-create-task-list"]],decls:15,vars:1,consts:[[1,"main-container","p-40"],[1,"create-task-container","mv-20"],[1,"title"],[1,"p-40"],[3,"formGroup"],[1,"row","d-flex"],[1,"col-md-12"],[1,"label"],["appearance","outline",1,"w-100"],["matInput","","placeholder","e.g. Life","formControlName","title","autocomplete","off"],[1,"form-row"],["type","button",1,"btn",3,"click"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"h2",2),r.zc(3,"CREATE NEW LIST"),r.Sb(),r.Tb(4,"mat-card",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"mat-label",7),r.zc(9,"Title"),r.Sb(),r.Tb(10,"mat-form-field",8),r.Pb(11,"input",9),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(12,"div",10),r.Tb(13,"button",11),r.bc("click",(function(){return t.createTaskList()})),r.zc(14,"CREATE LIST"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Cb(5),r.kc("formGroup",t.taskListForm))},directives:[qh,ad,dp,Ef,Nf,Fp,Xf,od,Op],styles:[""]}),VP);function GP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-card",4),r.Tb(1,"div",5),r.Tb(2,"div",6),r.Tb(3,"div",7),r.Tb(4,"mat-label",8),r.zc(5,"First Name"),r.Sb(),r.Tb(6,"mat-form-field",9),r.Pb(7,"input",10),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"mat-label",8),r.zc(10,"Last Name"),r.Sb(),r.Tb(11,"mat-form-field",9),r.Pb(12,"input",11),r.Sb(),r.Sb(),r.Sb(),r.Tb(13,"div",6),r.Tb(14,"div",7),r.Tb(15,"mat-label",8),r.zc(16,"Email"),r.Sb(),r.Tb(17,"mat-form-field",9),r.Pb(18,"input",12),r.Sb(),r.Sb(),r.Tb(19,"div",7),r.Tb(20,"mat-label",8),r.zc(21,"Password"),r.Sb(),r.Tb(22,"mat-form-field",9),r.Pb(23,"input",13),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(24,"div",14),r.Tb(25,"button",15),r.bc("click",(function(){return r.rc(n),r.ec().signUp()})),r.zc(26,"CREATE"),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=r.ec();r.Cb(1),r.kc("formGroup",i.singUpForm)}}var WP,KP=((WP=function(){function e(t,n,r){_classCallCheck(this,e),this.authenticationService=t,this.notificationService=n,this.router=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.buildLogInForm()}},{key:"buildLogInForm",value:function(){this.singUpForm=new ip({firstName:new rp("",hd.required),lastName:new rp("",hd.required),email:new rp("",hd.required),password:new rp("",hd.required)})}},{key:"signUp",value:function(){var e=this;if(this.singUpForm.valid){var t=this.singUpForm.value,n=new wP({firstName:t.firstName,lastName:t.lastName,email:t.email});this.authenticationService.singUp(n,t.password).then((function(t){e.router.navigate(["/tasks"]),e.notificationService.show({type:"success",message:"Account created successfully."})}),(function(t){return e.notificationService.show({type:"error",message:t.message})}))}else this.singUpForm.markAllAsTouched(),this.notificationService.show({type:"warning",message:"Please fill all the required fields."})}}]),e}()).\u0275fac=function(e){return new(e||WP)(r.Ob(iP),r.Ob(cP),r.Ob(za))},WP.\u0275cmp=r.Ib({type:WP,selectors:[["app-singup"]],decls:5,vars:1,consts:[[1,"main-container","p-40"],[1,"create-task-container"],[1,"title"],["class","p-40",4,"ngIf"],[1,"p-40"],[3,"formGroup"],[1,"row","d-flex","align-items-center"],[1,"col-md-6"],[1,"label"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName","autocomplete","off"],["matInput","","formControlName","lastName","autocomplete","off"],["matInput","","formControlName","email","autocomplete","off"],["type","password","matInput","","formControlName","password","autocomplete","off"],[1,"form-row"],["type","button",1,"btn",3,"click"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"h2",2),r.zc(3,"CREATE NEW ACCOUNT"),r.Sb(),r.yc(4,GP,27,1,"mat-card",3),r.Sb(),r.Sb()),2&e&&(r.Cb(4),r.kc("ngIf",t.singUpForm))},directives:[ve,qh,ad,dp,Ef,Nf,Fp,Xf,od,Op],styles:[""]}),WP);function QP(e,t){if(1&e){var n=r.Ub();r.Tb(0,"mat-card",4),r.Tb(1,"div",5),r.Tb(2,"div",6),r.Tb(3,"div",7),r.Tb(4,"mat-label",8),r.zc(5,"Email"),r.Sb(),r.Tb(6,"mat-form-field",9),r.Pb(7,"input",10),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"mat-label",8),r.zc(10,"Password"),r.Sb(),r.Tb(11,"mat-form-field",9),r.Pb(12,"input",11),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(13,"div",12),r.Tb(14,"button",13),r.bc("click",(function(){return r.rc(n),r.ec().logIn()})),r.zc(15,"Log In"),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=r.ec();r.Cb(1),r.kc("formGroup",i.logInForm)}}var YP,XP,ZP,JP,$P=((XP=function(){function e(t,n,r){_classCallCheck(this,e),this.authenticationService=t,this.notificationService=n,this.router=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.buildLogInForm()}},{key:"buildLogInForm",value:function(){this.logInForm=new ip({email:new rp(""),password:new rp("")})}},{key:"logIn",value:function(){var e=this;this.authenticationService.signIn(this.logInForm.value.email,this.logInForm.value.password).then((function(){e.router.navigate(["../"])})).catch((function(t){return e.notificationService.show({type:"error",message:t.message})}))}}]),e}()).\u0275fac=function(e){return new(e||XP)(r.Ob(iP),r.Ob(cP),r.Ob(za))},XP.\u0275cmp=r.Ib({type:XP,selectors:[["app-login"]],decls:5,vars:1,consts:[[1,"main-container","p-40"],[1,"create-task-container"],[1,"title"],["class","p-40",4,"ngIf"],[1,"p-40"],[3,"formGroup"],[1,"row","d-flex","align-items-center"],[1,"col-md-6"],[1,"label"],["appearance","outline",1,"w-100"],["matInput","","placeholder","xyz@gmail.com","formControlName","email","autocomplete","off"],["matInput","","type","password","formControlName","password","placeholder","Password","autocomplete","off"],[1,"form-row"],["type","button",1,"btn",3,"click"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"h2",2),r.zc(3,"SING IN"),r.Sb(),r.yc(4,QP,16,1,"mat-card",3),r.Sb(),r.Sb()),2&e&&(r.Cb(4),r.kc("ngIf",t.logInForm))},directives:[ve,qh,ad,dp,Ef,Nf,Fp,Xf,od,Op],styles:[""]}),XP),eN=((YP=function(){function e(t,n){_classCallCheck(this,e),this.authService=t,this.router=n}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=this;return this.authService.user$.pipe(or(1),Object(Pt.a)((function(e){return!!e})),Object(wi.a)((function(e){e||(console.log("Access denied"),n.router.navigate(["/login"]))})))}}]),e}()).\u0275fac=function(e){return new(e||YP)(r.Xb(iP),r.Xb(za))},YP.\u0275prov=r.Kb({token:YP,factory:YP.\u0275fac,providedIn:"root"}),YP),tN=[{path:"tasks",component:zP,canActivate:[eN]},{path:"tasks/edit/:taskId",component:xP,canActivate:[eN]},{path:"lists/:taskListId",component:zP,canActivate:[eN]},{path:"new-list",component:HP,canActivate:[eN]},{path:"login",component:$P},{path:"signup",component:KP},{path:"**",redirectTo:"tasks"}],nN=((JP=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:JP}),JP.\u0275inj=r.Lb({factory:function(e){return new(e||JP)},imports:[[us.forRoot(tN,{useHash:!0})],us]}),JP),rN=((ZP=function e(){_classCallCheck(this,e),this.title="galli-list"}).\u0275fac=function(e){return new(e||ZP)},ZP.\u0275cmp=r.Ib({type:ZP,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"body-container"],[1,"w-100"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Pb(1,"app-nav-bar"),r.Tb(2,"div",1),r.Pb(3,"router-outlet"),r.Sb(),r.Sb())},directives:[mP,Za],styles:[""]}),ZP),iN=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new oN(e,this.observables,this.project))}}]),e}(),oN=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),(o=t.call(this,e)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var c=r[u];o.add(Object(Bt.a)(_assertThisInitialized(o),c,c,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(qt.a),aN=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new sN(e,this.predicate))}}]),e}(),sN=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).predicate=r,i.skipping=!0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(Ft.a);function uN(e){return null==e}function cN(e){return"function"==typeof e.set}function lN(e,t){return cN(t)?t:e.ref(t)}function hN(e,t){if("string"==typeof e)return t.stringCase();if(cN(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function fN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ut.a;return new xt.a((function(i){var o;return o=e[n](t,(function(e,t){r.schedule((function(){i.next({snapshot:e,prevKey:t})})),"once"===n&&r.schedule((function(){return i.complete()}))}),(function(e){r.schedule((function(){return i.error(e)}))})),"on"===n?{unsubscribe:function(){null!=o&&e.off(t,o)}}:{unsubscribe:function(){}}})).pipe(Object(Pt.a)((function(e){var n=e.snapshot,r=e.prevKey,i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}})),Object(ty.a)())}function dN(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function pN(e,t){var n=t.payload,r=t.prevKey,i=t.key,o=dN(e,i),a=function(e,t){if(uN(t))return 0;var n=dN(e,t);return-1===n?e.length:n+1}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){var s=null;t.payload.forEach((function(t){var n={payload:t,type:"value",prevKey:s,key:t.key};return s=t.key,e=[].concat(_toConsumableArray(e),[n]),!1}))}return e;case"child_added":if(o>-1){var u=e[o-1];(u&&u.key||null)!==r&&(e=e.filter((function(e){return e.payload.key!==n.key}))).splice(a,0,t)}else{if(null==r)return[t].concat(_toConsumableArray(e));(e=e.slice()).splice(a,0,t)}return e;case"child_removed":return e.filter((function(e){return e.payload.key!==n.key}));case"child_changed":return e.map((function(e){return e.payload.key===i?t:e}));case"child_moved":if(o>-1){var c=e.splice(o,1)[0];return(e=e.slice()).splice(a,0,c),e}return e;default:return e}}function vN(e){return(uN(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function yN(e,t,n){return function(e,t,n){return fN(e,"value","once",n).pipe(hn((function(r){var i=[Object(It.a)(r)];return t.forEach((function(t){return i.push(fN(e,t,"on",n))})),Object(Rt.a).apply(void 0,i).pipe(yi(pN,[]))})),Mt())}(e,t=vN(t),n)}function mN(e,t,n){var r=(t=vN(t)).map((function(t){return fN(e,t,"on",n)}));return Object(Rt.a).apply(void 0,_toConsumableArray(r))}function gN(e,t){return function(n,r){return hN(n,{stringCase:function(){return e.child(n)[t](r)},firebaseCase:function(){return n[t](r)},snapshotCase:function(){return n.ref[t](r)}})}}function _N(e,t){return function(){return fN(e,"value","on",t)}}n("6Uf2");var bN,wN,kN,CN=new r.q("angularfire2.realtimeDatabaseURL"),SN=new r.q("angularfire2.database.use-emulator"),EN=((kN=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this.schedulers=new rm.d(o),this.keepUnstableUntilFirst=Object(rm.h)(this.schedulers);var u=a,c=Object(rm.g)(t,o,n);!nm.a.auth&&s&&Object(rm.j)(),this.database=Object(rm.f)("".concat(c.name,".database.").concat(r),"AngularFireDatabase",c,(function(){var e=o.runOutsideAngular((function(){return c.database(r||void 0)}));return u&&e.useEmulator.apply(e,_toConsumableArray(u)),e}),[u])}return _createClass(e,[{key:"list",value:function(e,t){var n=this,r=this.schedulers.ngZone.runOutsideAngular((function(){return lN(n.database,e)})),i=r;return t&&(i=t(r)),function(e,t){var n,r=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run((function(){return e.ref}));return{query:e,update:gN(i,"update"),set:gN(i,"set"),push:function(e){return i.push(e)},remove:(n=i,function(e){return e?hN(e,{stringCase:function(){return n.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return yN(e,n,r).pipe(t.keepUnstableUntilFirst)},stateChanges:function(n){return mN(e,n,r).pipe(t.keepUnstableUntilFirst)},auditTrail:function(n){return function(e,t,n){return function(e,t,n){return function(e,t){return fN(e,"value","on",t).pipe(Object(Pt.a)((function(e){var t;return e.payload.forEach((function(e){return t=e.key,!1})),{data:e,lastKeyToLoad:t}})))}(e,n).pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new iN(t,n))}}(t),Object(Pt.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=n.lastKeyToLoad,o=r.map((function(e){return e.key}));return{actions:r,lastKeyToLoad:i,loadedKeys:o}})),(r=function(e){return-1===e.loadedKeys.indexOf(e.lastKeyToLoad)},function(e){return e.lift(new aN(r))}),Object(Pt.a)((function(e){return e.actions})));var r}(e,mN(e,t).pipe(yi((function(e,t){return[].concat(_toConsumableArray(e),[t])}),[])),n)}(e,n,r).pipe(t.keepUnstableUntilFirst)},valueChanges:function(n,i){return yN(e,n,r).pipe(Object(Pt.a)((function(e){return e.map((function(e){return i&&i.idField?Object.assign(Object.assign({},e.payload.val()),_defineProperty({},i.idField,e.key)):e.payload.val()}))})),t.keepUnstableUntilFirst)}}}(i,this)}},{key:"object",value:function(e){var t,n,r=this,i=this.schedulers.ngZone.runOutsideAngular((function(){return lN(r.database,e)}));return n=this,{query:t=i,snapshotChanges:function(){return _N(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return _N(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(Pt.a)((function(e){return e.payload.exists()?e.payload.val():null})))}}}},{key:"createPushId",value:function(){var e=this;return this.schedulers.ngZone.runOutsideAngular((function(){return e.database.ref()})).push().key}}]),e}()).\u0275fac=function(e){return new(e||kN)(r.Xb(rm.c),r.Xb(rm.b,8),r.Xb(CN,8),r.Xb(r.B),r.Xb(r.z),r.Xb(SN,8),r.Xb(OD,8))},kN.\u0275prov=Object(r.Kb)({factory:function(){return new kN(Object(r.Xb)(rm.c),Object(r.Xb)(rm.b,8),Object(r.Xb)(CN,8),Object(r.Xb)(r.B),Object(r.Xb)(r.z),Object(r.Xb)(SN,8),Object(r.Xb)(OD,8))},token:kN,providedIn:"any"}),kN),TN=((wN=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:wN}),wN.\u0275inj=r.Lb({factory:function(e){return new(e||wN)},providers:[EN]}),wN),ON=((bN=function e(){_classCallCheck(this,e)}).\u0275mod=r.Mb({type:bN,bootstrap:[rN]}),bN.\u0275inj=r.Lb({factory:function(e){return new(e||bN)},providers:[],imports:[[kt,zc,nN,gP,Ap,Dp,tm,rm.a,nP,TN,rm.a.initializeApp(i)]]}),bN);Object(r.T)(),bt().bootstrapModule(ON).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);